function Ej(n,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const c=Object.getOwnPropertyDescriptor(i,a);c&&Object.defineProperty(n,a,c.get?c:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function bf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Tj(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),r}var pd={exports:{}},Ni={},md={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function Rj(){if(Jm)return ze;Jm=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function y(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function C(A,W,ce){this.props=A,this.context=W,this.refs=b,this.updater=ce||_}C.prototype.isReactComponent={},C.prototype.setState=function(A,W){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,W,"setState")},C.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=C.prototype;function E(A,W,ce){this.props=A,this.context=W,this.refs=b,this.updater=ce||_}var R=E.prototype=new k;R.constructor=E,j(R,C.prototype),R.isPureReactComponent=!0;var D=Array.isArray,U=Object.prototype.hasOwnProperty,H={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function F(A,W,ce){var ue,Oe={},Ce=null,G=null;if(W!=null)for(ue in W.ref!==void 0&&(G=W.ref),W.key!==void 0&&(Ce=""+W.key),W)U.call(W,ue)&&!O.hasOwnProperty(ue)&&(Oe[ue]=W[ue]);var he=arguments.length-2;if(he===1)Oe.children=ce;else if(1<he){for(var V=Array(he),ee=0;ee<he;ee++)V[ee]=arguments[ee+2];Oe.children=V}if(A&&A.defaultProps)for(ue in he=A.defaultProps,he)Oe[ue]===void 0&&(Oe[ue]=he[ue]);return{$$typeof:n,type:A,key:Ce,ref:G,props:Oe,_owner:H.current}}function re(A,W){return{$$typeof:n,type:A.type,key:W,ref:A.ref,props:A.props,_owner:A._owner}}function Q(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function se(A){var W={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ce){return W[ce]})}var oe=/\/+/g;function fe(A,W){return typeof A=="object"&&A!==null&&A.key!=null?se(""+A.key):W.toString(36)}function ae(A,W,ce,ue,Oe){var Ce=typeof A;(Ce==="undefined"||Ce==="boolean")&&(A=null);var G=!1;if(A===null)G=!0;else switch(Ce){case"string":case"number":G=!0;break;case"object":switch(A.$$typeof){case n:case t:G=!0}}if(G)return G=A,Oe=Oe(G),A=ue===""?"."+fe(G,0):ue,D(Oe)?(ce="",A!=null&&(ce=A.replace(oe,"$&/")+"/"),ae(Oe,W,ce,"",function(ee){return ee})):Oe!=null&&(Q(Oe)&&(Oe=re(Oe,ce+(!Oe.key||G&&G.key===Oe.key?"":(""+Oe.key).replace(oe,"$&/")+"/")+A)),W.push(Oe)),1;if(G=0,ue=ue===""?".":ue+":",D(A))for(var he=0;he<A.length;he++){Ce=A[he];var V=ue+fe(Ce,he);G+=ae(Ce,W,ce,V,Oe)}else if(V=y(A),typeof V=="function")for(A=V.call(A),he=0;!(Ce=A.next()).done;)Ce=Ce.value,V=ue+fe(Ce,he++),G+=ae(Ce,W,ce,V,Oe);else if(Ce==="object")throw W=String(A),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return G}function q(A,W,ce){if(A==null)return A;var ue=[],Oe=0;return ae(A,ue,"","",function(Ce){return W.call(ce,Ce,Oe++)}),ue}function J(A){if(A._status===-1){var W=A._result;W=W(),W.then(function(ce){(A._status===0||A._status===-1)&&(A._status=1,A._result=ce)},function(ce){(A._status===0||A._status===-1)&&(A._status=2,A._result=ce)}),A._status===-1&&(A._status=0,A._result=W)}if(A._status===1)return A._result.default;throw A._result}var ne={current:null},N={transition:null},z={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:N,ReactCurrentOwner:H};function K(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:q,forEach:function(A,W,ce){q(A,function(){W.apply(this,arguments)},ce)},count:function(A){var W=0;return q(A,function(){W++}),W},toArray:function(A){return q(A,function(W){return W})||[]},only:function(A){if(!Q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ze.Component=C,ze.Fragment=r,ze.Profiler=a,ze.PureComponent=E,ze.StrictMode=i,ze.Suspense=p,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,ze.act=K,ze.cloneElement=function(A,W,ce){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var ue=j({},A.props),Oe=A.key,Ce=A.ref,G=A._owner;if(W!=null){if(W.ref!==void 0&&(Ce=W.ref,G=H.current),W.key!==void 0&&(Oe=""+W.key),A.type&&A.type.defaultProps)var he=A.type.defaultProps;for(V in W)U.call(W,V)&&!O.hasOwnProperty(V)&&(ue[V]=W[V]===void 0&&he!==void 0?he[V]:W[V])}var V=arguments.length-2;if(V===1)ue.children=ce;else if(1<V){he=Array(V);for(var ee=0;ee<V;ee++)he[ee]=arguments[ee+2];ue.children=he}return{$$typeof:n,type:A.type,key:Oe,ref:Ce,props:ue,_owner:G}},ze.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},ze.createElement=F,ze.createFactory=function(A){var W=F.bind(null,A);return W.type=A,W},ze.createRef=function(){return{current:null}},ze.forwardRef=function(A){return{$$typeof:f,render:A}},ze.isValidElement=Q,ze.lazy=function(A){return{$$typeof:m,_payload:{_status:-1,_result:A},_init:J}},ze.memo=function(A,W){return{$$typeof:g,type:A,compare:W===void 0?null:W}},ze.startTransition=function(A){var W=N.transition;N.transition={};try{A()}finally{N.transition=W}},ze.unstable_act=K,ze.useCallback=function(A,W){return ne.current.useCallback(A,W)},ze.useContext=function(A){return ne.current.useContext(A)},ze.useDebugValue=function(){},ze.useDeferredValue=function(A){return ne.current.useDeferredValue(A)},ze.useEffect=function(A,W){return ne.current.useEffect(A,W)},ze.useId=function(){return ne.current.useId()},ze.useImperativeHandle=function(A,W,ce){return ne.current.useImperativeHandle(A,W,ce)},ze.useInsertionEffect=function(A,W){return ne.current.useInsertionEffect(A,W)},ze.useLayoutEffect=function(A,W){return ne.current.useLayoutEffect(A,W)},ze.useMemo=function(A,W){return ne.current.useMemo(A,W)},ze.useReducer=function(A,W,ce){return ne.current.useReducer(A,W,ce)},ze.useRef=function(A){return ne.current.useRef(A)},ze.useState=function(A){return ne.current.useState(A)},ze.useSyncExternalStore=function(A,W,ce){return ne.current.useSyncExternalStore(A,W,ce)},ze.useTransition=function(){return ne.current.useTransition()},ze.version="18.3.1",ze}var Ym;function jf(){return Ym||(Ym=1,md.exports=Rj()),md.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function Pj(){if(Xm)return Ni;Xm=1;var n=jf(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,g){var m,x={},y=null,_=null;g!==void 0&&(y=""+g),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(_=p.ref);for(m in p)i.call(p,m)&&!c.hasOwnProperty(m)&&(x[m]=p[m]);if(f&&f.defaultProps)for(m in p=f.defaultProps,p)x[m]===void 0&&(x[m]=p[m]);return{$$typeof:t,type:f,key:y,ref:_,props:x,_owner:a.current}}return Ni.Fragment=r,Ni.jsx=u,Ni.jsxs=u,Ni}var Zm;function Aj(){return Zm||(Zm=1,pd.exports=Pj()),pd.exports}var o=Aj(),hl={},gd={exports:{}},Bt={},vd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function Oj(){return eg||(eg=1,(function(n){function t(N,z){var K=N.length;N.push(z);e:for(;0<K;){var A=K-1>>>1,W=N[A];if(0<a(W,z))N[A]=z,N[K]=W,K=A;else break e}}function r(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var z=N[0],K=N.pop();if(K!==z){N[0]=K;e:for(var A=0,W=N.length,ce=W>>>1;A<ce;){var ue=2*(A+1)-1,Oe=N[ue],Ce=ue+1,G=N[Ce];if(0>a(Oe,K))Ce<W&&0>a(G,Oe)?(N[A]=G,N[Ce]=K,A=Ce):(N[A]=Oe,N[ue]=K,A=ue);else if(Ce<W&&0>a(G,K))N[A]=G,N[Ce]=K,A=Ce;else break e}}return z}function a(N,z){var K=N.sortIndex-z.sortIndex;return K!==0?K:N.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var p=[],g=[],m=1,x=null,y=3,_=!1,j=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(N){for(var z=r(g);z!==null;){if(z.callback===null)i(g);else if(z.startTime<=N)i(g),z.sortIndex=z.expirationTime,t(p,z);else break;z=r(g)}}function D(N){if(b=!1,R(N),!j)if(r(p)!==null)j=!0,J(U);else{var z=r(g);z!==null&&ne(D,z.startTime-N)}}function U(N,z){j=!1,b&&(b=!1,k(F),F=-1),_=!0;var K=y;try{for(R(z),x=r(p);x!==null&&(!(x.expirationTime>z)||N&&!se());){var A=x.callback;if(typeof A=="function"){x.callback=null,y=x.priorityLevel;var W=A(x.expirationTime<=z);z=n.unstable_now(),typeof W=="function"?x.callback=W:x===r(p)&&i(p),R(z)}else i(p);x=r(p)}if(x!==null)var ce=!0;else{var ue=r(g);ue!==null&&ne(D,ue.startTime-z),ce=!1}return ce}finally{x=null,y=K,_=!1}}var H=!1,O=null,F=-1,re=5,Q=-1;function se(){return!(n.unstable_now()-Q<re)}function oe(){if(O!==null){var N=n.unstable_now();Q=N;var z=!0;try{z=O(!0,N)}finally{z?fe():(H=!1,O=null)}}else H=!1}var fe;if(typeof E=="function")fe=function(){E(oe)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,q=ae.port2;ae.port1.onmessage=oe,fe=function(){q.postMessage(null)}}else fe=function(){C(oe,0)};function J(N){O=N,H||(H=!0,fe())}function ne(N,z){F=C(function(){N(n.unstable_now())},z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){j||_||(j=!0,J(U))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return r(p)},n.unstable_next=function(N){switch(y){case 1:case 2:case 3:var z=3;break;default:z=y}var K=y;y=z;try{return N()}finally{y=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var K=y;y=N;try{return z()}finally{y=K}},n.unstable_scheduleCallback=function(N,z,K){var A=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?A+K:A):K=A,N){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,N={id:m++,callback:z,priorityLevel:N,startTime:K,expirationTime:W,sortIndex:-1},K>A?(N.sortIndex=K,t(g,N),r(p)===null&&N===r(g)&&(b?(k(F),F=-1):b=!0,ne(D,K-A))):(N.sortIndex=W,t(p,N),j||_||(j=!0,J(U))),N},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(N){var z=y;return function(){var K=y;y=z;try{return N.apply(this,arguments)}finally{y=K}}}})(xd)),xd}var tg;function Ij(){return tg||(tg=1,vd.exports=Oj()),vd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function Dj(){if(ng)return Bt;ng=1;var n=jf(),t=Ij();function r(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(e,s){u(e,s),u(e+"Capture",s)}function u(e,s){for(a[e]=s,e=0;e<s.length;e++)i.add(s[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},x={};function y(e){return p.call(x,e)?!0:p.call(m,e)?!1:g.test(e)?x[e]=!0:(m[e]=!0,!1)}function _(e,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,s,l,d){if(s===null||typeof s>"u"||_(e,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(e,s,l,d,h,v,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=e,this.type=s,this.sanitizeURL=v,this.removeEmptyString=S}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];C[s]=new b(s,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(k,E);C[s]=new b(s,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(k,E);C[s]=new b(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(k,E);C[s]=new b(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function R(e,s,l,d){var h=C.hasOwnProperty(s)?C[s]:null;(h!==null?h.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(j(s,l,h,d)&&(l=null),d||h===null?y(s)&&(l===null?e.removeAttribute(s):e.setAttribute(s,""+l)):h.mustUseProperty?e[h.propertyName]=l===null?h.type===3?!1:"":l:(s=h.attributeName,d=h.attributeNamespace,l===null?e.removeAttribute(s):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,d?e.setAttributeNS(d,s,l):e.setAttribute(s,l))))}var D=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),H=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),se=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),N=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,A;function W(e){if(A===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);A=s&&s[1]||""}return`
`+A+e}var ce=!1;function ue(e,s){if(!e||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var d=B}Reflect.construct(e,[],s)}else{try{s.call()}catch(B){d=B}e.call(s.prototype)}else{try{throw Error()}catch(B){d=B}e()}}catch(B){if(B&&d&&typeof B.stack=="string"){for(var h=B.stack.split(`
`),v=d.stack.split(`
`),S=h.length-1,T=v.length-1;1<=S&&0<=T&&h[S]!==v[T];)T--;for(;1<=S&&0<=T;S--,T--)if(h[S]!==v[T]){if(S!==1||T!==1)do if(S--,T--,0>T||h[S]!==v[T]){var P=`
`+h[S].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=S&&0<=T);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?W(e):""}function Oe(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function Ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case H:return"Portal";case re:return"Profiler";case F:return"StrictMode";case fe:return"Suspense";case ae:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case se:return(e.displayName||"Context")+".Consumer";case Q:return(e._context.displayName||"Context")+".Provider";case oe:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return s=e.displayName||null,s!==null?s:Ce(e.type)||"Memo";case J:s=e._payload,e=e._init;try{return Ce(e(s))}catch{}}return null}function G(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(s);case 8:return s===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ee(e){var s=V(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),d=""+e[s];if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,v=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return h.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Se(e){e._valueTracker||(e._valueTracker=ee(e))}function L(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return e&&(d=V(e)?e.checked?"true":"false":e.value),e=d,e!==l?(s.setValue(e),!0):!1}function Ne(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function je(e,s){var l=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function We(e,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=he(s.value!=null?s.value:l),e._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function lt(e,s){s=s.checked,s!=null&&R(e,"checked",s,!1)}function Ye(e,s){lt(e,s);var l=he(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?Kn(e,s.type,l):s.hasOwnProperty("defaultValue")&&Kn(e,s.type,he(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function bt(e,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,l||s===e.value||(e.value=s),e.defaultValue=s}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function Kn(e,s,l){(s!=="number"||Ne(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var An=Array.isArray;function Kt(e,s,l,d){if(e=e.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<e.length;l++)h=s.hasOwnProperty("$"+e[l].value),e[l].selected!==h&&(e[l].selected=h),h&&d&&(e[l].defaultSelected=!0)}else{for(l=""+he(l),s=null,h=0;h<e.length;h++){if(e[h].value===l){e[h].selected=!0,d&&(e[h].defaultSelected=!0);return}s!==null||e[h].disabled||(s=e[h])}s!==null&&(s.selected=!0)}}function Sc(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ih(e,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(An(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}e._wrapperState={initialValue:he(l)}}function ah(e,s){var l=he(s.value),d=he(s.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),s.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),d!=null&&(e.defaultValue=""+d)}function lh(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function ch(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cc(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?ch(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oa,uh=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,h){MSApp.execUnsafeLocalFunction(function(){return e(s,l,d,h)})}:e})(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=oa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function Bo(e,s){if(s){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=s;return}}e.textContent=s}var Vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A0=["Webkit","ms","Moz","O"];Object.keys(Vo).forEach(function(e){A0.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),Vo[s]=Vo[e]})});function dh(e,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Vo.hasOwnProperty(e)&&Vo[e]?(""+s).trim():s+"px"}function fh(e,s){e=e.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,h=dh(l,s[l],d);l==="float"&&(l="cssFloat"),d?e.setProperty(l,h):e[l]=h}}var O0=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nc(e,s){if(s){if(O0[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function kc(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=null;function Tc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rc=null,As=null,Os=null;function hh(e){if(e=di(e)){if(typeof Rc!="function")throw Error(r(280));var s=e.stateNode;s&&(s=Ea(s),Rc(e.stateNode,e.type,s))}}function ph(e){As?Os?Os.push(e):Os=[e]:As=e}function mh(){if(As){var e=As,s=Os;if(Os=As=null,hh(e),s)for(e=0;e<s.length;e++)hh(s[e])}}function gh(e,s){return e(s)}function vh(){}var Pc=!1;function xh(e,s,l){if(Pc)return e(s,l);Pc=!0;try{return gh(e,s,l)}finally{Pc=!1,(As!==null||Os!==null)&&(vh(),mh())}}function Wo(e,s){var l=e.stateNode;if(l===null)return null;var d=Ea(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ac=!1;if(f)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){Ac=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{Ac=!1}function I0(e,s,l,d,h,v,S,T,P){var B=Array.prototype.slice.call(arguments,3);try{s.apply(l,B)}catch(X){this.onError(X)}}var Ko=!1,ia=null,aa=!1,Oc=null,D0={onError:function(e){Ko=!0,ia=e}};function M0(e,s,l,d,h,v,S,T,P){Ko=!1,ia=null,I0.apply(D0,arguments)}function L0(e,s,l,d,h,v,S,T,P){if(M0.apply(this,arguments),Ko){if(Ko){var B=ia;Ko=!1,ia=null}else throw Error(r(198));aa||(aa=!0,Oc=B)}}function ts(e){var s=e,l=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(l=s.return),e=s.return;while(e)}return s.tag===3?l:null}function yh(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function wh(e){if(ts(e)!==e)throw Error(r(188))}function $0(e){var s=e.alternate;if(!s){if(s=ts(e),s===null)throw Error(r(188));return s!==e?null:e}for(var l=e,d=s;;){var h=l.return;if(h===null)break;var v=h.alternate;if(v===null){if(d=h.return,d!==null){l=d;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===l)return wh(h),e;if(v===d)return wh(h),s;v=v.sibling}throw Error(r(188))}if(l.return!==d.return)l=h,d=v;else{for(var S=!1,T=h.child;T;){if(T===l){S=!0,l=h,d=v;break}if(T===d){S=!0,d=h,l=v;break}T=T.sibling}if(!S){for(T=v.child;T;){if(T===l){S=!0,l=v,d=h;break}if(T===d){S=!0,d=v,l=h;break}T=T.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?e:s}function bh(e){return e=$0(e),e!==null?jh(e):null}function jh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=jh(e);if(s!==null)return s;e=e.sibling}return null}var _h=t.unstable_scheduleCallback,Sh=t.unstable_cancelCallback,F0=t.unstable_shouldYield,U0=t.unstable_requestPaint,it=t.unstable_now,z0=t.unstable_getCurrentPriorityLevel,Ic=t.unstable_ImmediatePriority,Ch=t.unstable_UserBlockingPriority,la=t.unstable_NormalPriority,B0=t.unstable_LowPriority,Nh=t.unstable_IdlePriority,ca=null,On=null;function V0(e){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(ca,e,void 0,(e.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:K0,W0=Math.log,H0=Math.LN2;function K0(e){return e>>>=0,e===0?32:31-(W0(e)/H0|0)|0}var ua=64,da=4194304;function qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fa(e,s){var l=e.pendingLanes;if(l===0)return 0;var d=0,h=e.suspendedLanes,v=e.pingedLanes,S=l&268435455;if(S!==0){var T=S&~h;T!==0?d=qo(T):(v&=S,v!==0&&(d=qo(v)))}else S=l&~h,S!==0?d=qo(S):v!==0&&(d=qo(v));if(d===0)return 0;if(s!==0&&s!==d&&(s&h)===0&&(h=d&-d,v=s&-s,h>=v||h===16&&(v&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=d;0<s;)l=31-mn(s),h=1<<l,d|=e[l],s&=~h;return d}function q0(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G0(e,s){for(var l=e.suspendedLanes,d=e.pingedLanes,h=e.expirationTimes,v=e.pendingLanes;0<v;){var S=31-mn(v),T=1<<S,P=h[S];P===-1?((T&l)===0||(T&d)!==0)&&(h[S]=q0(T,s)):P<=s&&(e.expiredLanes|=T),v&=~T}}function Dc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kh(){var e=ua;return ua<<=1,(ua&4194240)===0&&(ua=64),e}function Mc(e){for(var s=[],l=0;31>l;l++)s.push(e);return s}function Go(e,s,l){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-mn(s),e[s]=l}function Q0(e,s){var l=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<l;){var h=31-mn(l),v=1<<h;s[h]=0,d[h]=-1,e[h]=-1,l&=~v}}function Lc(e,s){var l=e.entangledLanes|=s;for(e=e.entanglements;l;){var d=31-mn(l),h=1<<d;h&s|e[d]&s&&(e[d]|=s),l&=~h}}var Je=0;function Eh(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Th,$c,Rh,Ph,Ah,Fc=!1,ha=[],cr=null,ur=null,dr=null,Qo=new Map,Jo=new Map,fr=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oh(e,s){switch(e){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Qo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(s.pointerId)}}function Yo(e,s,l,d,h,v){return e===null||e.nativeEvent!==v?(e={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[h]},s!==null&&(s=di(s),s!==null&&$c(s)),e):(e.eventSystemFlags|=d,s=e.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),e)}function Y0(e,s,l,d,h){switch(s){case"focusin":return cr=Yo(cr,e,s,l,d,h),!0;case"dragenter":return ur=Yo(ur,e,s,l,d,h),!0;case"mouseover":return dr=Yo(dr,e,s,l,d,h),!0;case"pointerover":var v=h.pointerId;return Qo.set(v,Yo(Qo.get(v)||null,e,s,l,d,h)),!0;case"gotpointercapture":return v=h.pointerId,Jo.set(v,Yo(Jo.get(v)||null,e,s,l,d,h)),!0}return!1}function Ih(e){var s=ns(e.target);if(s!==null){var l=ts(s);if(l!==null){if(s=l.tag,s===13){if(s=yh(l),s!==null){e.blockedOn=s,Ah(e.priority,function(){Rh(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pa(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var l=zc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var d=new l.constructor(l.type,l);Ec=d,l.target.dispatchEvent(d),Ec=null}else return s=di(l),s!==null&&$c(s),e.blockedOn=l,!1;s.shift()}return!0}function Dh(e,s,l){pa(e)&&l.delete(s)}function X0(){Fc=!1,cr!==null&&pa(cr)&&(cr=null),ur!==null&&pa(ur)&&(ur=null),dr!==null&&pa(dr)&&(dr=null),Qo.forEach(Dh),Jo.forEach(Dh)}function Xo(e,s){e.blockedOn===s&&(e.blockedOn=null,Fc||(Fc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,X0)))}function Zo(e){function s(h){return Xo(h,e)}if(0<ha.length){Xo(ha[0],e);for(var l=1;l<ha.length;l++){var d=ha[l];d.blockedOn===e&&(d.blockedOn=null)}}for(cr!==null&&Xo(cr,e),ur!==null&&Xo(ur,e),dr!==null&&Xo(dr,e),Qo.forEach(s),Jo.forEach(s),l=0;l<fr.length;l++)d=fr[l],d.blockedOn===e&&(d.blockedOn=null);for(;0<fr.length&&(l=fr[0],l.blockedOn===null);)Ih(l),l.blockedOn===null&&fr.shift()}var Is=D.ReactCurrentBatchConfig,ma=!0;function Z0(e,s,l,d){var h=Je,v=Is.transition;Is.transition=null;try{Je=1,Uc(e,s,l,d)}finally{Je=h,Is.transition=v}}function eb(e,s,l,d){var h=Je,v=Is.transition;Is.transition=null;try{Je=4,Uc(e,s,l,d)}finally{Je=h,Is.transition=v}}function Uc(e,s,l,d){if(ma){var h=zc(e,s,l,d);if(h===null)su(e,s,d,ga,l),Oh(e,d);else if(Y0(h,e,s,l,d))d.stopPropagation();else if(Oh(e,d),s&4&&-1<J0.indexOf(e)){for(;h!==null;){var v=di(h);if(v!==null&&Th(v),v=zc(e,s,l,d),v===null&&su(e,s,d,ga,l),v===h)break;h=v}h!==null&&d.stopPropagation()}else su(e,s,d,null,l)}}var ga=null;function zc(e,s,l,d){if(ga=null,e=Tc(d),e=ns(e),e!==null)if(s=ts(e),s===null)e=null;else if(l=s.tag,l===13){if(e=yh(s),e!==null)return e;e=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return ga=e,null}function Mh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z0()){case Ic:return 1;case Ch:return 4;case la:case B0:return 16;case Nh:return 536870912;default:return 16}default:return 16}}var hr=null,Bc=null,va=null;function Lh(){if(va)return va;var e,s=Bc,l=s.length,d,h="value"in hr?hr.value:hr.textContent,v=h.length;for(e=0;e<l&&s[e]===h[e];e++);var S=l-e;for(d=1;d<=S&&s[l-d]===h[v-d];d++);return va=h.slice(e,1<d?1-d:void 0)}function xa(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function $h(){return!1}function qt(e){function s(l,d,h,v,S){this._reactName=l,this._targetInst=h,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(l=e[T],this[T]=l?l(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ya:$h,this.isPropagationStopped=$h,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),s}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vc=qt(Ds),ei=K({},Ds,{view:0,detail:0}),tb=qt(ei),Wc,Hc,ti,wa=K({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(Wc=e.screenX-ti.screenX,Hc=e.screenY-ti.screenY):Hc=Wc=0,ti=e),Wc)},movementY:function(e){return"movementY"in e?e.movementY:Hc}}),Fh=qt(wa),nb=K({},wa,{dataTransfer:0}),rb=qt(nb),sb=K({},ei,{relatedTarget:0}),Kc=qt(sb),ob=K({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),ib=qt(ob),ab=K({},Ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lb=qt(ab),cb=K({},Ds,{data:0}),Uh=qt(cb),ub={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},db={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hb(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=fb[e])?!!s[e]:!1}function qc(){return hb}var pb=K({},ei,{key:function(e){if(e.key){var s=ub[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?db[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(e){return e.type==="keypress"?xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mb=qt(pb),gb=K({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zh=qt(gb),vb=K({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),xb=qt(vb),yb=K({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),wb=qt(yb),bb=K({},wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jb=qt(bb),_b=[9,13,27,32],Gc=f&&"CompositionEvent"in window,ni=null;f&&"documentMode"in document&&(ni=document.documentMode);var Sb=f&&"TextEvent"in window&&!ni,Bh=f&&(!Gc||ni&&8<ni&&11>=ni),Vh=" ",Wh=!1;function Hh(e,s){switch(e){case"keyup":return _b.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ms=!1;function Cb(e,s){switch(e){case"compositionend":return Kh(s);case"keypress":return s.which!==32?null:(Wh=!0,Vh);case"textInput":return e=s.data,e===Vh&&Wh?null:e;default:return null}}function Nb(e,s){if(Ms)return e==="compositionend"||!Gc&&Hh(e,s)?(e=Lh(),va=Bc=hr=null,Ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bh&&s.locale!=="ko"?null:s.data;default:return null}}var kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!kb[e.type]:s==="textarea"}function Gh(e,s,l,d){ph(d),s=Ca(s,"onChange"),0<s.length&&(l=new Vc("onChange","change",null,l,d),e.push({event:l,listeners:s}))}var ri=null,si=null;function Eb(e){fp(e,0)}function ba(e){var s=zs(e);if(L(s))return e}function Tb(e,s){if(e==="change")return s}var Qh=!1;if(f){var Qc;if(f){var Jc="oninput"in document;if(!Jc){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),Jc=typeof Jh.oninput=="function"}Qc=Jc}else Qc=!1;Qh=Qc&&(!document.documentMode||9<document.documentMode)}function Yh(){ri&&(ri.detachEvent("onpropertychange",Xh),si=ri=null)}function Xh(e){if(e.propertyName==="value"&&ba(si)){var s=[];Gh(s,si,e,Tc(e)),xh(Eb,s)}}function Rb(e,s,l){e==="focusin"?(Yh(),ri=s,si=l,ri.attachEvent("onpropertychange",Xh)):e==="focusout"&&Yh()}function Pb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(si)}function Ab(e,s){if(e==="click")return ba(s)}function Ob(e,s){if(e==="input"||e==="change")return ba(s)}function Ib(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var gn=typeof Object.is=="function"?Object.is:Ib;function oi(e,s){if(gn(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var l=Object.keys(e),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var h=l[d];if(!p.call(s,h)||!gn(e[h],s[h]))return!1}return!0}function Zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ep(e,s){var l=Zh(e);e=0;for(var d;l;){if(l.nodeType===3){if(d=e+l.textContent.length,e<=s&&d>=s)return{node:l,offset:s-e};e=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zh(l)}}function tp(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?tp(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function np(){for(var e=window,s=Ne();s instanceof e.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)e=s.contentWindow;else break;s=Ne(e.document)}return s}function Yc(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Db(e){var s=np(),l=e.focusedElem,d=e.selectionRange;if(s!==l&&l&&l.ownerDocument&&tp(l.ownerDocument.documentElement,l)){if(d!==null&&Yc(l)){if(s=d.start,e=d.end,e===void 0&&(e=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(e,l.value.length);else if(e=(s=l.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var h=l.textContent.length,v=Math.min(d.start,h);d=d.end===void 0?v:Math.min(d.end,h),!e.extend&&v>d&&(h=d,d=v,v=h),h=ep(l,v);var S=ep(l,d);h&&S&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==S.node||e.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),e.removeAllRanges(),v>d?(e.addRange(s),e.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),e.addRange(s)))}}for(s=[],e=l;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)e=s[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mb=f&&"documentMode"in document&&11>=document.documentMode,Ls=null,Xc=null,ii=null,Zc=!1;function rp(e,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zc||Ls==null||Ls!==Ne(d)||(d=Ls,"selectionStart"in d&&Yc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ii&&oi(ii,d)||(ii=d,d=Ca(Xc,"onSelect"),0<d.length&&(s=new Vc("onSelect","select",null,s,l),e.push({event:s,listeners:d}),s.target=Ls)))}function ja(e,s){var l={};return l[e.toLowerCase()]=s.toLowerCase(),l["Webkit"+e]="webkit"+s,l["Moz"+e]="moz"+s,l}var $s={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},eu={},sp={};f&&(sp=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function _a(e){if(eu[e])return eu[e];if(!$s[e])return e;var s=$s[e],l;for(l in s)if(s.hasOwnProperty(l)&&l in sp)return eu[e]=s[l];return e}var op=_a("animationend"),ip=_a("animationiteration"),ap=_a("animationstart"),lp=_a("transitionend"),cp=new Map,up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(e,s){cp.set(e,s),c(s,[e])}for(var tu=0;tu<up.length;tu++){var nu=up[tu],Lb=nu.toLowerCase(),$b=nu[0].toUpperCase()+nu.slice(1);pr(Lb,"on"+$b)}pr(op,"onAnimationEnd"),pr(ip,"onAnimationIteration"),pr(ap,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(lp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function dp(e,s,l){var d=e.type||"unknown-event";e.currentTarget=l,L0(d,s,void 0,e),e.currentTarget=null}function fp(e,s){s=(s&4)!==0;for(var l=0;l<e.length;l++){var d=e[l],h=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var S=d.length-1;0<=S;S--){var T=d[S],P=T.instance,B=T.currentTarget;if(T=T.listener,P!==v&&h.isPropagationStopped())break e;dp(h,T,B),v=P}else for(S=0;S<d.length;S++){if(T=d[S],P=T.instance,B=T.currentTarget,T=T.listener,P!==v&&h.isPropagationStopped())break e;dp(h,T,B),v=P}}}if(aa)throw e=Oc,aa=!1,Oc=null,e}function et(e,s){var l=s[uu];l===void 0&&(l=s[uu]=new Set);var d=e+"__bubble";l.has(d)||(hp(s,e,2,!1),l.add(d))}function ru(e,s,l){var d=0;s&&(d|=4),hp(l,e,d,s)}var Sa="_reactListening"+Math.random().toString(36).slice(2);function li(e){if(!e[Sa]){e[Sa]=!0,i.forEach(function(l){l!=="selectionchange"&&(Fb.has(l)||ru(l,!1,e),ru(l,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Sa]||(s[Sa]=!0,ru("selectionchange",!1,s))}}function hp(e,s,l,d){switch(Mh(s)){case 1:var h=Z0;break;case 4:h=eb;break;default:h=Uc}l=h.bind(null,s,l,e),h=void 0,!Ac||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),d?h!==void 0?e.addEventListener(s,l,{capture:!0,passive:h}):e.addEventListener(s,l,!0):h!==void 0?e.addEventListener(s,l,{passive:h}):e.addEventListener(s,l,!1)}function su(e,s,l,d,h){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var T=d.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(S===4)for(S=d.return;S!==null;){var P=S.tag;if((P===3||P===4)&&(P=S.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;S=S.return}for(;T!==null;){if(S=ns(T),S===null)return;if(P=S.tag,P===5||P===6){d=v=S;continue e}T=T.parentNode}}d=d.return}xh(function(){var B=v,X=Tc(l),Z=[];e:{var Y=cp.get(e);if(Y!==void 0){var de=Vc,xe=e;switch(e){case"keypress":if(xa(l)===0)break e;case"keydown":case"keyup":de=mb;break;case"focusin":xe="focus",de=Kc;break;case"focusout":xe="blur",de=Kc;break;case"beforeblur":case"afterblur":de=Kc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=rb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=xb;break;case op:case ip:case ap:de=ib;break;case lp:de=wb;break;case"scroll":de=tb;break;case"wheel":de=jb;break;case"copy":case"cut":case"paste":de=lb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=zh}var be=(s&4)!==0,at=!be&&e==="scroll",M=be?Y!==null?Y+"Capture":null:Y;be=[];for(var I=B,$;I!==null;){$=I;var te=$.stateNode;if($.tag===5&&te!==null&&($=te,M!==null&&(te=Wo(I,M),te!=null&&be.push(ci(I,te,$)))),at)break;I=I.return}0<be.length&&(Y=new de(Y,xe,null,l,X),Z.push({event:Y,listeners:be}))}}if((s&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",Y&&l!==Ec&&(xe=l.relatedTarget||l.fromElement)&&(ns(xe)||xe[qn]))break e;if((de||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,de?(xe=l.relatedTarget||l.toElement,de=B,xe=xe?ns(xe):null,xe!==null&&(at=ts(xe),xe!==at||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(de=null,xe=B),de!==xe)){if(be=Fh,te="onMouseLeave",M="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(be=zh,te="onPointerLeave",M="onPointerEnter",I="pointer"),at=de==null?Y:zs(de),$=xe==null?Y:zs(xe),Y=new be(te,I+"leave",de,l,X),Y.target=at,Y.relatedTarget=$,te=null,ns(X)===B&&(be=new be(M,I+"enter",xe,l,X),be.target=$,be.relatedTarget=at,te=be),at=te,de&&xe)t:{for(be=de,M=xe,I=0,$=be;$;$=Fs($))I++;for($=0,te=M;te;te=Fs(te))$++;for(;0<I-$;)be=Fs(be),I--;for(;0<$-I;)M=Fs(M),$--;for(;I--;){if(be===M||M!==null&&be===M.alternate)break t;be=Fs(be),M=Fs(M)}be=null}else be=null;de!==null&&pp(Z,Y,de,be,!1),xe!==null&&at!==null&&pp(Z,at,xe,be,!0)}}e:{if(Y=B?zs(B):window,de=Y.nodeName&&Y.nodeName.toLowerCase(),de==="select"||de==="input"&&Y.type==="file")var _e=Tb;else if(qh(Y))if(Qh)_e=Ob;else{_e=Pb;var Ee=Rb}else(de=Y.nodeName)&&de.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(_e=Ab);if(_e&&(_e=_e(e,B))){Gh(Z,_e,l,X);break e}Ee&&Ee(e,Y,B),e==="focusout"&&(Ee=Y._wrapperState)&&Ee.controlled&&Y.type==="number"&&Kn(Y,"number",Y.value)}switch(Ee=B?zs(B):window,e){case"focusin":(qh(Ee)||Ee.contentEditable==="true")&&(Ls=Ee,Xc=B,ii=null);break;case"focusout":ii=Xc=Ls=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,rp(Z,l,X);break;case"selectionchange":if(Mb)break;case"keydown":case"keyup":rp(Z,l,X)}var Te;if(Gc)e:{switch(e){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ms?Hh(e,l)&&(Me="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Me="onCompositionStart");Me&&(Bh&&l.locale!=="ko"&&(Ms||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ms&&(Te=Lh()):(hr=X,Bc="value"in hr?hr.value:hr.textContent,Ms=!0)),Ee=Ca(B,Me),0<Ee.length&&(Me=new Uh(Me,e,null,l,X),Z.push({event:Me,listeners:Ee}),Te?Me.data=Te:(Te=Kh(l),Te!==null&&(Me.data=Te)))),(Te=Sb?Cb(e,l):Nb(e,l))&&(B=Ca(B,"onBeforeInput"),0<B.length&&(X=new Uh("onBeforeInput","beforeinput",null,l,X),Z.push({event:X,listeners:B}),X.data=Te))}fp(Z,s)})}function ci(e,s,l){return{instance:e,listener:s,currentTarget:l}}function Ca(e,s){for(var l=s+"Capture",d=[];e!==null;){var h=e,v=h.stateNode;h.tag===5&&v!==null&&(h=v,v=Wo(e,l),v!=null&&d.unshift(ci(e,v,h)),v=Wo(e,s),v!=null&&d.push(ci(e,v,h))),e=e.return}return d}function Fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pp(e,s,l,d,h){for(var v=s._reactName,S=[];l!==null&&l!==d;){var T=l,P=T.alternate,B=T.stateNode;if(P!==null&&P===d)break;T.tag===5&&B!==null&&(T=B,h?(P=Wo(l,v),P!=null&&S.unshift(ci(l,P,T))):h||(P=Wo(l,v),P!=null&&S.push(ci(l,P,T)))),l=l.return}S.length!==0&&e.push({event:s,listeners:S})}var Ub=/\r\n?/g,zb=/\u0000|\uFFFD/g;function mp(e){return(typeof e=="string"?e:""+e).replace(Ub,`
`).replace(zb,"")}function Na(e,s,l){if(s=mp(s),mp(e)!==s&&l)throw Error(r(425))}function ka(){}var ou=null,iu=null;function au(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lu=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,Vb=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(e){return gp.resolve(null).then(e).catch(Wb)}:lu;function Wb(e){setTimeout(function(){throw e})}function cu(e,s){var l=s,d=0;do{var h=l.nextSibling;if(e.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(d===0){e.removeChild(h),Zo(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=h}while(l);Zo(s)}function mr(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function vp(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return e;s--}else l==="/$"&&s++}e=e.previousSibling}return null}var Us=Math.random().toString(36).slice(2),In="__reactFiber$"+Us,ui="__reactProps$"+Us,qn="__reactContainer$"+Us,uu="__reactEvents$"+Us,Hb="__reactListeners$"+Us,Kb="__reactHandles$"+Us;function ns(e){var s=e[In];if(s)return s;for(var l=e.parentNode;l;){if(s=l[qn]||l[In]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(e=vp(e);e!==null;){if(l=e[In])return l;e=vp(e)}return s}e=l,l=e.parentNode}return null}function di(e){return e=e[In]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Ea(e){return e[ui]||null}var du=[],Bs=-1;function gr(e){return{current:e}}function tt(e){0>Bs||(e.current=du[Bs],du[Bs]=null,Bs--)}function Xe(e,s){Bs++,du[Bs]=e.current,e.current=s}var vr={},St=gr(vr),Lt=gr(!1),rs=vr;function Vs(e,s){var l=e.type.contextTypes;if(!l)return vr;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var h={},v;for(v in l)h[v]=s[v];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=h),h}function $t(e){return e=e.childContextTypes,e!=null}function Ta(){tt(Lt),tt(St)}function xp(e,s,l){if(St.current!==vr)throw Error(r(168));Xe(St,s),Xe(Lt,l)}function yp(e,s,l){var d=e.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var h in d)if(!(h in s))throw Error(r(108,G(e)||"Unknown",h));return K({},l,d)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,rs=St.current,Xe(St,e),Xe(Lt,Lt.current),!0}function wp(e,s,l){var d=e.stateNode;if(!d)throw Error(r(169));l?(e=yp(e,s,rs),d.__reactInternalMemoizedMergedChildContext=e,tt(Lt),tt(St),Xe(St,e)):tt(Lt),Xe(Lt,l)}var Gn=null,Pa=!1,fu=!1;function bp(e){Gn===null?Gn=[e]:Gn.push(e)}function qb(e){Pa=!0,bp(e)}function xr(){if(!fu&&Gn!==null){fu=!0;var e=0,s=Je;try{var l=Gn;for(Je=1;e<l.length;e++){var d=l[e];do d=d(!0);while(d!==null)}Gn=null,Pa=!1}catch(h){throw Gn!==null&&(Gn=Gn.slice(e+1)),_h(Ic,xr),h}finally{Je=s,fu=!1}}return null}var Ws=[],Hs=0,Aa=null,Oa=0,on=[],an=0,ss=null,Qn=1,Jn="";function os(e,s){Ws[Hs++]=Oa,Ws[Hs++]=Aa,Aa=e,Oa=s}function jp(e,s,l){on[an++]=Qn,on[an++]=Jn,on[an++]=ss,ss=e;var d=Qn;e=Jn;var h=32-mn(d)-1;d&=~(1<<h),l+=1;var v=32-mn(s)+h;if(30<v){var S=h-h%5;v=(d&(1<<S)-1).toString(32),d>>=S,h-=S,Qn=1<<32-mn(s)+h|l<<h|d,Jn=v+e}else Qn=1<<v|l<<h|d,Jn=e}function hu(e){e.return!==null&&(os(e,1),jp(e,1,0))}function pu(e){for(;e===Aa;)Aa=Ws[--Hs],Ws[Hs]=null,Oa=Ws[--Hs],Ws[Hs]=null;for(;e===ss;)ss=on[--an],on[an]=null,Jn=on[--an],on[an]=null,Qn=on[--an],on[an]=null}var Gt=null,Qt=null,nt=!1,vn=null;function _p(e,s){var l=dn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=e,s=e.deletions,s===null?(e.deletions=[l],e.flags|=16):s.push(l)}function Sp(e,s){switch(e.tag){case 5:var l=e.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,Gt=e,Qt=mr(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,Gt=e,Qt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ss!==null?{id:Qn,overflow:Jn}:null,e.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=dn(18,null,null,0),l.stateNode=s,l.return=e,e.child=l,Gt=e,Qt=null,!0):!1;default:return!1}}function mu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gu(e){if(nt){var s=Qt;if(s){var l=s;if(!Sp(e,s)){if(mu(e))throw Error(r(418));s=mr(l.nextSibling);var d=Gt;s&&Sp(e,s)?_p(d,l):(e.flags=e.flags&-4097|2,nt=!1,Gt=e)}}else{if(mu(e))throw Error(r(418));e.flags=e.flags&-4097|2,nt=!1,Gt=e}}}function Cp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function Ia(e){if(e!==Gt)return!1;if(!nt)return Cp(e),nt=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!au(e.type,e.memoizedProps)),s&&(s=Qt)){if(mu(e))throw Np(),Error(r(418));for(;s;)_p(e,s),s=mr(s.nextSibling)}if(Cp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(s===0){Qt=mr(e.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}e=e.nextSibling}Qt=null}}else Qt=Gt?mr(e.stateNode.nextSibling):null;return!0}function Np(){for(var e=Qt;e;)e=mr(e.nextSibling)}function Ks(){Qt=Gt=null,nt=!1}function vu(e){vn===null?vn=[e]:vn.push(e)}var Gb=D.ReactCurrentBatchConfig;function fi(e,s,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var d=l.stateNode}if(!d)throw Error(r(147,e));var h=d,v=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(S){var T=h.refs;S===null?delete T[v]:T[v]=S},s._stringRef=v,s)}if(typeof e!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,e))}return e}function Da(e,s){throw e=Object.prototype.toString.call(s),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function kp(e){var s=e._init;return s(e._payload)}function Ep(e){function s(M,I){if(e){var $=M.deletions;$===null?(M.deletions=[I],M.flags|=16):$.push(I)}}function l(M,I){if(!e)return null;for(;I!==null;)s(M,I),I=I.sibling;return null}function d(M,I){for(M=new Map;I!==null;)I.key!==null?M.set(I.key,I):M.set(I.index,I),I=I.sibling;return M}function h(M,I){return M=Nr(M,I),M.index=0,M.sibling=null,M}function v(M,I,$){return M.index=$,e?($=M.alternate,$!==null?($=$.index,$<I?(M.flags|=2,I):$):(M.flags|=2,I)):(M.flags|=1048576,I)}function S(M){return e&&M.alternate===null&&(M.flags|=2),M}function T(M,I,$,te){return I===null||I.tag!==6?(I=ld($,M.mode,te),I.return=M,I):(I=h(I,$),I.return=M,I)}function P(M,I,$,te){var _e=$.type;return _e===O?X(M,I,$.props.children,te,$.key):I!==null&&(I.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===J&&kp(_e)===I.type)?(te=h(I,$.props),te.ref=fi(M,I,$),te.return=M,te):(te=ol($.type,$.key,$.props,null,M.mode,te),te.ref=fi(M,I,$),te.return=M,te)}function B(M,I,$,te){return I===null||I.tag!==4||I.stateNode.containerInfo!==$.containerInfo||I.stateNode.implementation!==$.implementation?(I=cd($,M.mode,te),I.return=M,I):(I=h(I,$.children||[]),I.return=M,I)}function X(M,I,$,te,_e){return I===null||I.tag!==7?(I=hs($,M.mode,te,_e),I.return=M,I):(I=h(I,$),I.return=M,I)}function Z(M,I,$){if(typeof I=="string"&&I!==""||typeof I=="number")return I=ld(""+I,M.mode,$),I.return=M,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case U:return $=ol(I.type,I.key,I.props,null,M.mode,$),$.ref=fi(M,null,I),$.return=M,$;case H:return I=cd(I,M.mode,$),I.return=M,I;case J:var te=I._init;return Z(M,te(I._payload),$)}if(An(I)||z(I))return I=hs(I,M.mode,$,null),I.return=M,I;Da(M,I)}return null}function Y(M,I,$,te){var _e=I!==null?I.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return _e!==null?null:T(M,I,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case U:return $.key===_e?P(M,I,$,te):null;case H:return $.key===_e?B(M,I,$,te):null;case J:return _e=$._init,Y(M,I,_e($._payload),te)}if(An($)||z($))return _e!==null?null:X(M,I,$,te,null);Da(M,$)}return null}function de(M,I,$,te,_e){if(typeof te=="string"&&te!==""||typeof te=="number")return M=M.get($)||null,T(I,M,""+te,_e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case U:return M=M.get(te.key===null?$:te.key)||null,P(I,M,te,_e);case H:return M=M.get(te.key===null?$:te.key)||null,B(I,M,te,_e);case J:var Ee=te._init;return de(M,I,$,Ee(te._payload),_e)}if(An(te)||z(te))return M=M.get($)||null,X(I,M,te,_e,null);Da(I,te)}return null}function xe(M,I,$,te){for(var _e=null,Ee=null,Te=I,Me=I=0,yt=null;Te!==null&&Me<$.length;Me++){Te.index>Me?(yt=Te,Te=null):yt=Te.sibling;var qe=Y(M,Te,$[Me],te);if(qe===null){Te===null&&(Te=yt);break}e&&Te&&qe.alternate===null&&s(M,Te),I=v(qe,I,Me),Ee===null?_e=qe:Ee.sibling=qe,Ee=qe,Te=yt}if(Me===$.length)return l(M,Te),nt&&os(M,Me),_e;if(Te===null){for(;Me<$.length;Me++)Te=Z(M,$[Me],te),Te!==null&&(I=v(Te,I,Me),Ee===null?_e=Te:Ee.sibling=Te,Ee=Te);return nt&&os(M,Me),_e}for(Te=d(M,Te);Me<$.length;Me++)yt=de(Te,M,Me,$[Me],te),yt!==null&&(e&&yt.alternate!==null&&Te.delete(yt.key===null?Me:yt.key),I=v(yt,I,Me),Ee===null?_e=yt:Ee.sibling=yt,Ee=yt);return e&&Te.forEach(function(kr){return s(M,kr)}),nt&&os(M,Me),_e}function be(M,I,$,te){var _e=z($);if(typeof _e!="function")throw Error(r(150));if($=_e.call($),$==null)throw Error(r(151));for(var Ee=_e=null,Te=I,Me=I=0,yt=null,qe=$.next();Te!==null&&!qe.done;Me++,qe=$.next()){Te.index>Me?(yt=Te,Te=null):yt=Te.sibling;var kr=Y(M,Te,qe.value,te);if(kr===null){Te===null&&(Te=yt);break}e&&Te&&kr.alternate===null&&s(M,Te),I=v(kr,I,Me),Ee===null?_e=kr:Ee.sibling=kr,Ee=kr,Te=yt}if(qe.done)return l(M,Te),nt&&os(M,Me),_e;if(Te===null){for(;!qe.done;Me++,qe=$.next())qe=Z(M,qe.value,te),qe!==null&&(I=v(qe,I,Me),Ee===null?_e=qe:Ee.sibling=qe,Ee=qe);return nt&&os(M,Me),_e}for(Te=d(M,Te);!qe.done;Me++,qe=$.next())qe=de(Te,M,Me,qe.value,te),qe!==null&&(e&&qe.alternate!==null&&Te.delete(qe.key===null?Me:qe.key),I=v(qe,I,Me),Ee===null?_e=qe:Ee.sibling=qe,Ee=qe);return e&&Te.forEach(function(kj){return s(M,kj)}),nt&&os(M,Me),_e}function at(M,I,$,te){if(typeof $=="object"&&$!==null&&$.type===O&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case U:e:{for(var _e=$.key,Ee=I;Ee!==null;){if(Ee.key===_e){if(_e=$.type,_e===O){if(Ee.tag===7){l(M,Ee.sibling),I=h(Ee,$.props.children),I.return=M,M=I;break e}}else if(Ee.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===J&&kp(_e)===Ee.type){l(M,Ee.sibling),I=h(Ee,$.props),I.ref=fi(M,Ee,$),I.return=M,M=I;break e}l(M,Ee);break}else s(M,Ee);Ee=Ee.sibling}$.type===O?(I=hs($.props.children,M.mode,te,$.key),I.return=M,M=I):(te=ol($.type,$.key,$.props,null,M.mode,te),te.ref=fi(M,I,$),te.return=M,M=te)}return S(M);case H:e:{for(Ee=$.key;I!==null;){if(I.key===Ee)if(I.tag===4&&I.stateNode.containerInfo===$.containerInfo&&I.stateNode.implementation===$.implementation){l(M,I.sibling),I=h(I,$.children||[]),I.return=M,M=I;break e}else{l(M,I);break}else s(M,I);I=I.sibling}I=cd($,M.mode,te),I.return=M,M=I}return S(M);case J:return Ee=$._init,at(M,I,Ee($._payload),te)}if(An($))return xe(M,I,$,te);if(z($))return be(M,I,$,te);Da(M,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,I!==null&&I.tag===6?(l(M,I.sibling),I=h(I,$),I.return=M,M=I):(l(M,I),I=ld($,M.mode,te),I.return=M,M=I),S(M)):l(M,I)}return at}var qs=Ep(!0),Tp=Ep(!1),Ma=gr(null),La=null,Gs=null,xu=null;function yu(){xu=Gs=La=null}function wu(e){var s=Ma.current;tt(Ma),e._currentValue=s}function bu(e,s,l){for(;e!==null;){var d=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),e===l)break;e=e.return}}function Qs(e,s){La=e,xu=Gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&s)!==0&&(Ft=!0),e.firstContext=null)}function ln(e){var s=e._currentValue;if(xu!==e)if(e={context:e,memoizedValue:s,next:null},Gs===null){if(La===null)throw Error(r(308));Gs=e,La.dependencies={lanes:0,firstContext:e}}else Gs=Gs.next=e;return s}var is=null;function ju(e){is===null?is=[e]:is.push(e)}function Rp(e,s,l,d){var h=s.interleaved;return h===null?(l.next=l,ju(s)):(l.next=h.next,h.next=l),s.interleaved=l,Yn(e,d)}function Yn(e,s){e.lanes|=s;var l=e.alternate;for(l!==null&&(l.lanes|=s),l=e,e=e.return;e!==null;)e.childLanes|=s,l=e.alternate,l!==null&&(l.childLanes|=s),l=e,e=e.return;return l.tag===3?l.stateNode:null}var yr=!1;function _u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pp(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xn(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function wr(e,s,l){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(Ke&2)!==0){var h=d.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),d.pending=s,Yn(e,l)}return h=d.interleaved,h===null?(s.next=s,ju(d)):(s.next=h.next,h.next=s),d.interleaved=s,Yn(e,l)}function $a(e,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=e.pendingLanes,l|=d,s.lanes=l,Lc(e,l)}}function Ap(e,s){var l=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var h=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?h=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?h=v=s:v=v.next=s}else h=v=s;l={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:d.shared,effects:d.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=s:e.next=s,l.lastBaseUpdate=s}function Fa(e,s,l,d){var h=e.updateQueue;yr=!1;var v=h.firstBaseUpdate,S=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var P=T,B=P.next;P.next=null,S===null?v=B:S.next=B,S=P;var X=e.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==S&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=P))}if(v!==null){var Z=h.baseState;S=0,X=B=P=null,T=v;do{var Y=T.lane,de=T.eventTime;if((d&Y)===Y){X!==null&&(X=X.next={eventTime:de,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var xe=e,be=T;switch(Y=s,de=l,be.tag){case 1:if(xe=be.payload,typeof xe=="function"){Z=xe.call(de,Z,Y);break e}Z=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=be.payload,Y=typeof xe=="function"?xe.call(de,Z,Y):xe,Y==null)break e;Z=K({},Z,Y);break e;case 2:yr=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,Y=h.effects,Y===null?h.effects=[T]:Y.push(T))}else de={eventTime:de,lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=de,P=Z):X=X.next=de,S|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);if(X===null&&(P=Z),h.baseState=P,h.firstBaseUpdate=B,h.lastBaseUpdate=X,s=h.shared.interleaved,s!==null){h=s;do S|=h.lane,h=h.next;while(h!==s)}else v===null&&(h.shared.lanes=0);cs|=S,e.lanes=S,e.memoizedState=Z}}function Op(e,s,l){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var d=e[s],h=d.callback;if(h!==null){if(d.callback=null,d=l,typeof h!="function")throw Error(r(191,h));h.call(d)}}}var hi={},Dn=gr(hi),pi=gr(hi),mi=gr(hi);function as(e){if(e===hi)throw Error(r(174));return e}function Su(e,s){switch(Xe(mi,s),Xe(pi,e),Xe(Dn,hi),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Cc(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=Cc(s,e)}tt(Dn),Xe(Dn,s)}function Js(){tt(Dn),tt(pi),tt(mi)}function Ip(e){as(mi.current);var s=as(Dn.current),l=Cc(s,e.type);s!==l&&(Xe(pi,e),Xe(Dn,l))}function Cu(e){pi.current===e&&(tt(Dn),tt(pi))}var rt=gr(0);function Ua(e){for(var s=e;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Nu=[];function ku(){for(var e=0;e<Nu.length;e++)Nu[e]._workInProgressVersionPrimary=null;Nu.length=0}var za=D.ReactCurrentDispatcher,Eu=D.ReactCurrentBatchConfig,ls=0,st=null,ft=null,vt=null,Ba=!1,gi=!1,vi=0,Qb=0;function Ct(){throw Error(r(321))}function Tu(e,s){if(s===null)return!1;for(var l=0;l<s.length&&l<e.length;l++)if(!gn(e[l],s[l]))return!1;return!0}function Ru(e,s,l,d,h,v){if(ls=v,st=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,za.current=e===null||e.memoizedState===null?Zb:ej,e=l(d,h),gi){v=0;do{if(gi=!1,vi=0,25<=v)throw Error(r(301));v+=1,vt=ft=null,s.updateQueue=null,za.current=tj,e=l(d,h)}while(gi)}if(za.current=Ha,s=ft!==null&&ft.next!==null,ls=0,vt=ft=st=null,Ba=!1,s)throw Error(r(300));return e}function Pu(){var e=vi!==0;return vi=0,e}function Mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?st.memoizedState=vt=e:vt=vt.next=e,vt}function cn(){if(ft===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var s=vt===null?st.memoizedState:vt.next;if(s!==null)vt=s,ft=e;else{if(e===null)throw Error(r(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?st.memoizedState=vt=e:vt=vt.next=e}return vt}function xi(e,s){return typeof s=="function"?s(e):s}function Au(e){var s=cn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=e;var d=ft,h=d.baseQueue,v=l.pending;if(v!==null){if(h!==null){var S=h.next;h.next=v.next,v.next=S}d.baseQueue=h=v,l.pending=null}if(h!==null){v=h.next,d=d.baseState;var T=S=null,P=null,B=v;do{var X=B.lane;if((ls&X)===X)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),d=B.hasEagerState?B.eagerState:e(d,B.action);else{var Z={lane:X,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(T=P=Z,S=d):P=P.next=Z,st.lanes|=X,cs|=X}B=B.next}while(B!==null&&B!==v);P===null?S=d:P.next=T,gn(d,s.memoizedState)||(Ft=!0),s.memoizedState=d,s.baseState=S,s.baseQueue=P,l.lastRenderedState=d}if(e=l.interleaved,e!==null){h=e;do v=h.lane,st.lanes|=v,cs|=v,h=h.next;while(h!==e)}else h===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Ou(e){var s=cn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=e;var d=l.dispatch,h=l.pending,v=s.memoizedState;if(h!==null){l.pending=null;var S=h=h.next;do v=e(v,S.action),S=S.next;while(S!==h);gn(v,s.memoizedState)||(Ft=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,d]}function Dp(){}function Mp(e,s){var l=st,d=cn(),h=s(),v=!gn(d.memoizedState,h);if(v&&(d.memoizedState=h,Ft=!0),d=d.queue,Iu(Fp.bind(null,l,d,e),[e]),d.getSnapshot!==s||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,yi(9,$p.bind(null,l,d,h,s),void 0,null),xt===null)throw Error(r(349));(ls&30)!==0||Lp(l,s,h)}return h}function Lp(e,s,l){e.flags|=16384,e={getSnapshot:s,value:l},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.stores=[e]):(l=s.stores,l===null?s.stores=[e]:l.push(e))}function $p(e,s,l,d){s.value=l,s.getSnapshot=d,Up(s)&&zp(e)}function Fp(e,s,l){return l(function(){Up(s)&&zp(e)})}function Up(e){var s=e.getSnapshot;e=e.value;try{var l=s();return!gn(e,l)}catch{return!0}}function zp(e){var s=Yn(e,1);s!==null&&bn(s,e,1,-1)}function Bp(e){var s=Mn();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},s.queue=e,e=e.dispatch=Xb.bind(null,st,e),[s.memoizedState,e]}function yi(e,s,l,d){return e={tag:e,create:s,destroy:l,deps:d,next:null},s=st.updateQueue,s===null?(s={lastEffect:null,stores:null},st.updateQueue=s,s.lastEffect=e.next=e):(l=s.lastEffect,l===null?s.lastEffect=e.next=e:(d=l.next,l.next=e,e.next=d,s.lastEffect=e)),e}function Vp(){return cn().memoizedState}function Va(e,s,l,d){var h=Mn();st.flags|=e,h.memoizedState=yi(1|s,l,void 0,d===void 0?null:d)}function Wa(e,s,l,d){var h=cn();d=d===void 0?null:d;var v=void 0;if(ft!==null){var S=ft.memoizedState;if(v=S.destroy,d!==null&&Tu(d,S.deps)){h.memoizedState=yi(s,l,v,d);return}}st.flags|=e,h.memoizedState=yi(1|s,l,v,d)}function Wp(e,s){return Va(8390656,8,e,s)}function Iu(e,s){return Wa(2048,8,e,s)}function Hp(e,s){return Wa(4,2,e,s)}function Kp(e,s){return Wa(4,4,e,s)}function qp(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Gp(e,s,l){return l=l!=null?l.concat([e]):null,Wa(4,4,qp.bind(null,s,e),l)}function Du(){}function Qp(e,s){var l=cn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Tu(s,d[1])?d[0]:(l.memoizedState=[e,s],e)}function Jp(e,s){var l=cn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Tu(s,d[1])?d[0]:(e=e(),l.memoizedState=[e,s],e)}function Yp(e,s,l){return(ls&21)===0?(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=l):(gn(l,s)||(l=kh(),st.lanes|=l,cs|=l,e.baseState=!0),s)}function Jb(e,s){var l=Je;Je=l!==0&&4>l?l:4,e(!0);var d=Eu.transition;Eu.transition={};try{e(!1),s()}finally{Je=l,Eu.transition=d}}function Xp(){return cn().memoizedState}function Yb(e,s,l){var d=Sr(e);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Zp(e))em(s,l);else if(l=Rp(e,s,l,d),l!==null){var h=Rt();bn(l,e,d,h),tm(l,s,d)}}function Xb(e,s,l){var d=Sr(e),h={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zp(e))em(s,h);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,T=v(S,l);if(h.hasEagerState=!0,h.eagerState=T,gn(T,S)){var P=s.interleaved;P===null?(h.next=h,ju(s)):(h.next=P.next,P.next=h),s.interleaved=h;return}}catch{}finally{}l=Rp(e,s,h,d),l!==null&&(h=Rt(),bn(l,e,d,h),tm(l,s,d))}}function Zp(e){var s=e.alternate;return e===st||s!==null&&s===st}function em(e,s){gi=Ba=!0;var l=e.pending;l===null?s.next=s:(s.next=l.next,l.next=s),e.pending=s}function tm(e,s,l){if((l&4194240)!==0){var d=s.lanes;d&=e.pendingLanes,l|=d,s.lanes=l,Lc(e,l)}}var Ha={readContext:ln,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},Zb={readContext:ln,useCallback:function(e,s){return Mn().memoizedState=[e,s===void 0?null:s],e},useContext:ln,useEffect:Wp,useImperativeHandle:function(e,s,l){return l=l!=null?l.concat([e]):null,Va(4194308,4,qp.bind(null,s,e),l)},useLayoutEffect:function(e,s){return Va(4194308,4,e,s)},useInsertionEffect:function(e,s){return Va(4,2,e,s)},useMemo:function(e,s){var l=Mn();return s=s===void 0?null:s,e=e(),l.memoizedState=[e,s],e},useReducer:function(e,s,l){var d=Mn();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},d.queue=e,e=e.dispatch=Yb.bind(null,st,e),[d.memoizedState,e]},useRef:function(e){var s=Mn();return e={current:e},s.memoizedState=e},useState:Bp,useDebugValue:Du,useDeferredValue:function(e){return Mn().memoizedState=e},useTransition:function(){var e=Bp(!1),s=e[0];return e=Jb.bind(null,e[1]),Mn().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,l){var d=st,h=Mn();if(nt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),xt===null)throw Error(r(349));(ls&30)!==0||Lp(d,s,l)}h.memoizedState=l;var v={value:l,getSnapshot:s};return h.queue=v,Wp(Fp.bind(null,d,v,e),[e]),d.flags|=2048,yi(9,$p.bind(null,d,v,l,s),void 0,null),l},useId:function(){var e=Mn(),s=xt.identifierPrefix;if(nt){var l=Jn,d=Qn;l=(d&~(1<<32-mn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=vi++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Qb++,s=":"+s+"r"+l.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},ej={readContext:ln,useCallback:Qp,useContext:ln,useEffect:Iu,useImperativeHandle:Gp,useInsertionEffect:Hp,useLayoutEffect:Kp,useMemo:Jp,useReducer:Au,useRef:Vp,useState:function(){return Au(xi)},useDebugValue:Du,useDeferredValue:function(e){var s=cn();return Yp(s,ft.memoizedState,e)},useTransition:function(){var e=Au(xi)[0],s=cn().memoizedState;return[e,s]},useMutableSource:Dp,useSyncExternalStore:Mp,useId:Xp,unstable_isNewReconciler:!1},tj={readContext:ln,useCallback:Qp,useContext:ln,useEffect:Iu,useImperativeHandle:Gp,useInsertionEffect:Hp,useLayoutEffect:Kp,useMemo:Jp,useReducer:Ou,useRef:Vp,useState:function(){return Ou(xi)},useDebugValue:Du,useDeferredValue:function(e){var s=cn();return ft===null?s.memoizedState=e:Yp(s,ft.memoizedState,e)},useTransition:function(){var e=Ou(xi)[0],s=cn().memoizedState;return[e,s]},useMutableSource:Dp,useSyncExternalStore:Mp,useId:Xp,unstable_isNewReconciler:!1};function xn(e,s){if(e&&e.defaultProps){s=K({},s),e=e.defaultProps;for(var l in e)s[l]===void 0&&(s[l]=e[l]);return s}return s}function Mu(e,s,l,d){s=e.memoizedState,l=l(d,s),l=l==null?s:K({},s,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ka={isMounted:function(e){return(e=e._reactInternals)?ts(e)===e:!1},enqueueSetState:function(e,s,l){e=e._reactInternals;var d=Rt(),h=Sr(e),v=Xn(d,h);v.payload=s,l!=null&&(v.callback=l),s=wr(e,v,h),s!==null&&(bn(s,e,h,d),$a(s,e,h))},enqueueReplaceState:function(e,s,l){e=e._reactInternals;var d=Rt(),h=Sr(e),v=Xn(d,h);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=wr(e,v,h),s!==null&&(bn(s,e,h,d),$a(s,e,h))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var l=Rt(),d=Sr(e),h=Xn(l,d);h.tag=2,s!=null&&(h.callback=s),s=wr(e,h,d),s!==null&&(bn(s,e,d,l),$a(s,e,d))}};function nm(e,s,l,d,h,v,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,v,S):s.prototype&&s.prototype.isPureReactComponent?!oi(l,d)||!oi(h,v):!0}function rm(e,s,l){var d=!1,h=vr,v=s.contextType;return typeof v=="object"&&v!==null?v=ln(v):(h=$t(s)?rs:St.current,d=s.contextTypes,v=(d=d!=null)?Vs(e,h):vr),s=new s(l,v),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ka,e.stateNode=s,s._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=v),s}function sm(e,s,l,d){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==e&&Ka.enqueueReplaceState(s,s.state,null)}function Lu(e,s,l,d){var h=e.stateNode;h.props=l,h.state=e.memoizedState,h.refs={},_u(e);var v=s.contextType;typeof v=="object"&&v!==null?h.context=ln(v):(v=$t(s)?rs:St.current,h.context=Vs(e,v)),h.state=e.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Mu(e,s,v,l),h.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ka.enqueueReplaceState(h,h.state,null),Fa(e,l,h,d),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Ys(e,s){try{var l="",d=s;do l+=Oe(d),d=d.return;while(d);var h=l}catch(v){h=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:s,stack:h,digest:null}}function $u(e,s,l){return{value:e,source:null,stack:l??null,digest:s??null}}function Fu(e,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var nj=typeof WeakMap=="function"?WeakMap:Map;function om(e,s,l){l=Xn(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Za||(Za=!0,ed=d),Fu(e,s)},l}function im(e,s,l){l=Xn(-1,l),l.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;l.payload=function(){return d(h)},l.callback=function(){Fu(e,s)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Fu(e,s),typeof d!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),l}function am(e,s,l){var d=e.pingCache;if(d===null){d=e.pingCache=new nj;var h=new Set;d.set(s,h)}else h=d.get(s),h===void 0&&(h=new Set,d.set(s,h));h.has(l)||(h.add(l),e=gj.bind(null,e,s,l),s.then(e,e))}function lm(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function cm(e,s,l,d,h){return(e.mode&1)===0?(e===s?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Xn(-1,1),s.tag=2,wr(l,s,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var rj=D.ReactCurrentOwner,Ft=!1;function Tt(e,s,l,d){s.child=e===null?Tp(s,null,l,d):qs(s,e.child,l,d)}function um(e,s,l,d,h){l=l.render;var v=s.ref;return Qs(s,h),d=Ru(e,s,l,d,v,h),l=Pu(),e!==null&&!Ft?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~h,Zn(e,s,h)):(nt&&l&&hu(s),s.flags|=1,Tt(e,s,d,h),s.child)}function dm(e,s,l,d,h){if(e===null){var v=l.type;return typeof v=="function"&&!ad(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,fm(e,s,v,d,h)):(e=ol(l.type,null,d,s,s.mode,h),e.ref=s.ref,e.return=s,s.child=e)}if(v=e.child,(e.lanes&h)===0){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:oi,l(S,d)&&e.ref===s.ref)return Zn(e,s,h)}return s.flags|=1,e=Nr(v,d),e.ref=s.ref,e.return=s,s.child=e}function fm(e,s,l,d,h){if(e!==null){var v=e.memoizedProps;if(oi(v,d)&&e.ref===s.ref)if(Ft=!1,s.pendingProps=d=v,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Ft=!0);else return s.lanes=e.lanes,Zn(e,s,h)}return Uu(e,s,l,d,h)}function hm(e,s,l){var d=s.pendingProps,h=d.children,v=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Zs,Jt),Jt|=l;else{if((l&1073741824)===0)return e=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,Xe(Zs,Jt),Jt|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Xe(Zs,Jt),Jt|=d}else v!==null?(d=v.baseLanes|l,s.memoizedState=null):d=l,Xe(Zs,Jt),Jt|=d;return Tt(e,s,h,l),s.child}function pm(e,s){var l=s.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Uu(e,s,l,d,h){var v=$t(l)?rs:St.current;return v=Vs(s,v),Qs(s,h),l=Ru(e,s,l,d,v,h),d=Pu(),e!==null&&!Ft?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~h,Zn(e,s,h)):(nt&&d&&hu(s),s.flags|=1,Tt(e,s,l,h),s.child)}function mm(e,s,l,d,h){if($t(l)){var v=!0;Ra(s)}else v=!1;if(Qs(s,h),s.stateNode===null)Ga(e,s),rm(s,l,d),Lu(s,l,d,h),d=!0;else if(e===null){var S=s.stateNode,T=s.memoizedProps;S.props=T;var P=S.context,B=l.contextType;typeof B=="object"&&B!==null?B=ln(B):(B=$t(l)?rs:St.current,B=Vs(s,B));var X=l.getDerivedStateFromProps,Z=typeof X=="function"||typeof S.getSnapshotBeforeUpdate=="function";Z||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==d||P!==B)&&sm(s,S,d,B),yr=!1;var Y=s.memoizedState;S.state=Y,Fa(s,d,S,h),P=s.memoizedState,T!==d||Y!==P||Lt.current||yr?(typeof X=="function"&&(Mu(s,l,X,d),P=s.memoizedState),(T=yr||nm(s,l,T,d,Y,P,B))?(Z||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=P),S.props=d,S.state=P,S.context=B,d=T):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{S=s.stateNode,Pp(e,s),T=s.memoizedProps,B=s.type===s.elementType?T:xn(s.type,T),S.props=B,Z=s.pendingProps,Y=S.context,P=l.contextType,typeof P=="object"&&P!==null?P=ln(P):(P=$t(l)?rs:St.current,P=Vs(s,P));var de=l.getDerivedStateFromProps;(X=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==Z||Y!==P)&&sm(s,S,d,P),yr=!1,Y=s.memoizedState,S.state=Y,Fa(s,d,S,h);var xe=s.memoizedState;T!==Z||Y!==xe||Lt.current||yr?(typeof de=="function"&&(Mu(s,l,de,d),xe=s.memoizedState),(B=yr||nm(s,l,B,d,Y,xe,P)||!1)?(X||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,xe,P),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,xe,P)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===e.memoizedProps&&Y===e.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&Y===e.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=xe),S.props=d,S.state=xe,S.context=P,d=B):(typeof S.componentDidUpdate!="function"||T===e.memoizedProps&&Y===e.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&Y===e.memoizedState||(s.flags|=1024),d=!1)}return zu(e,s,l,d,v,h)}function zu(e,s,l,d,h,v){pm(e,s);var S=(s.flags&128)!==0;if(!d&&!S)return h&&wp(s,l,!1),Zn(e,s,v);d=s.stateNode,rj.current=s;var T=S&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,e!==null&&S?(s.child=qs(s,e.child,null,v),s.child=qs(s,null,T,v)):Tt(e,s,T,v),s.memoizedState=d.state,h&&wp(s,l,!0),s.child}function gm(e){var s=e.stateNode;s.pendingContext?xp(e,s.pendingContext,s.pendingContext!==s.context):s.context&&xp(e,s.context,!1),Su(e,s.containerInfo)}function vm(e,s,l,d,h){return Ks(),vu(h),s.flags|=256,Tt(e,s,l,d),s.child}var Bu={dehydrated:null,treeContext:null,retryLane:0};function Vu(e){return{baseLanes:e,cachePool:null,transitions:null}}function xm(e,s,l){var d=s.pendingProps,h=rt.current,v=!1,S=(s.flags&128)!==0,T;if((T=S)||(T=e!==null&&e.memoizedState===null?!1:(h&2)!==0),T?(v=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Xe(rt,h&1),e===null)return gu(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((s.mode&1)===0?s.lanes=1:e.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(S=d.children,e=d.fallback,v?(d=s.mode,v=s.child,S={mode:"hidden",children:S},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=il(S,d,0,null),e=hs(e,d,l,null),v.return=s,e.return=s,v.sibling=e,s.child=v,s.child.memoizedState=Vu(l),s.memoizedState=Bu,e):Wu(s,S));if(h=e.memoizedState,h!==null&&(T=h.dehydrated,T!==null))return sj(e,s,S,d,T,h,l);if(v){v=d.fallback,S=s.mode,h=e.child,T=h.sibling;var P={mode:"hidden",children:d.children};return(S&1)===0&&s.child!==h?(d=s.child,d.childLanes=0,d.pendingProps=P,s.deletions=null):(d=Nr(h,P),d.subtreeFlags=h.subtreeFlags&14680064),T!==null?v=Nr(T,v):(v=hs(v,S,l,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,S=e.child.memoizedState,S=S===null?Vu(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=e.childLanes&~l,s.memoizedState=Bu,d}return v=e.child,e=v.sibling,d=Nr(v,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,e!==null&&(l=s.deletions,l===null?(s.deletions=[e],s.flags|=16):l.push(e)),s.child=d,s.memoizedState=null,d}function Wu(e,s){return s=il({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function qa(e,s,l,d){return d!==null&&vu(d),qs(s,e.child,null,l),e=Wu(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function sj(e,s,l,d,h,v,S){if(l)return s.flags&256?(s.flags&=-257,d=$u(Error(r(422))),qa(e,s,S,d)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(v=d.fallback,h=s.mode,d=il({mode:"visible",children:d.children},h,0,null),v=hs(v,h,S,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,(s.mode&1)!==0&&qs(s,e.child,null,S),s.child.memoizedState=Vu(S),s.memoizedState=Bu,v);if((s.mode&1)===0)return qa(e,s,S,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var T=d.dgst;return d=T,v=Error(r(419)),d=$u(v,d,void 0),qa(e,s,S,d)}if(T=(S&e.childLanes)!==0,Ft||T){if(d=xt,d!==null){switch(S&-S){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|S))!==0?0:h,h!==0&&h!==v.retryLane&&(v.retryLane=h,Yn(e,h),bn(d,e,h,-1))}return id(),d=$u(Error(r(421))),qa(e,s,S,d)}return h.data==="$?"?(s.flags|=128,s.child=e.child,s=vj.bind(null,e),h._reactRetry=s,null):(e=v.treeContext,Qt=mr(h.nextSibling),Gt=s,nt=!0,vn=null,e!==null&&(on[an++]=Qn,on[an++]=Jn,on[an++]=ss,Qn=e.id,Jn=e.overflow,ss=s),s=Wu(s,d.children),s.flags|=4096,s)}function ym(e,s,l){e.lanes|=s;var d=e.alternate;d!==null&&(d.lanes|=s),bu(e.return,s,l)}function Hu(e,s,l,d,h){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:h}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=h)}function wm(e,s,l){var d=s.pendingProps,h=d.revealOrder,v=d.tail;if(Tt(e,s,d.children,l),d=rt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ym(e,l,s);else if(e.tag===19)ym(e,l,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(Xe(rt,d),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(l=s.child,h=null;l!==null;)e=l.alternate,e!==null&&Ua(e)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),Hu(s,!1,h,l,v);break;case"backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(e=h.alternate,e!==null&&Ua(e)===null){s.child=h;break}e=h.sibling,h.sibling=l,l=h,h=e}Hu(s,!0,l,null,v);break;case"together":Hu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ga(e,s){(s.mode&1)===0&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Zn(e,s,l){if(e!==null&&(s.dependencies=e.dependencies),cs|=s.lanes,(l&s.childLanes)===0)return null;if(e!==null&&s.child!==e.child)throw Error(r(153));if(s.child!==null){for(e=s.child,l=Nr(e,e.pendingProps),s.child=l,l.return=s;e.sibling!==null;)e=e.sibling,l=l.sibling=Nr(e,e.pendingProps),l.return=s;l.sibling=null}return s.child}function oj(e,s,l){switch(s.tag){case 3:gm(s),Ks();break;case 5:Ip(s);break;case 1:$t(s.type)&&Ra(s);break;case 4:Su(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,h=s.memoizedProps.value;Xe(Ma,d._currentValue),d._currentValue=h;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Xe(rt,rt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?xm(e,s,l):(Xe(rt,rt.current&1),e=Zn(e,s,l),e!==null?e.sibling:null);Xe(rt,rt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(e.flags&128)!==0){if(d)return wm(e,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Xe(rt,rt.current),d)break;return null;case 22:case 23:return s.lanes=0,hm(e,s,l)}return Zn(e,s,l)}var bm,Ku,jm,_m;bm=function(e,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ku=function(){},jm=function(e,s,l,d){var h=e.memoizedProps;if(h!==d){e=s.stateNode,as(Dn.current);var v=null;switch(l){case"input":h=je(e,h),d=je(e,d),v=[];break;case"select":h=K({},h,{value:void 0}),d=K({},d,{value:void 0}),v=[];break;case"textarea":h=Sc(e,h),d=Sc(e,d),v=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=ka)}Nc(l,d);var S;l=null;for(B in h)if(!d.hasOwnProperty(B)&&h.hasOwnProperty(B)&&h[B]!=null)if(B==="style"){var T=h[B];for(S in T)T.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?v||(v=[]):(v=v||[]).push(B,null));for(B in d){var P=d[B];if(T=h?.[B],d.hasOwnProperty(B)&&P!==T&&(P!=null||T!=null))if(B==="style")if(T){for(S in T)!T.hasOwnProperty(S)||P&&P.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in P)P.hasOwnProperty(S)&&T[S]!==P[S]&&(l||(l={}),l[S]=P[S])}else l||(v||(v=[]),v.push(B,l)),l=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,T=T?T.__html:void 0,P!=null&&T!==P&&(v=v||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(v=v||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&et("scroll",e),v||T===P||(v=[])):(v=v||[]).push(B,P))}l&&(v=v||[]).push("style",l);var B=v;(s.updateQueue=B)&&(s.flags|=4)}},_m=function(e,s,l,d){l!==d&&(s.flags|=4)};function wi(e,s){if(!nt)switch(e.tailMode){case"hidden":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function Nt(e){var s=e.alternate!==null&&e.alternate.child===e.child,l=0,d=0;if(s)for(var h=e.child;h!==null;)l|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)l|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=d,e.childLanes=l,s}function ij(e,s,l){var d=s.pendingProps;switch(pu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return $t(s.type)&&Ta(),Nt(s),null;case 3:return d=s.stateNode,Js(),tt(Lt),tt(St),ku(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(Ia(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,vn!==null&&(rd(vn),vn=null))),Ku(e,s),Nt(s),null;case 5:Cu(s);var h=as(mi.current);if(l=s.type,e!==null&&s.stateNode!=null)jm(e,s,l,d,h),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Nt(s),null}if(e=as(Dn.current),Ia(s)){d=s.stateNode,l=s.type;var v=s.memoizedProps;switch(d[In]=s,d[ui]=v,e=(s.mode&1)!==0,l){case"dialog":et("cancel",d),et("close",d);break;case"iframe":case"object":case"embed":et("load",d);break;case"video":case"audio":for(h=0;h<ai.length;h++)et(ai[h],d);break;case"source":et("error",d);break;case"img":case"image":case"link":et("error",d),et("load",d);break;case"details":et("toggle",d);break;case"input":We(d,v),et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},et("invalid",d);break;case"textarea":ih(d,v),et("invalid",d)}Nc(l,v),h=null;for(var S in v)if(v.hasOwnProperty(S)){var T=v[S];S==="children"?typeof T=="string"?d.textContent!==T&&(v.suppressHydrationWarning!==!0&&Na(d.textContent,T,e),h=["children",T]):typeof T=="number"&&d.textContent!==""+T&&(v.suppressHydrationWarning!==!0&&Na(d.textContent,T,e),h=["children",""+T]):a.hasOwnProperty(S)&&T!=null&&S==="onScroll"&&et("scroll",d)}switch(l){case"input":Se(d),bt(d,v,!0);break;case"textarea":Se(d),lh(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=ka)}d=h,s.updateQueue=d,d!==null&&(s.flags|=4)}else{S=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ch(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=S.createElement(l,{is:d.is}):(e=S.createElement(l),l==="select"&&(S=e,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):e=S.createElementNS(e,l),e[In]=s,e[ui]=d,bm(e,s,!1,!1),s.stateNode=e;e:{switch(S=kc(l,d),l){case"dialog":et("cancel",e),et("close",e),h=d;break;case"iframe":case"object":case"embed":et("load",e),h=d;break;case"video":case"audio":for(h=0;h<ai.length;h++)et(ai[h],e);h=d;break;case"source":et("error",e),h=d;break;case"img":case"image":case"link":et("error",e),et("load",e),h=d;break;case"details":et("toggle",e),h=d;break;case"input":We(e,d),h=je(e,d),et("invalid",e);break;case"option":h=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},h=K({},d,{value:void 0}),et("invalid",e);break;case"textarea":ih(e,d),h=Sc(e,d),et("invalid",e);break;default:h=d}Nc(l,h),T=h;for(v in T)if(T.hasOwnProperty(v)){var P=T[v];v==="style"?fh(e,P):v==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&uh(e,P)):v==="children"?typeof P=="string"?(l!=="textarea"||P!=="")&&Bo(e,P):typeof P=="number"&&Bo(e,""+P):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?P!=null&&v==="onScroll"&&et("scroll",e):P!=null&&R(e,v,P,S))}switch(l){case"input":Se(e),bt(e,d,!1);break;case"textarea":Se(e),lh(e);break;case"option":d.value!=null&&e.setAttribute("value",""+he(d.value));break;case"select":e.multiple=!!d.multiple,v=d.value,v!=null?Kt(e,!!d.multiple,v,!1):d.defaultValue!=null&&Kt(e,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=ka)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Nt(s),null;case 6:if(e&&s.stateNode!=null)_m(e,s,e.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(l=as(mi.current),as(Dn.current),Ia(s)){if(d=s.stateNode,l=s.memoizedProps,d[In]=s,(v=d.nodeValue!==l)&&(e=Gt,e!==null))switch(e.tag){case 3:Na(d.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Na(d.nodeValue,l,(e.mode&1)!==0)}v&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[In]=s,s.stateNode=d}return Nt(s),null;case 13:if(tt(rt),d=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&Qt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Np(),Ks(),s.flags|=98560,v=!1;else if(v=Ia(s),d!==null&&d.dehydrated!==null){if(e===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[In]=s}else Ks(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),v=!1}else vn!==null&&(rd(vn),vn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(e===null||(rt.current&1)!==0?ht===0&&(ht=3):id())),s.updateQueue!==null&&(s.flags|=4),Nt(s),null);case 4:return Js(),Ku(e,s),e===null&&li(s.stateNode.containerInfo),Nt(s),null;case 10:return wu(s.type._context),Nt(s),null;case 17:return $t(s.type)&&Ta(),Nt(s),null;case 19:if(tt(rt),v=s.memoizedState,v===null)return Nt(s),null;if(d=(s.flags&128)!==0,S=v.rendering,S===null)if(d)wi(v,!1);else{if(ht!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(S=Ua(e),S!==null){for(s.flags|=128,wi(v,!1),d=S.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)v=l,e=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,e=S.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return Xe(rt,rt.current&1|2),s.child}e=e.sibling}v.tail!==null&&it()>eo&&(s.flags|=128,d=!0,wi(v,!1),s.lanes=4194304)}else{if(!d)if(e=Ua(S),e!==null){if(s.flags|=128,d=!0,l=e.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),wi(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!nt)return Nt(s),null}else 2*it()-v.renderingStartTime>eo&&l!==1073741824&&(s.flags|=128,d=!0,wi(v,!1),s.lanes=4194304);v.isBackwards?(S.sibling=s.child,s.child=S):(l=v.last,l!==null?l.sibling=S:s.child=S,v.last=S)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=it(),s.sibling=null,l=rt.current,Xe(rt,d?l&1|2:l&1),s):(Nt(s),null);case 22:case 23:return od(),d=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Jt&1073741824)!==0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function aj(e,s){switch(pu(s),s.tag){case 1:return $t(s.type)&&Ta(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Js(),tt(Lt),tt(St),ku(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 5:return Cu(s),null;case 13:if(tt(rt),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ks()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return tt(rt),null;case 4:return Js(),null;case 10:return wu(s.type._context),null;case 22:case 23:return od(),null;case 24:return null;default:return null}}var Qa=!1,kt=!1,lj=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Xs(e,s){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ot(e,s,d)}else l.current=null}function qu(e,s,l){try{l()}catch(d){ot(e,s,d)}}var Sm=!1;function cj(e,s){if(ou=ma,e=np(),Yc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var h=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,T=-1,P=-1,B=0,X=0,Z=e,Y=null;t:for(;;){for(var de;Z!==l||h!==0&&Z.nodeType!==3||(T=S+h),Z!==v||d!==0&&Z.nodeType!==3||(P=S+d),Z.nodeType===3&&(S+=Z.nodeValue.length),(de=Z.firstChild)!==null;)Y=Z,Z=de;for(;;){if(Z===e)break t;if(Y===l&&++B===h&&(T=S),Y===v&&++X===d&&(P=S),(de=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=de}l=T===-1||P===-1?null:{start:T,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(iu={focusedElem:e,selectionRange:l},ma=!1,ge=s;ge!==null;)if(s=ge,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,ge=e;else for(;ge!==null;){s=ge;try{var xe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var be=xe.memoizedProps,at=xe.memoizedState,M=s.stateNode,I=M.getSnapshotBeforeUpdate(s.elementType===s.type?be:xn(s.type,be),at);M.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(te){ot(s,s.return,te)}if(e=s.sibling,e!==null){e.return=s.return,ge=e;break}ge=s.return}return xe=Sm,Sm=!1,xe}function bi(e,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&e)===e){var v=h.destroy;h.destroy=void 0,v!==void 0&&qu(s,l,v)}h=h.next}while(h!==d)}}function Ja(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Gu(e){var s=e.ref;if(s!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof s=="function"?s(e):s.current=e}}function Cm(e){var s=e.alternate;s!==null&&(e.alternate=null,Cm(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[In],delete s[ui],delete s[uu],delete s[Hb],delete s[Kb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nm(e){return e.tag===5||e.tag===3||e.tag===4}function km(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qu(e,s,l){var d=e.tag;if(d===5||d===6)e=e.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(e,s):l.insertBefore(e,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(e,l)):(s=l,s.appendChild(e)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ka));else if(d!==4&&(e=e.child,e!==null))for(Qu(e,s,l),e=e.sibling;e!==null;)Qu(e,s,l),e=e.sibling}function Ju(e,s,l){var d=e.tag;if(d===5||d===6)e=e.stateNode,s?l.insertBefore(e,s):l.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Ju(e,s,l),e=e.sibling;e!==null;)Ju(e,s,l),e=e.sibling}var jt=null,yn=!1;function br(e,s,l){for(l=l.child;l!==null;)Em(e,s,l),l=l.sibling}function Em(e,s,l){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(ca,l)}catch{}switch(l.tag){case 5:kt||Xs(l,s);case 6:var d=jt,h=yn;jt=null,br(e,s,l),jt=d,yn=h,jt!==null&&(yn?(e=jt,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):jt.removeChild(l.stateNode));break;case 18:jt!==null&&(yn?(e=jt,l=l.stateNode,e.nodeType===8?cu(e.parentNode,l):e.nodeType===1&&cu(e,l),Zo(e)):cu(jt,l.stateNode));break;case 4:d=jt,h=yn,jt=l.stateNode.containerInfo,yn=!0,br(e,s,l),jt=d,yn=h;break;case 0:case 11:case 14:case 15:if(!kt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var v=h,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&qu(l,s,S),h=h.next}while(h!==d)}br(e,s,l);break;case 1:if(!kt&&(Xs(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(T){ot(l,s,T)}br(e,s,l);break;case 21:br(e,s,l);break;case 22:l.mode&1?(kt=(d=kt)||l.memoizedState!==null,br(e,s,l),kt=d):br(e,s,l);break;default:br(e,s,l)}}function Tm(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new lj),s.forEach(function(d){var h=xj.bind(null,e,d);l.has(d)||(l.add(d),d.then(h,h))})}}function wn(e,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var h=l[d];try{var v=e,S=s,T=S;e:for(;T!==null;){switch(T.tag){case 5:jt=T.stateNode,yn=!1;break e;case 3:jt=T.stateNode.containerInfo,yn=!0;break e;case 4:jt=T.stateNode.containerInfo,yn=!0;break e}T=T.return}if(jt===null)throw Error(r(160));Em(v,S,h),jt=null,yn=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(B){ot(h,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Rm(s,e),s=s.sibling}function Rm(e,s){var l=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wn(s,e),Ln(e),d&4){try{bi(3,e,e.return),Ja(3,e)}catch(be){ot(e,e.return,be)}try{bi(5,e,e.return)}catch(be){ot(e,e.return,be)}}break;case 1:wn(s,e),Ln(e),d&512&&l!==null&&Xs(l,l.return);break;case 5:if(wn(s,e),Ln(e),d&512&&l!==null&&Xs(l,l.return),e.flags&32){var h=e.stateNode;try{Bo(h,"")}catch(be){ot(e,e.return,be)}}if(d&4&&(h=e.stateNode,h!=null)){var v=e.memoizedProps,S=l!==null?l.memoizedProps:v,T=e.type,P=e.updateQueue;if(e.updateQueue=null,P!==null)try{T==="input"&&v.type==="radio"&&v.name!=null&&lt(h,v),kc(T,S);var B=kc(T,v);for(S=0;S<P.length;S+=2){var X=P[S],Z=P[S+1];X==="style"?fh(h,Z):X==="dangerouslySetInnerHTML"?uh(h,Z):X==="children"?Bo(h,Z):R(h,X,Z,B)}switch(T){case"input":Ye(h,v);break;case"textarea":ah(h,v);break;case"select":var Y=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?Kt(h,!!v.multiple,de,!1):Y!==!!v.multiple&&(v.defaultValue!=null?Kt(h,!!v.multiple,v.defaultValue,!0):Kt(h,!!v.multiple,v.multiple?[]:"",!1))}h[ui]=v}catch(be){ot(e,e.return,be)}}break;case 6:if(wn(s,e),Ln(e),d&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,v=e.memoizedProps;try{h.nodeValue=v}catch(be){ot(e,e.return,be)}}break;case 3:if(wn(s,e),Ln(e),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Zo(s.containerInfo)}catch(be){ot(e,e.return,be)}break;case 4:wn(s,e),Ln(e);break;case 13:wn(s,e),Ln(e),h=e.child,h.flags&8192&&(v=h.memoizedState!==null,h.stateNode.isHidden=v,!v||h.alternate!==null&&h.alternate.memoizedState!==null||(Zu=it())),d&4&&Tm(e);break;case 22:if(X=l!==null&&l.memoizedState!==null,e.mode&1?(kt=(B=kt)||X,wn(s,e),kt=B):wn(s,e),Ln(e),d&8192){if(B=e.memoizedState!==null,(e.stateNode.isHidden=B)&&!X&&(e.mode&1)!==0)for(ge=e,X=e.child;X!==null;){for(Z=ge=X;ge!==null;){switch(Y=ge,de=Y.child,Y.tag){case 0:case 11:case 14:case 15:bi(4,Y,Y.return);break;case 1:Xs(Y,Y.return);var xe=Y.stateNode;if(typeof xe.componentWillUnmount=="function"){d=Y,l=Y.return;try{s=d,xe.props=s.memoizedProps,xe.state=s.memoizedState,xe.componentWillUnmount()}catch(be){ot(d,l,be)}}break;case 5:Xs(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Om(Z);continue}}de!==null?(de.return=Y,ge=de):Om(Z)}X=X.sibling}e:for(X=null,Z=e;;){if(Z.tag===5){if(X===null){X=Z;try{h=Z.stateNode,B?(v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(T=Z.stateNode,P=Z.memoizedProps.style,S=P!=null&&P.hasOwnProperty("display")?P.display:null,T.style.display=dh("display",S))}catch(be){ot(e,e.return,be)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(be){ot(e,e.return,be)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===e)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===e)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===e)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:wn(s,e),Ln(e),d&4&&Tm(e);break;case 21:break;default:wn(s,e),Ln(e)}}function Ln(e){var s=e.flags;if(s&2){try{e:{for(var l=e.return;l!==null;){if(Nm(l)){var d=l;break e}l=l.return}throw Error(r(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(Bo(h,""),d.flags&=-33);var v=km(e);Ju(e,v,h);break;case 3:case 4:var S=d.stateNode.containerInfo,T=km(e);Qu(e,T,S);break;default:throw Error(r(161))}}catch(P){ot(e,e.return,P)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function uj(e,s,l){ge=e,Pm(e)}function Pm(e,s,l){for(var d=(e.mode&1)!==0;ge!==null;){var h=ge,v=h.child;if(h.tag===22&&d){var S=h.memoizedState!==null||Qa;if(!S){var T=h.alternate,P=T!==null&&T.memoizedState!==null||kt;T=Qa;var B=kt;if(Qa=S,(kt=P)&&!B)for(ge=h;ge!==null;)S=ge,P=S.child,S.tag===22&&S.memoizedState!==null?Im(h):P!==null?(P.return=S,ge=P):Im(h);for(;v!==null;)ge=v,Pm(v),v=v.sibling;ge=h,Qa=T,kt=B}Am(e)}else(h.subtreeFlags&8772)!==0&&v!==null?(v.return=h,ge=v):Am(e)}}function Am(e){for(;ge!==null;){var s=ge;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:kt||Ja(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!kt)if(l===null)d.componentDidMount();else{var h=s.elementType===s.type?l.memoizedProps:xn(s.type,l.memoizedProps);d.componentDidUpdate(h,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Op(s,v,d);break;case 3:var S=s.updateQueue;if(S!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Op(s,S,l)}break;case 5:var T=s.stateNode;if(l===null&&s.flags&4){l=T;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&l.focus();break;case"img":P.src&&(l.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var X=B.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&Zo(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}kt||s.flags&512&&Gu(s)}catch(Y){ot(s,s.return,Y)}}if(s===e){ge=null;break}if(l=s.sibling,l!==null){l.return=s.return,ge=l;break}ge=s.return}}function Om(e){for(;ge!==null;){var s=ge;if(s===e){ge=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ge=l;break}ge=s.return}}function Im(e){for(;ge!==null;){var s=ge;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Ja(4,s)}catch(P){ot(s,l,P)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var h=s.return;try{d.componentDidMount()}catch(P){ot(s,h,P)}}var v=s.return;try{Gu(s)}catch(P){ot(s,v,P)}break;case 5:var S=s.return;try{Gu(s)}catch(P){ot(s,S,P)}}}catch(P){ot(s,s.return,P)}if(s===e){ge=null;break}var T=s.sibling;if(T!==null){T.return=s.return,ge=T;break}ge=s.return}}var dj=Math.ceil,Ya=D.ReactCurrentDispatcher,Yu=D.ReactCurrentOwner,un=D.ReactCurrentBatchConfig,Ke=0,xt=null,ct=null,_t=0,Jt=0,Zs=gr(0),ht=0,ji=null,cs=0,Xa=0,Xu=0,_i=null,Ut=null,Zu=0,eo=1/0,er=null,Za=!1,ed=null,jr=null,el=!1,_r=null,tl=0,Si=0,td=null,nl=-1,rl=0;function Rt(){return(Ke&6)!==0?it():nl!==-1?nl:nl=it()}function Sr(e){return(e.mode&1)===0?1:(Ke&2)!==0&&_t!==0?_t&-_t:Gb.transition!==null?(rl===0&&(rl=kh()),rl):(e=Je,e!==0||(e=window.event,e=e===void 0?16:Mh(e.type)),e)}function bn(e,s,l,d){if(50<Si)throw Si=0,td=null,Error(r(185));Go(e,l,d),((Ke&2)===0||e!==xt)&&(e===xt&&((Ke&2)===0&&(Xa|=l),ht===4&&Cr(e,_t)),zt(e,d),l===1&&Ke===0&&(s.mode&1)===0&&(eo=it()+500,Pa&&xr()))}function zt(e,s){var l=e.callbackNode;G0(e,s);var d=fa(e,e===xt?_t:0);if(d===0)l!==null&&Sh(l),e.callbackNode=null,e.callbackPriority=0;else if(s=d&-d,e.callbackPriority!==s){if(l!=null&&Sh(l),s===1)e.tag===0?qb(Mm.bind(null,e)):bp(Mm.bind(null,e)),Vb(function(){(Ke&6)===0&&xr()}),l=null;else{switch(Eh(d)){case 1:l=Ic;break;case 4:l=Ch;break;case 16:l=la;break;case 536870912:l=Nh;break;default:l=la}l=Wm(l,Dm.bind(null,e))}e.callbackPriority=s,e.callbackNode=l}}function Dm(e,s){if(nl=-1,rl=0,(Ke&6)!==0)throw Error(r(327));var l=e.callbackNode;if(to()&&e.callbackNode!==l)return null;var d=fa(e,e===xt?_t:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||s)s=sl(e,d);else{s=d;var h=Ke;Ke|=2;var v=$m();(xt!==e||_t!==s)&&(er=null,eo=it()+500,ds(e,s));do try{pj();break}catch(T){Lm(e,T)}while(!0);yu(),Ya.current=v,Ke=h,ct!==null?s=0:(xt=null,_t=0,s=ht)}if(s!==0){if(s===2&&(h=Dc(e),h!==0&&(d=h,s=nd(e,h))),s===1)throw l=ji,ds(e,0),Cr(e,d),zt(e,it()),l;if(s===6)Cr(e,d);else{if(h=e.current.alternate,(d&30)===0&&!fj(h)&&(s=sl(e,d),s===2&&(v=Dc(e),v!==0&&(d=v,s=nd(e,v))),s===1))throw l=ji,ds(e,0),Cr(e,d),zt(e,it()),l;switch(e.finishedWork=h,e.finishedLanes=d,s){case 0:case 1:throw Error(r(345));case 2:fs(e,Ut,er);break;case 3:if(Cr(e,d),(d&130023424)===d&&(s=Zu+500-it(),10<s)){if(fa(e,0)!==0)break;if(h=e.suspendedLanes,(h&d)!==d){Rt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=lu(fs.bind(null,e,Ut,er),s);break}fs(e,Ut,er);break;case 4:if(Cr(e,d),(d&4194240)===d)break;for(s=e.eventTimes,h=-1;0<d;){var S=31-mn(d);v=1<<S,S=s[S],S>h&&(h=S),d&=~v}if(d=h,d=it()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*dj(d/1960))-d,10<d){e.timeoutHandle=lu(fs.bind(null,e,Ut,er),d);break}fs(e,Ut,er);break;case 5:fs(e,Ut,er);break;default:throw Error(r(329))}}}return zt(e,it()),e.callbackNode===l?Dm.bind(null,e):null}function nd(e,s){var l=_i;return e.current.memoizedState.isDehydrated&&(ds(e,s).flags|=256),e=sl(e,s),e!==2&&(s=Ut,Ut=l,s!==null&&rd(s)),e}function rd(e){Ut===null?Ut=e:Ut.push.apply(Ut,e)}function fj(e){for(var s=e;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var h=l[d],v=h.getSnapshot;h=h.value;try{if(!gn(v(),h))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cr(e,s){for(s&=~Xu,s&=~Xa,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var l=31-mn(s),d=1<<l;e[l]=-1,s&=~d}}function Mm(e){if((Ke&6)!==0)throw Error(r(327));to();var s=fa(e,0);if((s&1)===0)return zt(e,it()),null;var l=sl(e,s);if(e.tag!==0&&l===2){var d=Dc(e);d!==0&&(s=d,l=nd(e,d))}if(l===1)throw l=ji,ds(e,0),Cr(e,s),zt(e,it()),l;if(l===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,fs(e,Ut,er),zt(e,it()),null}function sd(e,s){var l=Ke;Ke|=1;try{return e(s)}finally{Ke=l,Ke===0&&(eo=it()+500,Pa&&xr())}}function us(e){_r!==null&&_r.tag===0&&(Ke&6)===0&&to();var s=Ke;Ke|=1;var l=un.transition,d=Je;try{if(un.transition=null,Je=1,e)return e()}finally{Je=d,un.transition=l,Ke=s,(Ke&6)===0&&xr()}}function od(){Jt=Zs.current,tt(Zs)}function ds(e,s){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,Bb(l)),ct!==null)for(l=ct.return;l!==null;){var d=l;switch(pu(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ta();break;case 3:Js(),tt(Lt),tt(St),ku();break;case 5:Cu(d);break;case 4:Js();break;case 13:tt(rt);break;case 19:tt(rt);break;case 10:wu(d.type._context);break;case 22:case 23:od()}l=l.return}if(xt=e,ct=e=Nr(e.current,null),_t=Jt=s,ht=0,ji=null,Xu=Xa=cs=0,Ut=_i=null,is!==null){for(s=0;s<is.length;s++)if(l=is[s],d=l.interleaved,d!==null){l.interleaved=null;var h=d.next,v=l.pending;if(v!==null){var S=v.next;v.next=h,d.next=S}l.pending=d}is=null}return e}function Lm(e,s){do{var l=ct;try{if(yu(),za.current=Ha,Ba){for(var d=st.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}Ba=!1}if(ls=0,vt=ft=st=null,gi=!1,vi=0,Yu.current=null,l===null||l.return===null){ht=1,ji=s,ct=null;break}e:{var v=e,S=l.return,T=l,P=s;if(s=_t,T.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,X=T,Z=X.tag;if((X.mode&1)===0&&(Z===0||Z===11||Z===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var de=lm(S);if(de!==null){de.flags&=-257,cm(de,S,T,v,s),de.mode&1&&am(v,B,s),s=de,P=B;var xe=s.updateQueue;if(xe===null){var be=new Set;be.add(P),s.updateQueue=be}else xe.add(P);break e}else{if((s&1)===0){am(v,B,s),id();break e}P=Error(r(426))}}else if(nt&&T.mode&1){var at=lm(S);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),cm(at,S,T,v,s),vu(Ys(P,T));break e}}v=P=Ys(P,T),ht!==4&&(ht=2),_i===null?_i=[v]:_i.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var M=om(v,P,s);Ap(v,M);break e;case 1:T=P;var I=v.type,$=v.stateNode;if((v.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(jr===null||!jr.has($)))){v.flags|=65536,s&=-s,v.lanes|=s;var te=im(v,T,s);Ap(v,te);break e}}v=v.return}while(v!==null)}Um(l)}catch(_e){s=_e,ct===l&&l!==null&&(ct=l=l.return);continue}break}while(!0)}function $m(){var e=Ya.current;return Ya.current=Ha,e===null?Ha:e}function id(){(ht===0||ht===3||ht===2)&&(ht=4),xt===null||(cs&268435455)===0&&(Xa&268435455)===0||Cr(xt,_t)}function sl(e,s){var l=Ke;Ke|=2;var d=$m();(xt!==e||_t!==s)&&(er=null,ds(e,s));do try{hj();break}catch(h){Lm(e,h)}while(!0);if(yu(),Ke=l,Ya.current=d,ct!==null)throw Error(r(261));return xt=null,_t=0,ht}function hj(){for(;ct!==null;)Fm(ct)}function pj(){for(;ct!==null&&!F0();)Fm(ct)}function Fm(e){var s=Vm(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,s===null?Um(e):ct=s,Yu.current=null}function Um(e){var s=e;do{var l=s.alternate;if(e=s.return,(s.flags&32768)===0){if(l=ij(l,s,Jt),l!==null){ct=l;return}}else{if(l=aj(l,s),l!==null){l.flags&=32767,ct=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,ct=null;return}}if(s=s.sibling,s!==null){ct=s;return}ct=s=e}while(s!==null);ht===0&&(ht=5)}function fs(e,s,l){var d=Je,h=un.transition;try{un.transition=null,Je=1,mj(e,s,l,d)}finally{un.transition=h,Je=d}return null}function mj(e,s,l,d){do to();while(_r!==null);if((Ke&6)!==0)throw Error(r(327));l=e.finishedWork;var h=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var v=l.lanes|l.childLanes;if(Q0(e,v),e===xt&&(ct=xt=null,_t=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||el||(el=!0,Wm(la,function(){return to(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=un.transition,un.transition=null;var S=Je;Je=1;var T=Ke;Ke|=4,Yu.current=null,cj(e,l),Rm(l,e),Db(iu),ma=!!ou,iu=ou=null,e.current=l,uj(l),U0(),Ke=T,Je=S,un.transition=v}else e.current=l;if(el&&(el=!1,_r=e,tl=h),v=e.pendingLanes,v===0&&(jr=null),V0(l.stateNode),zt(e,it()),s!==null)for(d=e.onRecoverableError,l=0;l<s.length;l++)h=s[l],d(h.value,{componentStack:h.stack,digest:h.digest});if(Za)throw Za=!1,e=ed,ed=null,e;return(tl&1)!==0&&e.tag!==0&&to(),v=e.pendingLanes,(v&1)!==0?e===td?Si++:(Si=0,td=e):Si=0,xr(),null}function to(){if(_r!==null){var e=Eh(tl),s=un.transition,l=Je;try{if(un.transition=null,Je=16>e?16:e,_r===null)var d=!1;else{if(e=_r,_r=null,tl=0,(Ke&6)!==0)throw Error(r(331));var h=Ke;for(Ke|=4,ge=e.current;ge!==null;){var v=ge,S=v.child;if((ge.flags&16)!==0){var T=v.deletions;if(T!==null){for(var P=0;P<T.length;P++){var B=T[P];for(ge=B;ge!==null;){var X=ge;switch(X.tag){case 0:case 11:case 15:bi(8,X,v)}var Z=X.child;if(Z!==null)Z.return=X,ge=Z;else for(;ge!==null;){X=ge;var Y=X.sibling,de=X.return;if(Cm(X),X===B){ge=null;break}if(Y!==null){Y.return=de,ge=Y;break}ge=de}}}var xe=v.alternate;if(xe!==null){var be=xe.child;if(be!==null){xe.child=null;do{var at=be.sibling;be.sibling=null,be=at}while(be!==null)}}ge=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,ge=S;else e:for(;ge!==null;){if(v=ge,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:bi(9,v,v.return)}var M=v.sibling;if(M!==null){M.return=v.return,ge=M;break e}ge=v.return}}var I=e.current;for(ge=I;ge!==null;){S=ge;var $=S.child;if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,ge=$;else e:for(S=I;ge!==null;){if(T=ge,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Ja(9,T)}}catch(_e){ot(T,T.return,_e)}if(T===S){ge=null;break e}var te=T.sibling;if(te!==null){te.return=T.return,ge=te;break e}ge=T.return}}if(Ke=h,xr(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(ca,e)}catch{}d=!0}return d}finally{Je=l,un.transition=s}}return!1}function zm(e,s,l){s=Ys(l,s),s=om(e,s,1),e=wr(e,s,1),s=Rt(),e!==null&&(Go(e,1,s),zt(e,s))}function ot(e,s,l){if(e.tag===3)zm(e,e,l);else for(;s!==null;){if(s.tag===3){zm(s,e,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))){e=Ys(l,e),e=im(s,e,1),s=wr(s,e,1),e=Rt(),s!==null&&(Go(s,1,e),zt(s,e));break}}s=s.return}}function gj(e,s,l){var d=e.pingCache;d!==null&&d.delete(s),s=Rt(),e.pingedLanes|=e.suspendedLanes&l,xt===e&&(_t&l)===l&&(ht===4||ht===3&&(_t&130023424)===_t&&500>it()-Zu?ds(e,0):Xu|=l),zt(e,s)}function Bm(e,s){s===0&&((e.mode&1)===0?s=1:(s=da,da<<=1,(da&130023424)===0&&(da=4194304)));var l=Rt();e=Yn(e,s),e!==null&&(Go(e,s,l),zt(e,l))}function vj(e){var s=e.memoizedState,l=0;s!==null&&(l=s.retryLane),Bm(e,l)}function xj(e,s){var l=0;switch(e.tag){case 13:var d=e.stateNode,h=e.memoizedState;h!==null&&(l=h.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(s),Bm(e,l)}var Vm;Vm=function(e,s,l){if(e!==null)if(e.memoizedProps!==s.pendingProps||Lt.current)Ft=!0;else{if((e.lanes&l)===0&&(s.flags&128)===0)return Ft=!1,oj(e,s,l);Ft=(e.flags&131072)!==0}else Ft=!1,nt&&(s.flags&1048576)!==0&&jp(s,Oa,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Ga(e,s),e=s.pendingProps;var h=Vs(s,St.current);Qs(s,l),h=Ru(null,s,d,e,h,l);var v=Pu();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,$t(d)?(v=!0,Ra(s)):v=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,_u(s),h.updater=Ka,s.stateNode=h,h._reactInternals=s,Lu(s,d,e,l),s=zu(null,s,d,!0,v,l)):(s.tag=0,nt&&v&&hu(s),Tt(null,s,h,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Ga(e,s),e=s.pendingProps,h=d._init,d=h(d._payload),s.type=d,h=s.tag=wj(d),e=xn(d,e),h){case 0:s=Uu(null,s,d,e,l);break e;case 1:s=mm(null,s,d,e,l);break e;case 11:s=um(null,s,d,e,l);break e;case 14:s=dm(null,s,d,xn(d.type,e),l);break e}throw Error(r(306,d,""))}return s;case 0:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:xn(d,h),Uu(e,s,d,h,l);case 1:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:xn(d,h),mm(e,s,d,h,l);case 3:e:{if(gm(s),e===null)throw Error(r(387));d=s.pendingProps,v=s.memoizedState,h=v.element,Pp(e,s),Fa(s,d,null,l);var S=s.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){h=Ys(Error(r(423)),s),s=vm(e,s,d,l,h);break e}else if(d!==h){h=Ys(Error(r(424)),s),s=vm(e,s,d,l,h);break e}else for(Qt=mr(s.stateNode.containerInfo.firstChild),Gt=s,nt=!0,vn=null,l=Tp(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ks(),d===h){s=Zn(e,s,l);break e}Tt(e,s,d,l)}s=s.child}return s;case 5:return Ip(s),e===null&&gu(s),d=s.type,h=s.pendingProps,v=e!==null?e.memoizedProps:null,S=h.children,au(d,h)?S=null:v!==null&&au(d,v)&&(s.flags|=32),pm(e,s),Tt(e,s,S,l),s.child;case 6:return e===null&&gu(s),null;case 13:return xm(e,s,l);case 4:return Su(s,s.stateNode.containerInfo),d=s.pendingProps,e===null?s.child=qs(s,null,d,l):Tt(e,s,d,l),s.child;case 11:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:xn(d,h),um(e,s,d,h,l);case 7:return Tt(e,s,s.pendingProps,l),s.child;case 8:return Tt(e,s,s.pendingProps.children,l),s.child;case 12:return Tt(e,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,h=s.pendingProps,v=s.memoizedProps,S=h.value,Xe(Ma,d._currentValue),d._currentValue=S,v!==null)if(gn(v.value,S)){if(v.children===h.children&&!Lt.current){s=Zn(e,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var T=v.dependencies;if(T!==null){S=v.child;for(var P=T.firstContext;P!==null;){if(P.context===d){if(v.tag===1){P=Xn(-1,l&-l),P.tag=2;var B=v.updateQueue;if(B!==null){B=B.shared;var X=B.pending;X===null?P.next=P:(P.next=X.next,X.next=P),B.pending=P}}v.lanes|=l,P=v.alternate,P!==null&&(P.lanes|=l),bu(v.return,l,s),T.lanes|=l;break}P=P.next}}else if(v.tag===10)S=v.type===s.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(r(341));S.lanes|=l,T=S.alternate,T!==null&&(T.lanes|=l),bu(S,l,s),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===s){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Tt(e,s,h.children,l),s=s.child}return s;case 9:return h=s.type,d=s.pendingProps.children,Qs(s,l),h=ln(h),d=d(h),s.flags|=1,Tt(e,s,d,l),s.child;case 14:return d=s.type,h=xn(d,s.pendingProps),h=xn(d.type,h),dm(e,s,d,h,l);case 15:return fm(e,s,s.type,s.pendingProps,l);case 17:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:xn(d,h),Ga(e,s),s.tag=1,$t(d)?(e=!0,Ra(s)):e=!1,Qs(s,l),rm(s,d,h),Lu(s,d,h,l),zu(null,s,d,!0,e,l);case 19:return wm(e,s,l);case 22:return hm(e,s,l)}throw Error(r(156,s.tag))};function Wm(e,s){return _h(e,s)}function yj(e,s,l,d){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,s,l,d){return new yj(e,s,l,d)}function ad(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wj(e){if(typeof e=="function")return ad(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oe)return 11;if(e===q)return 14}return 2}function Nr(e,s){var l=e.alternate;return l===null?(l=dn(e.tag,s,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=s,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,s=e.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function ol(e,s,l,d,h,v){var S=2;if(d=e,typeof e=="function")ad(e)&&(S=1);else if(typeof e=="string")S=5;else e:switch(e){case O:return hs(l.children,h,v,s);case F:S=8,h|=8;break;case re:return e=dn(12,l,s,h|2),e.elementType=re,e.lanes=v,e;case fe:return e=dn(13,l,s,h),e.elementType=fe,e.lanes=v,e;case ae:return e=dn(19,l,s,h),e.elementType=ae,e.lanes=v,e;case ne:return il(l,h,v,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:S=10;break e;case se:S=9;break e;case oe:S=11;break e;case q:S=14;break e;case J:S=16,d=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return s=dn(S,l,s,h),s.elementType=e,s.type=d,s.lanes=v,s}function hs(e,s,l,d){return e=dn(7,e,d,s),e.lanes=l,e}function il(e,s,l,d){return e=dn(22,e,d,s),e.elementType=ne,e.lanes=l,e.stateNode={isHidden:!1},e}function ld(e,s,l){return e=dn(6,e,null,s),e.lanes=l,e}function cd(e,s,l){return s=dn(4,e.children!==null?e.children:[],e.key,s),s.lanes=l,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function bj(e,s,l,d,h){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mc(0),this.expirationTimes=Mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function ud(e,s,l,d,h,v,S,T,P){return e=new bj(e,s,l,T,P),s===1?(s=1,v===!0&&(s|=8)):s=0,v=dn(3,null,null,s),e.current=v,v.stateNode=e,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},_u(v),e}function jj(e,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:d==null?null:""+d,children:e,containerInfo:s,implementation:l}}function Hm(e){if(!e)return vr;e=e._reactInternals;e:{if(ts(e)!==e||e.tag!==1)throw Error(r(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if($t(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(e.tag===1){var l=e.type;if($t(l))return yp(e,l,s)}return s}function Km(e,s,l,d,h,v,S,T,P){return e=ud(l,d,!0,e,h,v,S,T,P),e.context=Hm(null),l=e.current,d=Rt(),h=Sr(l),v=Xn(d,h),v.callback=s??null,wr(l,v,h),e.current.lanes=h,Go(e,h,d),zt(e,d),e}function al(e,s,l,d){var h=s.current,v=Rt(),S=Sr(h);return l=Hm(l),s.context===null?s.context=l:s.pendingContext=l,s=Xn(v,S),s.payload={element:e},d=d===void 0?null:d,d!==null&&(s.callback=d),e=wr(h,s,S),e!==null&&(bn(e,h,S,v),$a(e,h,S)),S}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qm(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<s?l:s}}function dd(e,s){qm(e,s),(e=e.alternate)&&qm(e,s)}function _j(){return null}var Gm=typeof reportError=="function"?reportError:function(e){console.error(e)};function fd(e){this._internalRoot=e}cl.prototype.render=fd.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(r(409));al(e,s,null,null)},cl.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;us(function(){al(null,e,null,null)}),s[qn]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var s=Ph();e={blockedOn:null,target:e,priority:s};for(var l=0;l<fr.length&&s!==0&&s<fr[l].priority;l++);fr.splice(l,0,e),l===0&&Ih(e)}};function hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ul(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qm(){}function Sj(e,s,l,d,h){if(h){if(typeof d=="function"){var v=d;d=function(){var B=ll(S);v.call(B)}}var S=Km(s,d,e,0,null,!1,!1,"",Qm);return e._reactRootContainer=S,e[qn]=S.current,li(e.nodeType===8?e.parentNode:e),us(),S}for(;h=e.lastChild;)e.removeChild(h);if(typeof d=="function"){var T=d;d=function(){var B=ll(P);T.call(B)}}var P=ud(e,0,!1,null,null,!1,!1,"",Qm);return e._reactRootContainer=P,e[qn]=P.current,li(e.nodeType===8?e.parentNode:e),us(function(){al(s,P,l,d)}),P}function dl(e,s,l,d,h){var v=l._reactRootContainer;if(v){var S=v;if(typeof h=="function"){var T=h;h=function(){var P=ll(S);T.call(P)}}al(s,S,e,h)}else S=Sj(l,s,e,h,d);return ll(S)}Th=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var l=qo(s.pendingLanes);l!==0&&(Lc(s,l|1),zt(s,it()),(Ke&6)===0&&(eo=it()+500,xr()))}break;case 13:us(function(){var d=Yn(e,1);if(d!==null){var h=Rt();bn(d,e,1,h)}}),dd(e,1)}},$c=function(e){if(e.tag===13){var s=Yn(e,134217728);if(s!==null){var l=Rt();bn(s,e,134217728,l)}dd(e,134217728)}},Rh=function(e){if(e.tag===13){var s=Sr(e),l=Yn(e,s);if(l!==null){var d=Rt();bn(l,e,s,d)}dd(e,s)}},Ph=function(){return Je},Ah=function(e,s){var l=Je;try{return Je=e,s()}finally{Je=l}},Rc=function(e,s,l){switch(s){case"input":if(Ye(e,l),s=l.name,l.type==="radio"&&s!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==e&&d.form===e.form){var h=Ea(d);if(!h)throw Error(r(90));L(d),Ye(d,h)}}}break;case"textarea":ah(e,l);break;case"select":s=l.value,s!=null&&Kt(e,!!l.multiple,s,!1)}},gh=sd,vh=us;var Cj={usingClientEntryPoint:!1,Events:[di,zs,Ea,ph,mh,sd]},Ci={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nj={bundleType:Ci.bundleType,version:Ci.version,rendererPackageName:Ci.rendererPackageName,rendererConfig:Ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bh(e),e===null?null:e.stateNode},findFiberByHostInstance:Ci.findFiberByHostInstance||_j,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{ca=fl.inject(Nj),On=fl}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cj,Bt.createPortal=function(e,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hd(s))throw Error(r(200));return jj(e,s,null,l)},Bt.createRoot=function(e,s){if(!hd(e))throw Error(r(299));var l=!1,d="",h=Gm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=ud(e,1,!1,null,null,l,!1,d,h),e[qn]=s.current,li(e.nodeType===8?e.parentNode:e),new fd(s)},Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=bh(s),e=e===null?null:e.stateNode,e},Bt.flushSync=function(e){return us(e)},Bt.hydrate=function(e,s,l){if(!ul(s))throw Error(r(200));return dl(null,e,s,!0,l)},Bt.hydrateRoot=function(e,s,l){if(!hd(e))throw Error(r(405));var d=l!=null&&l.hydratedSources||null,h=!1,v="",S=Gm;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),s=Km(s,null,e,1,l??null,h,!1,v,S),e[qn]=s.current,li(e),d)for(e=0;e<d.length;e++)l=d[e],h=l._getVersion,h=h(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,h]:s.mutableSourceEagerHydrationData.push(l,h);return new cl(s)},Bt.render=function(e,s,l){if(!ul(s))throw Error(r(200));return dl(null,e,s,!1,l)},Bt.unmountComponentAtNode=function(e){if(!ul(e))throw Error(r(40));return e._reactRootContainer?(us(function(){dl(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1},Bt.unstable_batchedUpdates=sd,Bt.unstable_renderSubtreeIntoContainer=function(e,s,l,d){if(!ul(l))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return dl(e,s,l,!1,d)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var rg;function _v(){if(rg)return gd.exports;rg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),gd.exports=Dj(),gd.exports}var sg;function Mj(){if(sg)return hl;sg=1;var n=_v();return hl.createRoot=n.createRoot,hl.hydrateRoot=n.hydrateRoot,hl}var Lj=Mj(),w=jf();const Fn=bf(w),Sv=Ej({__proto__:null,default:Fn},[w]),$j="modulepreload",Fj=function(n,t){return new URL(n,t).href},og={},Ki=function(t,r,i){let a=Promise.resolve();if(r&&r.length>0){let u=function(m){return Promise.all(m.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const f=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");a=u(r.map(m=>{if(m=Fj(m,i),m in og)return;og[m]=!0;const x=m.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(!!i)for(let b=f.length-1;b>=0;b--){const C=f[b];if(C.href===m&&(!x||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${y}`))return;const j=document.createElement("link");if(j.rel=x?"stylesheet":$j,x||(j.as="script"),j.crossOrigin="",j.href=m,g&&j.setAttribute("nonce",g),document.head.appendChild(j),x)return new Promise((b,C)=>{j.addEventListener("load",b),j.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&c(f.reason);return t().catch(c)})},Uj=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...r)=>Ki(async()=>{const{default:i}=await Promise.resolve().then(()=>Io);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)};class _f extends Error{constructor(t,r="FunctionsError",i){super(t),this.name=r,this.context=i}}class ig extends _f{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ag extends _f{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lg extends _f{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ud;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Ud||(Ud={}));var zj=function(n,t,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(m){try{g(i.next(m))}catch(x){u(x)}}function p(m){try{g(i.throw(m))}catch(x){u(x)}}function g(m){m.done?c(m.value):a(m.value).then(f,p)}g((i=i.apply(n,t||[])).next())})};class Bj{constructor(t,{headers:r={},customFetch:i,region:a=Ud.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Uj(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return zj(this,arguments,void 0,function*(r,i={}){var a;try{const{headers:c,method:u,body:f,signal:p}=i;let g={},{region:m}=i;m||(m=this.region);const x=new URL(`${this.url}/${r}`);m&&m!=="any"&&(g["x-region"]=m,x.searchParams.set("forceFunctionRegion",m));let y;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(g["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(g["Content-Type"]="application/json",y=JSON.stringify(f)));const _=yield this.fetch(x.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:y,signal:p}).catch(k=>{throw k.name==="AbortError"?k:new ig(k)}),j=_.headers.get("x-relay-error");if(j&&j==="true")throw new ag(_);if(!_.ok)throw new lg(_);let b=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return b==="application/json"?C=yield _.json():b==="application/octet-stream"?C=yield _.blob():b==="text/event-stream"?C=_:b==="multipart/form-data"?C=yield _.formData():C=yield _.text(),{data:C,error:null,response:_}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new ig(c)}:{data:null,error:c,response:c instanceof lg||c instanceof ag?c.context:void 0}}})}}var wt={},no={},ro={},so={},oo={},io={},Vj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},No=Vj();const Wj=No.fetch,Cv=No.fetch.bind(No),Nv=No.Headers,Hj=No.Request,Kj=No.Response,Io=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nv,Request:Hj,Response:Kj,default:Cv,fetch:Wj},Symbol.toStringTag,{value:"Module"})),qj=Tj(Io);var pl={},cg;function kv(){if(cg)return pl;cg=1,Object.defineProperty(pl,"__esModule",{value:!0});class n extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return pl.default=n,pl}var ug;function Ev(){if(ug)return io;ug=1;var n=io&&io.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(io,"__esModule",{value:!0});const t=n(qj),r=n(kv());class i{constructor(c){var u,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var m,x,y,_;let j=null,b=null,C=null,k=g.status,E=g.statusText;if(g.ok){if(this.method!=="HEAD"){const H=await g.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?b=H:b=JSON.parse(H))}const D=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),U=(y=g.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");D&&U&&U.length>1&&(C=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(j={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,C=null,k=406,E="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const D=await g.text();try{j=JSON.parse(D),Array.isArray(j)&&g.status===404&&(b=[],j=null,k=200,E="OK")}catch{g.status===404&&D===""?(k=204,E="No Content"):j={message:D}}if(j&&this.isMaybeSingle&&(!((_=j?.details)===null||_===void 0)&&_.includes("0 rows"))&&(j=null,k=200,E="OK"),j&&this.shouldThrowOnError)throw new r.default(j)}return{error:j,data:b,count:C,status:k,statusText:E}});return this.shouldThrowOnError||(p=p.catch(g=>{var m,x,y;return{error:{message:`${(m=g?.name)!==null&&m!==void 0?m:"FetchError"}: ${g?.message}`,details:`${(x=g?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(y=g?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,u)}returns(){return this}overrideTypes(){return this}}return io.default=i,io}var dg;function Tv(){if(dg)return oo;dg=1;var n=oo&&oo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(oo,"__esModule",{value:!0});const t=n(Ev());class r extends t.default{select(a){let c=!1;const u=(a??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:c=!0,nullsFirst:u,foreignTable:f,referencedTable:p=f}={}){const g=p?`${p}.order`:"order",m=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${m?`${m},`:""}${a}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,c,{foreignTable:u,referencedTable:f=u}={}){const p=typeof f>"u"?"offset":`${f}.offset`,g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(g,`${c-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:c=!1,settings:u=!1,buffers:f=!1,wal:p=!1,format:g="text"}={}){var m;const x=[a?"analyze":null,c?"verbose":null,u?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${y}"; options=${x};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return oo.default=r,oo}var fg;function Sf(){if(fg)return so;fg=1;var n=so&&so.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(so,"__esModule",{value:!0});const t=n(Tv());class r extends t.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}in(a,c){const u=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:u,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${p}fts${g}.${c}`),this}match(a){return Object.entries(a).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(a,c,u){return this.url.searchParams.append(a,`not.${c}.${u}`),this}or(a,{foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,c,u){return this.url.searchParams.append(a,`${c}.${u}`),this}}return so.default=r,so}var hg;function Rv(){if(hg)return ro;hg=1;var n=ro&&ro.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ro,"__esModule",{value:!0});const t=n(Sf());class r{constructor(a,{headers:c={},schema:u,fetch:f}){this.url=a,this.headers=new Headers(c),this.schema=u,this.fetch=f}select(a,c){const{head:u=!1,count:f}=c??{},p=u?"HEAD":"GET";let g=!1;const m=(a??"*").split("").map(x=>/\s/.test(x)&&!g?"":(x==='"'&&(g=!g),x)).join("");return this.url.searchParams.set("select",m),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:c,defaultToNull:u=!0}={}){var f;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((m,x)=>m.concat(Object.keys(x)),[]);if(g.length>0){const m=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:c,ignoreDuplicates:u=!1,count:f,defaultToNull:p=!0}={}){var g;const m="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const x=a.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(x.length>0){const y=[...new Set(x)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:c}={}){var u;const f="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var c;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return ro.default=r,ro}var pg;function Gj(){if(pg)return no;pg=1;var n=no&&no.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(no,"__esModule",{value:!0});const t=n(Rv()),r=n(Sf());class i{constructor(c,{headers:u={},schema:f,fetch:p}={}){this.url=c,this.headers=new Headers(u),this.schemaName=f,this.fetch=p}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:f=!1,get:p=!1,count:g}={}){var m;let x;const y=new URL(`${this.url}/rpc/${c}`);let _;f||p?(x=f?"HEAD":"GET",Object.entries(u).filter(([b,C])=>C!==void 0).map(([b,C])=>[b,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([b,C])=>{y.searchParams.append(b,C)})):(x="POST",_=u);const j=new Headers(this.headers);return g&&j.set("Prefer",`count=${g}`),new r.default({method:x,url:y,headers:j,schema:this.schemaName,body:_,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return no.default=i,no}var mg;function Qj(){if(mg)return wt;mg=1;var n=wt&&wt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(wt,"__esModule",{value:!0}),wt.PostgrestError=wt.PostgrestBuilder=wt.PostgrestTransformBuilder=wt.PostgrestFilterBuilder=wt.PostgrestQueryBuilder=wt.PostgrestClient=void 0;const t=n(Gj());wt.PostgrestClient=t.default;const r=n(Rv());wt.PostgrestQueryBuilder=r.default;const i=n(Sf());wt.PostgrestFilterBuilder=i.default;const a=n(Tv());wt.PostgrestTransformBuilder=a.default;const c=n(Ev());wt.PostgrestBuilder=c.default;const u=n(kv());return wt.PostgrestError=u.default,wt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:c.default,PostgrestError:u.default},wt}var Jj=Qj();const Yj=bf(Jj),{PostgrestClient:Xj,PostgrestQueryBuilder:WA,PostgrestFilterBuilder:HA,PostgrestTransformBuilder:KA,PostgrestBuilder:qA,PostgrestError:GA}=Yj;class Zj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const i=this.getWebSocketConstructor();return new i(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const e_="2.75.0",t_=`realtime-js/${e_}`,n_="1.0.0",zd=1e4,r_=1e3,s_=100;var Oi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Oi||(Oi={}));var mt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(mt||(mt={}));var Sn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Sn||(Sn={}));var Bd;(function(n){n.websocket="websocket"})(Bd||(Bd={}));var ys;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ys||(ys={}));class o_{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,r,i)}_decodeBroadcast(t,r,i){const a=r.getUint8(1),c=r.getUint8(2);let u=this.HEADER_LENGTH+2;const f=i.decode(t.slice(u,u+a));u=u+a;const p=i.decode(t.slice(u,u+c));u=u+c;const g=JSON.parse(i.decode(t.slice(u,t.byteLength)));return{ref:null,topic:f,event:p,payload:g}}}class Pv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ze||(Ze={}));const gg=(n,t,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((c,u)=>(c[u]=i_(u,n,t,a),c),{}):{}},i_=(n,t,r,i)=>{const a=t.find(f=>f.name===n),c=a?.type,u=r[n];return c&&!i.includes(c)?Av(c,u):Vd(u)},Av=(n,t)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return u_(t,r)}switch(n){case Ze.bool:return a_(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return l_(t);case Ze.json:case Ze.jsonb:return c_(t);case Ze.timestamp:return d_(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Vd(t);default:return Vd(t)}},Vd=n=>n,a_=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},l_=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},c_=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},u_=(n,t)=>{if(typeof n!="string")return n;const r=n.length-1,i=n[r];if(n[0]==="{"&&i==="}"){let c;const u=n.slice(1,r);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(f=>Av(t,f))}return n},d_=n=>typeof n=="string"?n.replace(" ","T"):n,Ov=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class yd{constructor(t,r,i={},a=zd){this.channel=t,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var i;return this._hasReceived(t)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(vg||(vg={}));class Ii{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ii.syncState(this.state,a,c,u),this.pendingDiffs.forEach(p=>{this.state=Ii.syncDiff(this.state,p,c,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},a=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ii.syncDiff(this.state,a,c,u),f())}),this.onJoin((a,c,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:u})}),this.onLeave((a,c,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,i,a){const c=this.cloneDeep(t),u=this.transformState(r),f={},p={};return this.map(c,(g,m)=>{u[g]||(p[g]=m)}),this.map(u,(g,m)=>{const x=c[g];if(x){const y=m.map(C=>C.presence_ref),_=x.map(C=>C.presence_ref),j=m.filter(C=>_.indexOf(C.presence_ref)<0),b=x.filter(C=>y.indexOf(C.presence_ref)<0);j.length>0&&(f[g]=j),b.length>0&&(p[g]=b)}else f[g]=m}),this.syncDiff(c,{joins:f,leaves:p},i,a)}static syncDiff(t,r,i,a){const{joins:c,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(c,(f,p)=>{var g;const m=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(p),m.length>0){const x=t[f].map(_=>_.presence_ref),y=m.filter(_=>x.indexOf(_.presence_ref)<0);t[f].unshift(...y)}i(f,m,p)}),this.map(u,(f,p)=>{let g=t[f];if(!g)return;const m=p.map(x=>x.presence_ref);g=g.filter(x=>m.indexOf(x.presence_ref)<0),t[f]=g,a(f,g,p),g.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(i=>r(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,i)=>{const a=t[i];return"metas"in a?r[i]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[i]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(xg||(xg={}));var Di;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Di||(Di={}));var nr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(nr||(nr={}));class Cf{constructor(t,r={config:{}},i){var a,c;if(this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yd(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new Pv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Ii(this),this.broadcastEndpointURL=Ov(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var i,a,c;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:u,presence:f,private:p}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[Di.PRESENCE]&&this.bindings[Di.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,x={},y={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:m}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(nr.CHANNEL_ERROR,_)),this._onClose(()=>t?.(nr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var j;if(this.socket.setAuth(),_===void 0){t?.(nr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(j=b?.length)!==null&&j!==void 0?j:0,k=[];for(let E=0;E<C;E++){const R=b[E],{filter:{event:D,schema:U,table:H,filter:O}}=R,F=_&&_[E];if(F&&F.event===D&&F.schema===U&&F.table===H&&F.filter===O)k.push(Object.assign(Object.assign({},R),{id:F.id}));else{this.unsubscribe(),this.state=mt.errored,t?.(nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(nr.SUBSCRIBED);return}}).receive("error",_=>{this.state=mt.errored,t?.(nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,i){return this.state===mt.joined&&t===Di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,i)}async send(t,r={}){var i,a;if(!this._canPush()&&t.type==="broadcast"){const{event:c,payload:u}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,f,p;const g=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=mt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new yd(this,Sn.leave,{},t),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}async _fetchWithTimeout(t,r,i){const a=new AbortController,c=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(c),u}_push(t,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new yd(this,t,r,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>s_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,i){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,i){var a,c;const u=t.toLocaleLowerCase(),{close:f,error:p,leave:g,join:m}=Sn;if(i&&[f,p,g,m].indexOf(u)>=0&&i!==this._joinRef())return;let y=this._onMessage(u,r,i);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var j,b,C;return((j=_.filter)===null||j===void 0?void 0:j.event)==="*"||((C=(b=_.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===u}).map(_=>_.callback(y,i)):(c=this.bindings[u])===null||c===void 0||c.filter(_=>{var j,b,C,k,E,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const D=_.id,U=(j=_.filter)===null||j===void 0?void 0:j.event;return D&&((b=r.ids)===null||b===void 0?void 0:b.includes(D))&&(U==="*"||U?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const D=(E=(k=_?.filter)===null||k===void 0?void 0:k.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return D==="*"||D===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof y=="object"&&"ids"in y){const j=y.data,{schema:b,table:C,commit_timestamp:k,type:E,errors:R}=j;y=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:k,eventType:E,new:{},old:{},errors:R}),this._getPayloadRecords(j))}_.callback(y,i)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,i){const a=t.toLocaleLowerCase(),c={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(t,r){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Cf.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sn.close,{},t)}_onError(t){this._on(Sn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gg(t.columns,t.old_record)),r}}const wd=()=>{},ml={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},f_=[1e3,2e3,5e3,1e4],h_=1e4,p_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class m_{constructor(t,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zd,this.transport=null,this.heartbeatIntervalMs=ml.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wd,this.ref=0,this.reconnectTimer=null,this.logger=wd,this.conn=null,this.sendBuffer=[],this.serializer=new o_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...u)=>Ki(async()=>{const{default:f}=await Promise.resolve().then(()=>Io);return{default:f}},void 0,import.meta.url).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...u)=>c(...u)},!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Bd.websocket}`,this.httpEndpoint=Ov(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:n_}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,i){this.logger(t,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Oi.connecting:return ys.Connecting;case Oi.open:return ys.Open;case Oi.closing:return ys.Closing;default:return ys.Closed}}isConnected(){return this.connectionState()===ys.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const i=`realtime:${t}`,a=this.getChannels().find(c=>c.topic===i);if(a)return a;{const c=new Cf(`realtime:${t}`,r,this);return this.channels.push(c),c}}push(t){const{topic:r,event:i,payload:a,ref:c}=t,u=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${r} ${i} (${c})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(r_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ml.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:c,ref:u}=r,f=u?`(${u})`:"",p=c.status||"";this.log("receive",`${p} ${i} ${a} ${f}`.trim(),c),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,c,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const i=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${i}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const i=new Blob([p_],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:t_};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Sn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Pv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ml.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,i,a,c,u,f,p,g,m;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:zd,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:ml.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:wd,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(x=>f_[x-1]||h_),this.encode=(g=t?.encode)!==null&&g!==void 0?g:((x,y)=>y(JSON.stringify(x))),this.decode=(m=t?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Nf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class g_ extends Nf{constructor(t,r,i){super(t),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wd extends Nf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var v_=function(n,t,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(m){try{g(i.next(m))}catch(x){u(x)}}function p(m){try{g(i.throw(m))}catch(x){u(x)}}function g(m){m.done?c(m.value):a(m.value).then(f,p)}g((i=i.apply(n,t||[])).next())})};const Iv=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...r)=>Ki(async()=>{const{default:i}=await Promise.resolve().then(()=>Io);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)},x_=()=>v_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ki(()=>Promise.resolve().then(()=>Io),void 0,import.meta.url)).Response:Response}),Hd=n=>{if(Array.isArray(n))return n.map(r=>Hd(r));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[a]=Hd(i)}),t},y_=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Ts=function(n,t,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(m){try{g(i.next(m))}catch(x){u(x)}}function p(m){try{g(i.throw(m))}catch(x){u(x)}}function g(m){m.done?c(m.value):a(m.value).then(f,p)}g((i=i.apply(n,t||[])).next())})};const bd=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),w_=(n,t,r)=>Ts(void 0,void 0,void 0,function*(){const i=yield x_();n instanceof i&&!r?.noResolveJson?n.json().then(a=>{const c=n.status||500,u=a?.statusCode||c+"";t(new g_(bd(a),c,u))}).catch(a=>{t(new Wd(bd(a),a))}):t(new Wd(bd(n),n))}),b_=(n,t,r,i)=>{const a={method:n,headers:t?.headers||{}};return n==="GET"||!i?a:(y_(i)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(i)):a.body=i,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function qi(n,t,r,i,a,c){return Ts(this,void 0,void 0,function*(){return new Promise((u,f)=>{n(r,b_(t,i,a,c)).then(p=>{if(!p.ok)throw p;return i?.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>w_(p,f,i))})})}function Ol(n,t,r,i){return Ts(this,void 0,void 0,function*(){return qi(n,"GET",t,r,i)})}function $n(n,t,r,i,a){return Ts(this,void 0,void 0,function*(){return qi(n,"POST",t,i,a,r)})}function Kd(n,t,r,i,a){return Ts(this,void 0,void 0,function*(){return qi(n,"PUT",t,i,a,r)})}function j_(n,t,r,i){return Ts(this,void 0,void 0,function*(){return qi(n,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Dv(n,t,r,i,a){return Ts(this,void 0,void 0,function*(){return qi(n,"DELETE",t,i,a,r)})}var __=function(n,t,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(m){try{g(i.next(m))}catch(x){u(x)}}function p(m){try{g(i.throw(m))}catch(x){u(x)}}function g(m){m.done?c(m.value):a(m.value).then(f,p)}g((i=i.apply(n,t||[])).next())})};class S_{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return __(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var C_=function(n,t,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(m){try{g(i.next(m))}catch(x){u(x)}}function p(m){try{g(i.throw(m))}catch(x){u(x)}}function g(m){m.done?c(m.value):a(m.value).then(f,p)}g((i=i.apply(n,t||[])).next())})};class N_{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new S_(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return C_(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var Vt=function(n,t,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(m){try{g(i.next(m))}catch(x){u(x)}}function p(m){try{g(i.throw(m))}catch(x){u(x)}}function g(m){m.done?c(m.value):a(m.value).then(f,p)}g((i=i.apply(n,t||[])).next())})};const k_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E_{constructor(t,r={},i,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=i,this.fetch=Iv(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,i,a){return Vt(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},yg),a);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=i,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),a?.headers&&(f=Object.assign(Object.assign({},f),a.headers));const g=this._removeEmptyFolders(r),m=this._getFinalPath(g),x=yield(t=="PUT"?Kd:$n)(this.fetch,`${this.url}/object/${m}`,c,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:x.Id,fullPath:x.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}upload(t,r,i){return Vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,i)})}uploadToSignedUrl(t,r,i,a){return Vt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",r);try{let p;const g=Object.assign({upsert:yg.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,m["cache-control"]=`max-age=${g.cacheControl}`,m["content-type"]=g.contentType);const x=yield Kd(this.fetch,f.toString(),p,{headers:m});return{data:{path:c,fullPath:x.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(dt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,r){return Vt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const c=yield $n(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+c.url),f=u.searchParams.get("token");if(!f)throw new Nf("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:f},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}update(t,r,i){return Vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,i)})}move(t,r,i){return Vt(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}copy(t,r,i){return Vt(this,void 0,void 0,function*(){try{return{data:{path:(yield $n(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,i){return Vt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),c=yield $n(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,i){return Vt(this,void 0,void 0,function*(){try{const a=yield $n(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(r?.transform||{}),u=c?`?${c}`:"",f=this._getFinalPath(t),p=()=>Ol(this.fetch,`${this.url}/${a}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new N_(p,this.shouldThrowOnError)}info(t){return Vt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const i=yield Ol(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Hd(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}exists(t){return Vt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield j_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i)&&i instanceof Wd){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,r){const i=this._getFinalPath(t),a=[],c=r?.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&a.push(c);const f=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&a.push(p);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${g}`)}}}remove(t){return Vt(this,void 0,void 0,function*(){try{return{data:yield Dv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}list(t,r,i){return Vt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},k_),r),{prefix:t||""});return{data:yield $n(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Vt(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield $n(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const T_="2.75.0",R_={"X-Client-Info":`storage-js/${T_}`};var ao=function(n,t,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(m){try{g(i.next(m))}catch(x){u(x)}}function p(m){try{g(i.throw(m))}catch(x){u(x)}}function g(m){m.done?c(m.value):a(m.value).then(f,p)}g((i=i.apply(n,t||[])).next())})};class P_{constructor(t,r={},i,a){this.shouldThrowOnError=!1;const c=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},R_),r),this.fetch=Iv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ao(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return ao(this,void 0,void 0,function*(){try{return{data:yield Ol(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}createBucket(t){return ao(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield $n(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ao(this,void 0,void 0,function*(){try{return{data:yield Kd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return ao(this,void 0,void 0,function*(){try{return{data:yield $n(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ao(this,void 0,void 0,function*(){try{return{data:yield Dv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}class A_ extends P_{constructor(t,r={},i,a){super(t,r,i,a)}from(t){return new E_(this.url,this.headers,t,this.fetch)}}const O_="2.75.0";let Ri="";typeof Deno<"u"?Ri="deno":typeof document<"u"?Ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ri="react-native":Ri="node";const I_={"X-Client-Info":`supabase-js-${Ri}/${O_}`},D_={headers:I_},M_={schema:"public"},L_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$_={};var F_=function(n,t,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(m){try{g(i.next(m))}catch(x){u(x)}}function p(m){try{g(i.throw(m))}catch(x){u(x)}}function g(m){m.done?c(m.value):a(m.value).then(f,p)}g((i=i.apply(n,t||[])).next())})};const U_=n=>{let t;return n?t=n:typeof fetch>"u"?t=Cv:t=fetch,(...r)=>t(...r)},z_=()=>typeof Headers>"u"?Nv:Headers,B_=(n,t,r)=>{const i=U_(r),a=z_();return(c,u)=>F_(void 0,void 0,void 0,function*(){var f;const p=(f=yield t())!==null&&f!==void 0?f:n;let g=new a(u?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(c,Object.assign(Object.assign({},u),{headers:g}))})};var V_=function(n,t,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(m){try{g(i.next(m))}catch(x){u(x)}}function p(m){try{g(i.throw(m))}catch(x){u(x)}}function g(m){m.done?c(m.value):a(m.value).then(f,p)}g((i=i.apply(n,t||[])).next())})};function W_(n){return n.endsWith("/")?n:n+"/"}function H_(n,t){var r,i;const{db:a,auth:c,realtime:u,global:f}=n,{db:p,auth:g,realtime:m,global:x}=t,y={db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},m),u),storage:{},global:Object.assign(Object.assign(Object.assign({},x),f),{headers:Object.assign(Object.assign({},(r=x?.headers)!==null&&r!==void 0?r:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>V_(this,void 0,void 0,function*(){return""})};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}function K_(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(W_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Mv="2.75.0",xo=30*1e3,qd=3,jd=qd*xo,q_="http://localhost:9999",G_="supabase.auth.token",Q_={"X-Client-Info":`gotrue-js/${Mv}`},Gd="X-Supabase-Api-Version",Lv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},J_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Y_=600*1e3;class Li extends Error{constructor(t,r,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function Re(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class X_ extends Li{constructor(t,r,i){super(t,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function Z_(n){return Re(n)&&n.name==="AuthApiError"}class ws extends Li{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Jr extends Li{constructor(t,r,i,a){super(t,i,a),this.name=r,this.status=i}}class Pr extends Jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eS(n){return Re(n)&&n.name==="AuthSessionMissingError"}class lo extends Jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gl extends Jr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vl extends Jr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tS(n){return Re(n)&&n.name==="AuthImplicitGrantRedirectError"}class wg extends Jr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qd extends Jr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function _d(n){return Re(n)&&n.name==="AuthRetryableFetchError"}class bg extends Jr{constructor(t,r,i){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Jd extends Jr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jg=` 	
\r=`.split(""),nS=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<jg.length;t+=1)n[jg[t].charCodeAt(0)]=-2;for(let t=0;t<Il.length;t+=1)n[Il[t].charCodeAt(0)]=t;return n})();function _g(n,t,r){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(Il[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(Il[i]),t.queuedBits-=6}}function $v(n,t,r){const i=nS[n];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Sg(n){const t=[],r=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},c=u=>{oS(u,i,r)};for(let u=0;u<n.length;u+=1)$v(n.charCodeAt(u),a,c);return t.join("")}function rS(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function sS(n,t){for(let r=0;r<n.length;r+=1){let i=n.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(n.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}rS(i,t)}}function oS(n,t,r){if(t.utf8seq===0){if(n<=127){r(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wo(n){const t=[],r={queue:0,queuedBits:0},i=a=>{t.push(a)};for(let a=0;a<n.length;a+=1)$v(n.charCodeAt(a),r,i);return new Uint8Array(t)}function iS(n){const t=[];return sS(n,r=>t.push(r)),new Uint8Array(t)}function js(n){const t=[],r={queue:0,queuedBits:0},i=a=>{t.push(a)};return n.forEach(a=>_g(a,r,i)),_g(null,r,i),t.join("")}function aS(n){return Math.round(Date.now()/1e3)+n}function lS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}const Yt=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},Fv=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function cS(n){const t={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,c)=>{t[c]=a})}catch{}return r.searchParams.forEach((i,a)=>{t[a]=i}),t}const Uv=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...r)=>Ki(async()=>{const{default:i}=await Promise.resolve().then(()=>Io);return{default:i}},void 0,import.meta.url).then(({default:i})=>i(...r)):t=fetch,(...r)=>t(...r)},uS=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",yo=async(n,t,r)=>{await n.setItem(t,JSON.stringify(r))},ms=async(n,t)=>{const r=await n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Er=async(n,t)=>{await n.removeItem(t)};class Ql{constructor(){this.promise=new Ql.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ql.promiseConstructor=Promise;function Sd(n){const t=n.split(".");if(t.length!==3)throw new Jd("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!J_.test(t[i]))throw new Jd("JWT not in base64url format");return{header:JSON.parse(Sg(t[0])),payload:JSON.parse(Sg(t[1])),signature:wo(t[2]),raw:{header:t[0],payload:t[1]}}}async function dS(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function fS(n,t){return new Promise((i,a)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!t(c,null,u)){i(u);return}}catch(u){if(!t(c,u)){a(u);return}}})()})}function hS(n){return("0"+n.toString(16)).substr(-2)}function pS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let c=0;c<56;c++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(t),Array.from(t,hS).join("")}async function mS(n){const r=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(c=>String.fromCharCode(c)).join("")}async function gS(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await mS(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function co(n,t,r=!1){const i=pS();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await yo(n,`${t}-code-verifier`,a);const c=await gS(i);return[c,i===c?"plain":"s256"]}const vS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xS(n){const t=n.headers.get(Gd);if(!t||!t.match(vS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yS(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function wS(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function uo(n){if(!bS.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cd(){const n={};return new Proxy(n,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cg(n){return JSON.parse(JSON.stringify(n))}var jS=function(n,t){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(r[i[a]]=n[i[a]]);return r};const xs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),_S=[502,503,504];async function Ng(n){var t;if(!uS(n))throw new Qd(xs(n),0);if(_S.includes(n.status))throw new Qd(xs(n),n.status);let r;try{r=await n.json()}catch(c){throw new ws(xs(c),c)}let i;const a=xS(n);if(a&&a.getTime()>=Lv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new bg(xs(r),n.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Pr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new bg(xs(r),n.status,r.weak_password.reasons);throw new X_(xs(r),n.status||500,i)}const SS=(n,t,r,i)=>{const a={method:n,headers:t?.headers||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function $e(n,t,r,i){var a;const c=Object.assign({},i?.headers);c[Gd]||(c[Gd]=Lv["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await CS(n,t,r+f,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(p):{data:Object.assign({},p),error:null}}async function CS(n,t,r,i,a,c){const u=SS(t,i,a,c);let f;try{f=await n(r,Object.assign({},u))}catch(p){throw console.error(p),new Qd(xs(p),0)}if(f.ok||await Ng(f),i?.noResolveJson)return f;try{return await f.json()}catch(p){await Ng(p)}}function jn(n){var t;let r=null;ES(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=aS(n.expires_in)));const i=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:r,user:i},error:null}}function kg(n){const t=jn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Or(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function NS(n){return{data:n,error:null}}function kS(n){const{action_link:t,email_otp:r,hashed_token:i,redirect_to:a,verification_type:c}=n,u=jS(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:i,redirect_to:a,verification_type:c},p=Object.assign({},u);return{data:{properties:f,user:p},error:null}}function Eg(n){return n}function ES(n){return n.access_token&&n.refresh_token&&n.expires_in}const Nd=["global","local","others"];var TS=function(n,t){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(r[i[a]]=n[i[a]]);return r};class RS{constructor({url:t="",headers:r={},fetch:i}){this.url=t,this.headers=r,this.fetch=Uv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Nd[0]){if(Nd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nd.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Or})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:r}=t,i=TS(t,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:kS,redirectTo:r?.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Or})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,i,a,c,u,f,p;try{const g={nextPage:null,lastPage:0,total:0},m=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:Eg});if(m.error)throw m.error;const x=await m.json(),y=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(j=>{const b=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);g[`${C}Page`]=b}),g.total=parseInt(y)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(Re(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){uo(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Or})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){uo(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Or})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,r=!1){uo(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Or})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){uo(t.userId);try{const{data:r,error:i}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){uo(t.userId),uo(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,i,a,c,u,f,p;try{const g={nextPage:null,lastPage:0,total:0},m=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:Eg});if(m.error)throw m.error;const x=await m.json(),y=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(f=m.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(j=>{const b=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);g[`${C}Page`]=b}),g.total=parseInt(y)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(Re(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}}function Tg(n={}){return{getItem:t=>n[t]||null,setItem:(t,r)=>{n[t]=r},removeItem:t=>{delete n[t]}}}const fo={debug:!!(globalThis&&Fv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class PS extends zv{}async function AS(n,t,r){fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),fo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await r()}finally{fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(t===0)throw fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new PS(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(fo.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function OS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Bv(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function IS(n){return parseInt(n,16)}function DS(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function MS(n){var t;const{chainId:r,domain:i,expirationTime:a,issuedAt:c=new Date,nonce:u,notBefore:f,requestId:p,resources:g,scheme:m,uri:x,version:y}=n;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=Bv(n.address),j=m?`${m}://${i}`:i,b=n.statement?`${n.statement}
`:"",C=`${j} wants you to sign in with your Ethereum account:
${_}

${b}`;let k=`URI: ${x}
Version: ${y}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(a&&(k+=`
Expiration Time: ${a.toISOString()}`),f&&(k+=`
Not Before: ${f.toISOString()}`),p&&(k+=`
Request ID: ${p}`),g){let E=`
Resources:`;for(const R of g){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);E+=`
- ${R}`}k+=E}return`${C}
${k}`}class ut extends Error{constructor({message:t,code:r,cause:i,name:a}){var c;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=a??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class Dl extends ut{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function LS({error:n,options:t}){var r,i,a;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ut({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(Wv(u)){if(c.rp.id!==u)return new ut({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function $S({error:n,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ut({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(Wv(i)){if(r.rpId!==i)return new ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var Vv=function(n,t){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(r[i[a]]=n[i[a]]);return r};class FS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const US=new FS;function zS(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:r,excludeCredentials:i}=n,a=Vv(n,["challenge","user","excludeCredentials"]),c=wo(t).buffer,u=Object.assign(Object.assign({},r),{id:wo(r.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:c,user:u});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:wo(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function BS(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:r}=n,i=Vv(n,["challenge","allowCredentials"]),a=wo(t).buffer,c=Object.assign(Object.assign({},i),{challenge:a});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const f=r[u];c.allowCredentials[u]=Object.assign(Object.assign({},f),{id:wo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function VS(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n;return{id:n.id,rawId:n.id,response:{attestationObject:js(new Uint8Array(n.response.attestationObject)),clientDataJSON:js(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WS(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const r=n,i=n.getClientExtensionResults(),a=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:js(new Uint8Array(a.authenticatorData)),clientDataJSON:js(new Uint8Array(a.clientDataJSON)),signature:js(new Uint8Array(a.signature)),userHandle:a.userHandle?js(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wv(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Rg(){var n,t;return!!(Yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HS(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dl("Browser returned unexpected credential type",t)}:{data:null,error:new Dl("Empty credential response",t)}}catch(t){return{data:null,error:LS({error:t,options:n})}}}async function KS(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Dl("Browser returned unexpected credential type",t)}:{data:null,error:new Dl("Empty credential response",t)}}catch(t){return{data:null,error:$S({error:t,options:n})}}}const qS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},GS={userVerification:"preferred",hints:["security-key"]};function Ml(...n){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of n)if(a)for(const c in a){const u=a[c];if(u!==void 0)if(Array.isArray(u))i[c]=u;else if(r(u))i[c]=u;else if(t(u)){const f=i[c];t(f)?i[c]=Ml(f,u):i[c]=Ml(u)}else i[c]=u}return i}function QS(n,t){return Ml(qS,n,t||{})}function JS(n,t){return Ml(GS,n,t||{})}class YS{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:i,signal:a},c){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!u)return{data:null,error:f};const p=a??US.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=QS(u.webauthn.credential_options.publicKey,c?.create),{data:m,error:x}=await HS({publicKey:g,signal:p});return m?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:x}}case"request":{const g=JS(u.webauthn.credential_options.publicKey,c?.request),{data:m,error:x}=await KS(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:p}));return m?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:x}}}}catch(u){return Re(u)?{data:null,error:u}:{data:null,error:new ws("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}},c){if(!r)return{data:null,error:new Li("rpId is required for WebAuthn authentication")};try{if(!Rg())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:c});if(!u)return{data:null,error:f};const{webauthn:p}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:i,credential_response:p.credential_response}})}catch(u){return Re(u)?{data:null,error:u}:{data:null,error:new ws("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a},c){if(!r)return{data:null,error:new Li("rpId is required for WebAuthn registration")};try{if(!Rg())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(m=>{var x;return(x=m.data)===null||x===void 0?void 0:x.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:c});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(u){return Re(u)?{data:null,error:u}:{data:null,error:new ws("Unexpected error in register",u)}}}}OS();const XS={url:q_,storageKey:G_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pg(n,t,r){return await r()}const ho={};class $i{get jwks(){var t,r;return(r=(t=ho[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ho[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ho[this.storageKey]=Object.assign(Object.assign({},ho[this.storageKey]),{cachedAt:t})}constructor(t){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$i.nextInstanceID,$i.nextInstanceID+=1,this.instanceID>0&&Yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},XS),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new RS({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Uv(a.fetch),this.lock=a.lock||Pg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Yt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=AS:this.lock=Pg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new YS(this)},this.persistSession?(a.storage?this.storage=a.storage:Fv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Tg(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=cS(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),Yt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:c}=await this._getSessionFromURL(r,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),tS(c)){const p=(t=c.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Re(r)?{error:r}:{error:new ws("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,a;try{const c=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:jn}),{data:u,error:f}=c;if(f||!u)return{data:{user:null,session:null},error:f};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(Re(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var r,i,a;try{let c;if("email"in t){const{email:m,password:x,options:y}=t;let _=null,j=null;this.flowType==="pkce"&&([_,j]=await co(this.storage,this.storageKey)),c=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:x,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:_,code_challenge_method:j},xform:jn})}else if("phone"in t){const{phone:m,password:x,options:y}=t;c=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:x,data:(i=y?.data)!==null&&i!==void 0?i:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:jn})}else throw new gl("You must provide either an email or phone number and a password");const{data:u,error:f}=c;if(f||!u)return{data:{user:null,session:null},error:f};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(Re(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let r;if("email"in t){const{email:c,password:u,options:f}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:kg})}else if("phone"in t){const{phone:c,password:u,options:f}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:kg})}else throw new gl("You must provide either an email or phone number and a password");const{data:i,error:a}=r;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new lo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,i,a,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,a,c,u,f,p,g,m,x,y;let _,j;if("message"in t)_=t.message,j=t.signature;else{const{chain:b,wallet:C,statement:k,options:E}=t;let R;if(Yt())if(typeof C=="object")R=C;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")R=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const D=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),U=await R.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=Bv(U[0]);let O=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!O){const re=await R.request({method:"eth_chainId"});O=IS(re)}const F={domain:D.host,address:H,statement:k,uri:D.href,version:"1",chainId:O,nonce:(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=E?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=MS(F),j=await R.request({method:"personal_sign",params:[DS(_),H]})}try{const{data:b,error:C}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:j},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:jn});if(C)throw C;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new lo}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:C})}catch(b){if(Re(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var r,i,a,c,u,f,p,g,m,x,y,_;let j,b;if("message"in t)j=t.message,b=t.signature;else{const{chain:C,wallet:k,statement:E,options:R}=t;let D;if(Yt())if(typeof k=="object")D=k;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))D=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=k}const U=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const H=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),E?{statement:E}:null));let O;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")O=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)O=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)j=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),b=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${U.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(a=(i=R?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((c=R?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((x=(m=R?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||x===void 0)&&x.length?["Resources",...R.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const H=await D.signMessage(new TextEncoder().encode(j),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=H}}try{const{data:C,error:k}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:js(b)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:jn});if(k)throw k;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new lo}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:k})}catch(C){if(Re(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const r=await ms(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{const{data:c,error:u}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:jn});if(await Er(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new lo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:a??null}),error:u})}catch(c){if(Re(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:r,provider:i,token:a,access_token:c,nonce:u}=t,f=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:jn}),{data:p,error:g}=f;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new lo}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,i,a,c,u;try{if("email"in t){const{email:f,options:p}=t;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await co(this.storage,this.storageKey));const{error:x}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:m},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:f,options:p}=t,{data:g,error:m}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(u=p?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:m}}throw new gl("You must provide either an email or phone number.")}catch(f){if(Re(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var r,i;try{let a,c;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,c=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:a,xform:jn});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,g=u.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(a){if(Re(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,i,a;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await co(this.storage,this.storageKey)),await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:NS})}catch(c){if(Re(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Pr;const{error:a}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:i,type:a,options:c}=t,{error:u}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:i,type:a,options:c}=t,{data:u,error:f}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new gl("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<jd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const u=await ms(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=Cd()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,g,m)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,m))})}return{data:{session:t},error:null}}const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Or}):await this._useSession(async r=>{var i,a,c;const{data:u,error:f}=r;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pr}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0,xform:Or})})}catch(r){if(Re(r))return eS(r)&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{const{data:a,error:c}=i;if(c)throw c;if(!a.session)throw new Pr;const u=a.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await co(this.storage,this.storageKey));const{data:g,error:m}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:u.access_token,xform:Or});if(m)throw m;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Re(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pr;const r=Date.now()/1e3;let i=r,a=!0,c=null;const{payload:u}=Sd(t.access_token);if(u.exp&&(i=u.exp,a=i<=r),a){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(Re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){const{data:u,error:f}=r;if(f)throw f;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Pr;const{data:a,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Yt())throw new vl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wg("No code detected.");const{data:E,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:c,refresh_token:u,expires_in:f,expires_at:p,token_type:g}=t;if(!c||!f||!u||!g)throw new vl("No session defined in URL");const m=Math.round(Date.now()/1e3),x=parseInt(f);let y=m+x;p&&(y=parseInt(p));const _=y-m;_*1e3<=xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${x}s`);const j=y-x;m-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,y,m):m-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,y,m);const{data:b,error:C}=await this._getUser(c);if(C)throw C;const k={provider_token:i,provider_refresh_token:a,access_token:c,expires_in:x,expires_at:y,refresh_token:u,token_type:g,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:t.type},error:null}}catch(i){if(Re(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ms(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:c}=r;if(c)return{error:c};const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,t);if(f&&!(Z_(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await Er(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=lS(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,a;try{const{data:{session:c},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await co(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(Re(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:i,error:a}=await this._useSession(async c=>{var u,f,p,g,m;const{data:x,error:y}=c;if(y)throw y;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Yt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(Re(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{const{error:a,data:{session:c}}=r;if(a)throw a;const{options:u,provider:f,token:p,access_token:g,nonce:m}=t,x=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:p,access_token:g,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:jn}),{data:y,error:_}=x;return _?{data:{user:null,session:null},error:_}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new lo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:_})}catch(a){if(Re(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,a;const{data:c,error:u}=r;if(u)throw u;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await fS(async a=>(a>0&&await dS(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jn})),(a,c)=>{const u=200*Math.pow(2,a);return c&&_d(c)&&Date.now()+u-i<xo})}catch(i){if(this._debug(r,"error",i),Re(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Yt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await ms(this.storage,this.storageKey);if(a&&this.userStorage){let u=await ms(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await yo(this.userStorage,this.storageKey+"-user",u)),a.user=(t=u?.user)!==null&&t!==void 0?t:Cd()}else if(a&&!a.user&&!a.user){const u=await ms(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await Er(this.storage,this.storageKey+"-user"),await yo(this.storage,this.storageKey,a)):a.user=Cd()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const c=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jd;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${jd}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),_d(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(a.access_token);!f&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new Pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ql;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new Pr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(a,"error",c),Re(c)){const u={data:null,error:c};return _d(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,i=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(p){c.push(p)}});if(await Promise.all(u),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await yo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const c=Cg(a);await yo(this.storage,this.storageKey,c)}else{const a=Cg(r);await yo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Er(this.storage,this.storageKey),await Er(this.storage,this.storageKey+"-code-verifier"),await Er(this.storage,this.storageKey+"-user"),this.userStorage&&await Er(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-t)/xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${xo}ms, refresh threshold is ${qd} ticks`),a<=qd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await co(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(f.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);a.push(c.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;const{data:a,error:c}=r;return c?{data:null,error:c}:await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,a;const{data:c,error:u}=r;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:g}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(t.factorType==="totp"&&p.type==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:c}=r;if(c)return{data:null,error:c};const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?VS(t.webauthn.credential_response):WS(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(r){if(Re(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:c}=r;if(c)return{data:null,error:c};const u=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:zS(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:BS(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(c),c.status==="verified"&&a[c.factor_type].push(c);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,i;const{data:{session:a},error:c}=t;if(c)return{data:null,error:c};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Sd(a.access_token);let f=null;u.aal&&(f=u.aal);let p=f;((i=(r=a.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const m=u.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(f=>f.kid===t);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(f=>f.kid===t),i&&this.jwks_cached_at+Y_>a)return i;const{data:c,error:u}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=a,i=c.keys.find(f=>f.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){const{data:_,error:j}=await this.getSession();if(j||!_.session)return{data:null,error:j};i=_.session.access_token}const{header:a,payload:c,signature:u,raw:{header:f,payload:p}}=Sd(i);r?.allowExpired||yS(c.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:c,header:a,signature:u},error:null}}const m=wS(a.alg),x=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,x,u,iS(`${f}.${p}`)))throw new Jd("Invalid JWT signature");return{data:{claims:c,header:a,signature:u},error:null}}catch(i){if(Re(i))return{data:null,error:i};throw i}}}$i.nextInstanceID=0;const ZS=$i;class e1 extends ZS{constructor(t){super(t)}}var t1=function(n,t,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(m){try{g(i.next(m))}catch(x){u(x)}}function p(m){try{g(i.throw(m))}catch(x){u(x)}}function g(m){m.done?c(m.value):a(m.value).then(f,p)}g((i=i.apply(n,t||[])).next())})};class n1{constructor(t,r,i){var a,c,u;this.supabaseUrl=t,this.supabaseKey=r;const f=K_(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:M_,realtime:$_,auth:Object.assign(Object.assign({},L_),{storageKey:p}),global:D_},m=H_(i??{},g);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(x,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=m.auth)!==null&&u!==void 0?u:{},this.headers,m.global.fetch),this.fetch=B_(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new Xj(new URL("rest/v1",f).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new A_(this.storageUrl.href,this.headers,this.fetch,i?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new Bj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,i)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return t1(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:i,storage:a,userStorage:c,storageKey:u,flowType:f,lock:p,debug:g},m,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new e1({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:u,autoRefreshToken:t,persistSession:r,detectSessionInUrl:i,storage:a,userStorage:c,flowType:f,lock:p,debug:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new m_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(t,r,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const r1=(n,t,r)=>new n1(n,t,r);function s1(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}s1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Hv={};const Ir=typeof window<"u"&&window.SUPABASE_URL||typeof process<"u"&&Hv?.NEXT_PUBLIC_SUPABASE_URL||"https://dlzlnebdpxrmqnelrbfm.supabase.co",Yd=typeof window<"u"&&window.SUPABASE_ANON_KEY||typeof process<"u"&&Hv?.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsemxuZWJkcHhybXFuZWxyYmZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMTExNDksImV4cCI6MjA3MzU4NzE0OX0.GUUpkHK5pGBxPgUNdU3OlzKXmpIoskxEofFG7jUYSuw";let ve=null;const o1=Ir!==""&&Yd!==""&&Ir!=="undefined"&&Yd!=="undefined";if(o1)try{ve=r1(Ir,Yd),console.log(" Supabase client created successfully"),console.log(" Connected to project:",Ir),console.log(" iTOURu Dashboard ready with live database!")}catch(n){console.error(" Failed to create Supabase client:",n),ve=null}else console.log(" Supabase credentials not found, running in demo mode"),console.log("URL available:",!0,"Key available:",!0),console.log("URL value:",Ir.substring(0,30)+"...");let Ag=!1;const Kv=async()=>{if(!Pe())return console.log(" Supabase not configured, skipping anonymous auth"),null;try{const{data:{session:n},error:t}=await ve.auth.getSession();if(n)return console.log(" Active session found:",n.user.id),Ag=!0,n;console.log(" No active session found, signing in anonymously...");const{data:r,error:i}=await ve.auth.signInAnonymously();return i?(console.warn(" Anonymous sign-in error:",i.message),console.log("   This is expected if RLS policies allow anon role access"),null):r.session?(console.log(" Anonymous session created:",r.session.user.id),Ag=!0,r.session):null}catch(n){return console.warn(" Could not establish anonymous session:",n.message),console.log("   Continuing without session - RLS policies may block access"),null}};let Tl={users:"Users",buildings:"Building",rooms:"Room",content_items:"Content",activities:null,notifications:null,tours:"Tours",tour_stops:"Tour_Stops",qr_codes:"QR Code",tour_visits:"Tour_Visits"};const Pe=()=>ve!==null,i1=async n=>{try{console.log(` Detecting columns for table: ${n}`);const{data:t,error:r}=await ve.from(n).select("*").limit(1);if(r)return console.log(` Could not detect columns for ${n}:`,r.message),null;if(t&&t.length>0){const i=Object.keys(t[0]);return console.log(` Detected columns in ${n}:`,i),i}return console.log(` Table ${n} is empty, cannot detect columns automatically`),null}catch(t){return console.log(" Error detecting columns:",t.message),null}},a1=async()=>{if(!Pe())return console.log("Supabase not configured, using mock data"),Promise.resolve();try{console.log(" Ensuring anonymous session for RLS access..."),await Kv(),console.log(" Checking existing tables...");const n={users:["Users","users","user","User"],buildings:["Building","Buildings","buildings","building"],rooms:["Room","Rooms","rooms","room"],content_items:["Content","content_items","content","Content_Items"],activities:["Activity","Activities","activities","activity"],notifications:["Notification","Notifications","notifications","notification"],tours:["Tours","tours","tour","Tour"],qr_codes:["QR Code","QR_Codes","qr_codes","qrcodes","QRCodes"]},t={};for(const[r,i]of Object.entries(n)){let a=!1;for(const c of i)try{const{count:u,error:f}=await ve.from(c).select("*",{count:"exact",head:!0});if(!f){t[r]=c,console.log(` Found table: ${r} -> ${c} (${u} records)`),a=!0;break}}catch{}a||(t[r]=Tl[r],t[r]?console.log(` Using default mapping: ${r} -> ${t[r]}`):console.log(` Table not found: ${r} (will use mock data)`))}if(Tl=t,window.actualTableNames=t,console.log(" Table mappings:",Tl),t.users){const r=await i1(t.users);r&&(window.userTableColumns=r),console.log(" Verifying actual Users table schema...");const i=await l1(t.users);i&&(window.usersTableSchema=i,console.log(" Users table schema verified"))}console.log(" Database initialization completed")}catch(n){throw console.error("Database initialization error:",n),n}},ki={totalUsers:2947,buildingsMapped:24,contentItems:1452,tourViews:18921},xl=[{id:1,type:"registration",title:"New User Registration",description:"15 users registered for virtual tours",time:"2 hours ago",user:"System",icon:"Users",color:"bg-blue-500"},{id:2,type:"media_upload",title:"Media Upload Complete",description:"Added 8 photos to Science Building tour",time:"4 hours ago",user:"Admin",icon:"Upload",color:"bg-green-500"},{id:3,type:"qr_generated",title:"QR Code Generated",description:"New QR Codes for Library entrance",time:"6 hours ago",user:"System",icon:"QrCode",color:"bg-purple-500"},{id:4,type:"content_updated",title:"Building Content Updated",description:"Engineering Building tour content revised",time:"8 hours ago",user:"Admin",icon:"Building",color:"bg-orange-500"}],yl=[{id:1,type:"alert",title:"System Maintenance",description:"Scheduled maintenance tonight 2:00 AM - 4:00 AM",time:"1 hour ago",read:!1,priority:"high"},{id:2,type:"info",title:"New Feature Available",description:"QR Code analytics dashboard is now live",time:"3 hours ago",read:!1,priority:"medium"},{id:3,type:"success",title:"Backup Completed",description:"Daily data backup finished successfully",time:"5 hours ago",read:!0,priority:"low"}],l1=async n=>{if(!Pe())return console.log(" Supabase not configured"),null;try{console.log(` Inspecting schema for table: ${n}`);const{data:t,error:r}=await ve.from(n).select("*").limit(1);if(r)return console.error(` Error getting sample from ${n}:`,r),null;if(t&&t.length>0){const i=Object.keys(t[0]);return console.log(` Actual columns in ${n}:`,i),console.log(" Sample data:",t[0]),{columns:i,sampleData:t[0]}}else return console.log(` Table ${n} is empty`),{columns:[],sampleData:null}}catch(t){return console.error(` Error inspecting ${n}:`,t),null}},Ge=n=>{const t=Tl[n];return t===null?null:t||n},Xd=async()=>{if(!Pe())return Promise.resolve({totalUsers:ki.totalUsers+Math.floor(Math.random()*100),buildingsMapped:ki.buildingsMapped,contentItems:ki.contentItems+Math.floor(Math.random()*50),tourViews:ki.tourViews+Math.floor(Math.random()*500)});try{const n=new Promise((m,x)=>setTimeout(()=>x(new Error("Request timeout")),1e4)),t=Ge("users"),r=Ge("buildings"),i=Ge("content_items"),a=Ge("tours"),c=Promise.all([t?ve.from(t).select("*",{count:"exact",head:!0}):Promise.resolve({count:0}),r?ve.from(r).select("*",{count:"exact",head:!0}):Promise.resolve({count:0}),i?ve.from(i).select("*",{count:"exact",head:!0}):Promise.resolve({count:0}),a?ve.from(a).select("*",{count:"exact",head:!0}):Promise.resolve({count:0})]),[{count:u},{count:f},{count:p},{count:g}]=await Promise.race([c,n]);return console.log(" Stats retrieved:",{totalUsers:u,buildingsMapped:f,contentItems:p,tourViews:g}),{totalUsers:u||0,buildingsMapped:f||0,contentItems:p||0,tourViews:g||0}}catch(n){return console.error("Error fetching dashboard stats:",n),ki}},Zd=async(n=10)=>{if(!Pe())return Promise.resolve(xl.slice(0,n).map(t=>({...t,time:d1()})));try{const t=new Promise((f,p)=>setTimeout(()=>p(new Error("Request timeout")),8e3)),r=Ge("activities"),i=Ge("users");if(!r)return console.log(" Activities table not configured, using mock data"),xl.slice(0,n);const a=ve.from(r).select(`
        *,
        ${i}(full_name)
      `).limit(n);let{data:c,error:u}=await Promise.race([a.order("created_at",{ascending:!1}),t]);if(u&&u.message&&u.message.includes("created_at does not exist")){console.log(" created_at column not found in Activity table, fetching without ordering");const f=await Promise.race([a,t]);c=f.data,u=f.error}return u?(console.log(" Activities query failed (expected if table not created), using mock data"),xl.slice(0,n)):c?.map(f=>({id:f.id,type:f.activity_type,title:f.title,description:f.description,time:qv(f.created_at),user:f[i]?.full_name||"System",icon:c1(f.activity_type),color:u1(f.activity_type)}))||[]}catch(t){return console.log(" Error fetching activities (using mock data):",t.message||t),xl.slice(0,n)}},Og=async(n=null)=>{if(!Pe())return Promise.resolve(yl);try{const t=new Promise((u,f)=>setTimeout(()=>f(new Error("Request timeout")),8e3)),r=Ge("notifications");if(!r)return console.log(" Notifications table not configured, using mock data"),yl;let i=ve.from(r).select("*").order("created_at",{ascending:!1});n&&(i=i.eq("user_id",n));const{data:a,error:c}=await Promise.race([i,t]);return c?(console.log(" Notifications query failed (expected if table not created), using mock data"),yl):a?.map(u=>({id:u.id,type:u.type,title:u.title,description:u.description,time:qv(u.created_at),read:u.is_read,priority:u.priority}))||[]}catch(t){return console.log(" Error fetching notifications (using mock data):",t.message||t),yl}},qv=n=>{const t=new Date,r=new Date(n),i=Math.floor((t-r)/(1e3*60*60));if(i<1)return"Just now";if(i<24)return`${i} hour${i>1?"s":""} ago`;const a=Math.floor(i/24);return`${a} day${a>1?"s":""} ago`},c1=n=>({registration:"Users",media_upload:"Upload",qr_generated:"QrCode",tour_started:"Route",content_updated:"Building"})[n]||"Activity",u1=n=>({registration:"bg-blue-500",media_upload:"bg-green-500",qr_generated:"bg-purple-500",tour_started:"bg-orange-500",content_updated:"bg-yellow-500"})[n]||"bg-gray-500",d1=()=>{const n=["2 minutes ago","15 minutes ago","1 hour ago","2 hours ago","4 hours ago","6 hours ago","8 hours ago","1 day ago"];return n[Math.floor(Math.random()*n.length)]},f1=async n=>{if(!Pe())return console.log("Mock: Marked notification as read:",n),Promise.resolve(!0);try{const t=Ge("notifications");if(!t)return console.log("Notifications table not found, skipping update"),!0;const{error:r}=await ve.from(t).update({is_read:!0,read_at:new Date().toISOString()}).eq("id",n);if(r)throw r;return!0}catch(t){return console.error("Error marking notification as read:",t),!1}},h1=async(n=null)=>{if(!Pe())return console.log("Mock: Marked all notifications as read"),Promise.resolve(!0);try{const t=Ge("notifications");if(!t)return console.log("Notifications table not found, skipping update"),!0;let r=ve.from(t).update({is_read:!0,read_at:new Date().toISOString()}).eq("is_read",!1);n&&(r=r.eq("user_id",n));const{error:i}=await r;if(i)throw i;return!0}catch(t){return console.error("Error marking all notifications as read:",t),!1}},Gv=n=>n?{id:n.user_id||n.ID||n.Id,user_id:n.user_id||n.ID||n.Id,email:n.email||n.Email||n.EMAIL,first_name:n.first_name||n.First_Name||n.FirstName||n.firstname||"",middle_name:n.middle_name||n.Middle_Name||n.MiddleName||n.middlename||"",last_name:n.last_name||n.Last_Name||n.LastName||n.lastname||"",user_type:n.user_type||n.user_type||n.user_type||"visitor",phone_number:n.phone_number||n.phone_number||"",college:n.college||n.College||"",status:n.status||n.Status||"Active",created_at:n.created_at||n.Created_At||n.CreatedAt,last_active:n.last_active||n.Last_Active||n.LastActive,profile_image:n.profile_image||n.Profile_Image||n.ProfileImage}:null,p1=async()=>{if(!Pe())return console.log(" Supabase not configured, returning empty users array"),[];try{const n=Ge("users");if(console.log(" Fetching users from table:",n),!n)return console.log(" Users table name not found in mappings"),[];const{data:t,error:r}=await ve.from(n).select("*").order("created_at",{ascending:!1});if(r)throw console.error(" Error from Supabase:",r.message,r.details),r;console.log(` Fetched ${t?.length||0} users from database`),t&&t.length>0&&(console.log("   First user (raw):",t[0]),console.log("   Available columns:",Object.keys(t[0])));const i=t?.map(Gv)||[];return i.length>0&&console.log("   First user (normalized):",i[0]),i}catch(n){return console.error(" Error fetching users:",n.message||n),[]}},m1=async()=>{if(!Pe())return[];try{const{data:n,error:t}=await ve.from("College").select("*").order("college_name",{ascending:!0});if(t)throw t;return n||[]}catch(n){return console.error("Error fetching colleges:",n),[]}},g1=async n=>{if(!Pe())return null;try{const t=Ge("users");if(!t)return null;const r={email:n.email,first_name:n.first_name,middle_name:n.middle_name||"",last_name:n.last_name,user_type:n.user_type,phone_number:n.phone_number||"",college:n.college||""};console.log(" Adding user with data:",r);const{data:i,error:a}=await ve.from(t).insert([r]).select();if(a)throw a;return Gv(i?.[0])||null}catch(t){throw console.error("Error adding user:",t),t}},v1=async n=>{if(console.log(" deleteUser called with:",n,"| typeof:",typeof n),console.trace(" deleteUser call stack:"),!Pe())return!1;try{let t=n;if(t&&typeof t=="object"&&(t=t.user_id??t.id??t.userId??t.userid??t.ID),t==null||t==="")return console.error(" deleteUser: missing user identifier"),!1;const r=Ge("users");if(!r)return console.error(" deleteUser: could not resolve users table name"),!1;let i=[],a=null;if(typeof n=="object"&&n){const m=y=>{const _=y.toLowerCase();return _==="id"||_==="user_id"||_.endsWith("_id")},x=Object.keys(n).filter(m);for(const y of x)i.push({column:y,value:n[y]})}try{const{data:m}=await ve.from(r).select("*").limit(1);if(m&&m.length>0){const x=Object.keys(m[0]);a=new Set(x);const y=x.filter(j=>j.toLowerCase()==="id"||j.toLowerCase()==="user_id"||j.toLowerCase().endsWith("id")&&j.length<=6),_=j=>{const b=j.toLowerCase();return b==="user_id"?0:b==="id"?1:2};y.sort((j,b)=>_(j)-_(b));for(const j of y)i.push({column:j,value:t})}}catch{}if(i.length===0&&i.push({column:"user_id",value:t}),a&&(i=i.filter(m=>a.has(m.column))),typeof n=="object"&&n){const m=y=>{const _=y.toLowerCase();return _==="id"||_==="user_id"||_.endsWith("_id")},x=Object.keys(n).filter(m);for(const y of x)(!a||a.has(y))&&i.push({column:y,value:n[y]})}const c=new Set;i=i.filter(m=>{const x=m.column.toLowerCase();return c.has(x)?!1:(c.add(x),!0)}),i.sort((m,x)=>{const y=m.column.toLowerCase()==="user_id"?0:1,_=x.column.toLowerCase()==="user_id"?0:1;return y-_}),console.log(" Delete attempts:",i.map(m=>`${m.column}=${m.value}`)),console.log(" Checking if user exists before deletion...");const{data:u,error:f}=await ve.from(r).select("*").eq("user_id",t).limit(1);if(f)return console.warn(" Error checking if user exists:",f.message),!1;if(!u||u.length===0)return console.log(" User does not exist with user_id =",t),!1;console.log(" User exists:",u[0]);let p=!1,g=null;for(const m of i){let x=m.value;const y=m.column.toLowerCase();if(y==="user_id"||y.endsWith("_id")){const b=Number(x);Number.isInteger(b)&&(x=b)}console.info(` deleteUser: trying ${r} where ${m.column} = ${x} (type: ${typeof x})`);const{data:_,error:j}=await ve.from(r).delete().eq(m.column,x).select();if(console.log(` Delete result for ${m.column}=${x}:`,{data:_,error:j}),j){console.warn(` deleteUser: error with ${m.column}=${x}:`,j.message),g=j;continue}if(_&&_.length>0){console.log(` deleteUser: successfully deleted ${_.length} row(s)`),p=!0;break}else console.log(` deleteUser: no rows matched ${m.column}=${x}`)}return p?(console.info(" deleteUser: successfully deleted user"),!0):(g&&console.warn(" deleteUser: attempts ended with last error:",g.message),console.warn(" deleteUser: no rows deleted using id/user_id attempts"),!1)}catch(t){return console.error(" Error deleting user:",t),!1}},x1=async()=>{if(!Pe())return[];try{const n=Ge("buildings");if(!n)return[];let{data:t,error:r}=await ve.from(n).select("*").order("created_at",{ascending:!1});if(r&&r.message.includes("created_at does not exist")){console.log(" created_at column not found in Building table, fetching without ordering");const i=await ve.from(n).select("*");t=i.data,r=i.error}if(r)throw r;return t||[]}catch(n){return console.error("Error fetching buildings:",n),[]}},y1=async n=>{if(!Pe())return null;try{const t=Ge("buildings");if(!t)return null;const r={building_id:Math.floor(Math.random()*1e4)+100,building_name:n.name||n.building_name,building_nickname:n.building_nickname||"",building_type:n.building_type||"Academic",address:n.address||""},i=Object.fromEntries(Object.entries(r).filter(([u,f])=>f!==void 0));console.log(" Adding building with filtered data:",i);const{data:a,error:c}=await ve.from(t).insert([i]).select();if(c)throw c;return a?.[0]||null}catch(t){throw console.error("Error adding building:",t),t}},w1=async(n,t)=>{if(!Pe())return null;try{const r=Ge("buildings");if(!r)return null;const i={building_name:t.name||t.building_name,building_nickname:t.building_nickname,building_type:t.building_type,address:t.address,description:t.description},a=Object.fromEntries(Object.entries(i).filter(([f,p])=>p!==void 0));console.log(" Updating building with filtered fields:",a);const{data:c,error:u}=await ve.from(r).update(a).eq("building_id",n).select();if(u)throw u;return c?.[0]||null}catch(r){throw console.error("Error updating building:",r),r}},b1=async n=>{if(console.log(" deleteBuilding called with:",n,"| typeof:",typeof n),console.trace(" deleteBuilding call stack:"),!Pe())return!1;try{let t=n;if(t&&typeof t=="object"&&(t=t.building_id??t.id??t.buildingId??t.buildingid??t.ID),t==null||t==="")return console.error(" deleteBuilding: missing building identifier"),!1;const r=Ge("buildings");if(!r)return console.error(" deleteBuilding: could not resolve buildings table name"),!1;let i=[],a=null;if(typeof n=="object"&&n){const m=y=>{const _=y.toLowerCase();return _==="id"||_==="building_id"||_.endsWith("_id")},x=Object.keys(n).filter(m);for(const y of x)i.push({column:y,value:n[y]})}try{const{data:m}=await ve.from(r).select("*").limit(1);if(m&&m.length>0){const x=Object.keys(m[0]);a=new Set(x);const y=x.filter(j=>j.toLowerCase()==="id"||j.toLowerCase()==="building_id"||j.toLowerCase().endsWith("id")&&j.length<=10),_=j=>{const b=j.toLowerCase();return b==="building_id"?0:b==="id"?1:2};y.sort((j,b)=>_(j)-_(b));for(const j of y)i.push({column:j,value:t})}}catch{}if(i.length===0&&i.push({column:"building_id",value:t}),a&&(i=i.filter(m=>a.has(m.column))),typeof n=="object"&&n){const m=y=>{const _=y.toLowerCase();return _==="id"||_==="building_id"||_.endsWith("_id")},x=Object.keys(n).filter(m);for(const y of x)(!a||a.has(y))&&i.push({column:y,value:n[y]})}const c=new Set;i=i.filter(m=>{const x=m.column.toLowerCase();return c.has(x)?!1:(c.add(x),!0)}),i.sort((m,x)=>{const y=m.column.toLowerCase()==="building_id"?0:1,_=x.column.toLowerCase()==="building_id"?0:1;return y-_}),console.log(" Delete attempts:",i.map(m=>`${m.column}=${m.value}`)),console.log(" Checking if building exists before deletion...");const{data:u,error:f}=await ve.from(r).select("*").eq("building_id",t).limit(1);if(f)return console.warn(" Error checking if building exists:",f.message),!1;if(!u||u.length===0)return console.log(" Building does not exist with building_id =",t),!1;console.log(" Building exists:",u[0]);let p=!1,g=null;for(const m of i){let x=m.value;const y=m.column.toLowerCase();if(y==="building_id"||y.endsWith("_id")){const b=Number(x);Number.isInteger(b)&&(x=b)}console.info(` deleteBuilding: trying ${r} where ${m.column} = ${x} (type: ${typeof x})`);const{data:_,error:j}=await ve.from(r).delete().eq(m.column,x).select();if(console.log(` Delete result for ${m.column}=${x}:`,{data:_,error:j}),j){console.warn(` deleteBuilding: error with ${m.column}=${x}:`,j.message),g=j;continue}if(_&&_.length>0){console.log(` deleteBuilding: successfully deleted ${_.length} row(s)`),p=!0;break}else console.log(` deleteBuilding: no rows matched ${m.column}=${x}`)}if(!p){if(g&&console.warn(" deleteBuilding: attempts ended with last error:",g.message),console.warn(" deleteBuilding: no rows deleted using id/building_id attempts"),g&&(g.message.includes("violates not-null constraint")||g.message.includes("foreign key"))){console.log(" Trying soft delete approach due to foreign key constraints...");const{data:m,error:x}=await ve.from(r).update({building_name:`DELETED_${Date.now()}`,building_nickname:`DELETED_${Date.now()}`,building_type:"DELETED"}).eq("building_id",t).select();return x?(console.log(" Soft delete also failed:",x.message),!1):(console.log(" Building marked as deleted (soft delete):",m),!0)}return!1}return console.info(" deleteBuilding: successfully deleted building"),!0}catch(t){return console.error(" Error deleting building:",t),!1}},j1=async(n=null)=>{if(!Pe())return[];try{const t=Ge("rooms");if(!t)return[];let r=ve.from(t).select("*");n&&(r=r.eq("building_id",n));let{data:i,error:a}=await r.order("created_at",{ascending:!1});if(a&&a.message.includes("created_at does not exist")){console.log(" created_at column not found in Room table, fetching without ordering");let c=ve.from(t).select("*");n&&(c=c.eq("building_id",n));const u=await c;i=u.data,a=u.error}if(a)throw a;return i||[]}catch(t){return console.error("Error fetching rooms:",t),[]}},_1=async n=>{if(!Pe())return null;try{const t=Ge("rooms");if(!t)return null;const{data:r}=await ve.from(t).select("*").limit(1);console.log(" Sample room data:",r?.[0]),console.log(" Available room columns:",r?.[0]?Object.keys(r[0]):"No rooms found");const i={room_id:Math.floor(Math.random()*1e6),building_id:n.building_id,room_name:n.room_name,room_number:n.room_number,room_type:n.room_type,floor_level:n.floor_level},a=Object.fromEntries(Object.entries(i).filter(([f,p])=>p!==void 0));console.log(" Filtered room data for insertion:",a);const{data:c,error:u}=await ve.from(t).insert([a]).select();if(u)throw u;return c?.[0]||null}catch(t){throw console.error("Error adding room:",t),t}},S1=async()=>{if(!Pe())return[];const n=(t,r)=>{const i=(t||"").toLowerCase();if(i.startsWith("image/"))return"image";if(i.startsWith("video/"))return"video";if(i.startsWith("audio/"))return"audio";const a=(r||"").toLowerCase();return a.match(/\.(png|jpe?g|gif|webp|bmp|svg)$/)?"image":a.match(/\.(mp4|mov|webm|mkv|avi)$/)?"video":a.match(/\.(mp3|wav|aac|flac|ogg)$/)?"audio":"document"};try{let t={};try{const{data:f}=await ve.storage.listBuckets();(f||[]).forEach(p=>{p&&(t[p.id||p.name]=p.name)})}catch{}let{data:r,error:i}=await ve.from("storage_objects_snapshot").select("*").order("updated_at",{ascending:!1});if(!i&&Array.isArray(r))return r.map(p=>{const g=t[p.bucket_id]||p.bucket_id,m=p.name||p.filename||"",x=p.metadata_mimetype||p?.metadata?.mimetype||p?.metadata?.type,y=p?.metadata&&(p.metadata.size||p.metadata.bytes)||null,_=g&&m?Qv(g,m):"",j=n(x,m),b=j==="image"?_:"";return{id:p.id,title:p.filename||p.name||"file",description:p?.user_metadata?.description||"",content_type:j,file_url:_,thumbnail_url:b,file_size:typeof y=="number"?y:0,tags:Array.isArray(p?.user_metadata?.tags)?p.user_metadata.tags:[],building_id:null,room_id:null,created_at:p.created_at||p.updated_at}});const a=Ge("content_items");if(!a)return[];let{data:c,error:u}=await ve.from(a).select("*").order("created_at",{ascending:!1});if(u&&u.message&&u.message.includes("created_at does not exist")){console.log(" created_at column not found in Content table, fetching without ordering");const f=await ve.from(a).select("*");c=f.data,u=f.error}if(u)throw u;return c||[]}catch(t){return console.error("Error fetching content:",t),[]}},C1=async(n,t)=>{if(!Pe())return null;try{const r=Ge("content_items");if(!r)return null;const{data:i,error:a}=await ve.from(r).update(t).eq("id",n).select();if(a)throw a;return i?.[0]||null}catch(r){throw console.error("Error updating content:",r),r}},N1=async n=>{if(!Pe())return!1;try{const t=Ge("content_items");if(!t)return!1;const{error:r}=await ve.from(t).delete().eq("id",n);if(r)throw r;return!0}catch(t){return console.error("Error deleting content:",t),!1}},k1=async()=>{if(!Pe())return[];try{const n=Ge("tours");if(!n)return[];const{data:t,error:r}=await ve.from(n).select("*").order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(n){return console.error("Error fetching tours:",n),[]}},E1=async n=>{if(!Pe())return null;try{const t=Ge("tours");if(!t)return null;const{data:r,error:i}=await ve.from(t).insert([n]).select();if(i)throw i;return r?.[0]||null}catch(t){throw console.error("Error adding tour:",t),t}},T1=async(n,t)=>{if(!Pe())return null;try{const r=Ge("tours");if(!r)return null;const{data:i,error:a}=await ve.from(r).update(t).eq("id",n).select();if(a)throw a;return i?.[0]||null}catch(r){throw console.error("Error updating tour:",r),r}},R1=async n=>{if(!Pe())return!1;try{const t=Ge("tours");if(!t)return!1;const{error:r}=await ve.from(t).delete().eq("id",n);if(r)throw r;return!0}catch(t){return console.error("Error deleting tour:",t),!1}},P1=async()=>{if(!Pe())return[];try{const n=Ge("qr_codes");if(!n)return[];const{data:t,error:r}=await ve.from(n).select("*").order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(n){return console.error("Error fetching QR codes:",n),[]}},A1=async n=>{if(!Pe())return null;try{const t=Ge("qr_codes");if(!t)return null;const{data:r,error:i}=await ve.from(t).insert([n]).select();if(i)throw i;return r?.[0]||null}catch(t){throw console.error("Error adding QR code:",t),t}},O1=async(n,t)=>{if(!Pe())return null;try{const r=Ge("qr_codes");if(!r)return null;const{data:i,error:a}=await ve.from(r).update(t).eq("id",n).select();if(a)throw a;return i?.[0]||null}catch(r){throw console.error("Error updating QR code:",r),r}},I1=async n=>{if(!Pe())return!1;try{const t=Ge("qr_codes");if(!t)return!1;const{error:r}=await ve.from(t).delete().eq("id",n);if(r)throw r;return!0}catch(t){return console.error("Error deleting QR code:",t),!1}},D1=async()=>{if(!Pe())return[];try{const{data:n,error:t}=await ve.storage.listBuckets();if(t)throw t;return n||[]}catch(n){return console.error("Error fetching storage buckets:",n),[]}},Ig=async(n,t="",r={})=>{if(!Pe())return[];try{const{data:i,error:a}=await ve.storage.from(n).list(t,r);if(a)throw a;return i||[]}catch(i){return console.error(`Error listing files for bucket ${n}:`,i),[]}},wl={},M1=async n=>{if(!Pe())return null;if(wl[n])return wl[n];try{const{data:t}=await ve.storage.listBuckets(),r=(t||[]).find(i=>i.name===n);return r?(wl[n]=r.id||r.name,wl[n]):null}catch{return null}},L1=async(n,t="")=>{if(!Pe())return[];try{const r=await M1(n);if(!r)return[];let i=ve.from("storage_objects_snapshot").select("*").eq("bucket_id",r);if(t){const u=t.endsWith("/")?`${t}%`:`${t}/%`;i=i.ilike("name",u)}let{data:a,error:c}=await i.order("updated_at",{ascending:!1});if(c&&c.message&&c.message.includes("updated_at does not exist")){const u=await ve.from("storage_objects_snapshot").select("*").eq("bucket_id",r);a=u.data,c=u.error}if(c)throw c;return a||[]}catch(r){return console.error("Error fetching storage_objects_snapshot:",r),[]}},Qv=(n,t)=>{const r=(t||"").replace(/^\/+/,"");return`${Ir.replace(/\/$/,"")}/storage/v1/object/public/${encodeURIComponent(n)}/${encodeURIComponent(r)}`};function Jv(n){var t,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(t=0;t<a;t++)n[t]&&(r=Jv(n[t]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function Yv(){for(var n,t,r=0,i="",a=arguments.length;r<a;r++)(n=arguments[r])&&(t=Jv(n))&&(i&&(i+=" "),i+=t);return i}const Dg=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Mg=Yv,kf=(n,t)=>r=>{var i;if(t?.variants==null)return Mg(n,r?.class,r?.className);const{variants:a,defaultVariants:c}=t,u=Object.keys(a).map(g=>{const m=r?.[g],x=c?.[g];if(m===null)return null;const y=Dg(m)||Dg(x);return a[g][y]}),f=r&&Object.entries(r).reduce((g,m)=>{let[x,y]=m;return y===void 0||(g[x]=y),g},{}),p=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((g,m)=>{let{class:x,className:y,..._}=m;return Object.entries(_).every(j=>{let[b,C]=j;return Array.isArray(C)?C.includes({...c,...f}[b]):{...c,...f}[b]===C})?[...g,x,y]:g},[]);return Mg(n,u,p,r?.class,r?.className)},Ef="-",$1=n=>{const t=U1(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:u=>{const f=u.split(Ef);return f[0]===""&&f.length!==1&&f.shift(),Xv(f,t)||F1(u)},getConflictingClassGroupIds:(u,f)=>{const p=r[u]||[];return f&&i[u]?[...p,...i[u]]:p}}},Xv=(n,t)=>{if(n.length===0)return t.classGroupId;const r=n[0],i=t.nextPart.get(r),a=i?Xv(n.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const c=n.join(Ef);return t.validators.find(({validator:u})=>u(c))?.classGroupId},Lg=/^\[(.+)\]$/,F1=n=>{if(Lg.test(n)){const t=Lg.exec(n)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},U1=n=>{const{theme:t,classGroups:r}=n,i={nextPart:new Map,validators:[]};for(const a in r)ef(r[a],i,a,t);return i},ef=(n,t,r,i)=>{n.forEach(a=>{if(typeof a=="string"){const c=a===""?t:$g(t,a);c.classGroupId=r;return}if(typeof a=="function"){if(z1(a)){ef(a(i),t,r,i);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([c,u])=>{ef(u,$g(t,c),r,i)})})},$g=(n,t)=>{let r=n;return t.split(Ef).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},z1=n=>n.isThemeGetter,B1=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,i=new Map;const a=(c,u)=>{r.set(c,u),t++,t>n&&(t=0,i=r,r=new Map)};return{get(c){let u=r.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return a(c,u),u},set(c,u){r.has(c)?r.set(c,u):a(c,u)}}},tf="!",nf=":",V1=nf.length,W1=n=>{const{prefix:t,experimentalParseClassName:r}=n;let i=a=>{const c=[];let u=0,f=0,p=0,g;for(let j=0;j<a.length;j++){let b=a[j];if(u===0&&f===0){if(b===nf){c.push(a.slice(p,j)),p=j+V1;continue}if(b==="/"){g=j;continue}}b==="["?u++:b==="]"?u--:b==="("?f++:b===")"&&f--}const m=c.length===0?a:a.substring(p),x=H1(m),y=x!==m,_=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:_}};if(t){const a=t+nf,c=i;i=u=>u.startsWith(a)?c(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const a=i;i=c=>r({className:c,parseClassName:a})}return i},H1=n=>n.endsWith(tf)?n.substring(0,n.length-1):n.startsWith(tf)?n.substring(1):n,K1=n=>{const t=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let c=[];return i.forEach(u=>{u[0]==="["||t[u]?(a.push(...c.sort(),u),c=[]):c.push(u)}),a.push(...c.sort()),a}},q1=n=>({cache:B1(n.cacheSize),parseClassName:W1(n),sortModifiers:K1(n),...$1(n)}),G1=/\s+/,Q1=(n,t)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:c}=t,u=[],f=n.trim().split(G1);let p="";for(let g=f.length-1;g>=0;g-=1){const m=f[g],{isExternal:x,modifiers:y,hasImportantModifier:_,baseClassName:j,maybePostfixModifierPosition:b}=r(m);if(x){p=m+(p.length>0?" "+p:p);continue}let C=!!b,k=i(C?j.substring(0,b):j);if(!k){if(!C){p=m+(p.length>0?" "+p:p);continue}if(k=i(j),!k){p=m+(p.length>0?" "+p:p);continue}C=!1}const E=c(y).join(":"),R=_?E+tf:E,D=R+k;if(u.includes(D))continue;u.push(D);const U=a(k,C);for(let H=0;H<U.length;++H){const O=U[H];u.push(R+O)}p=m+(p.length>0?" "+p:p)}return p};function J1(){let n=0,t,r,i="";for(;n<arguments.length;)(t=arguments[n++])&&(r=Zv(t))&&(i&&(i+=" "),i+=r);return i}const Zv=n=>{if(typeof n=="string")return n;let t,r="";for(let i=0;i<n.length;i++)n[i]&&(t=Zv(n[i]))&&(r&&(r+=" "),r+=t);return r};function Y1(n,...t){let r,i,a,c=u;function u(p){const g=t.reduce((m,x)=>x(m),n());return r=q1(g),i=r.cache.get,a=r.cache.set,c=f,f(p)}function f(p){const g=i(p);if(g)return g;const m=Q1(p,r);return a(p,m),m}return function(){return c(J1.apply(null,arguments))}}const pt=n=>{const t=r=>r[n]||[];return t.isThemeGetter=!0,t},ex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,X1=/^\d+\/\d+$/,Z1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,po=n=>X1.test(n),Ue=n=>!!n&&!Number.isNaN(Number(n)),Tr=n=>!!n&&Number.isInteger(Number(n)),kd=n=>n.endsWith("%")&&Ue(n.slice(0,-1)),tr=n=>Z1.test(n),sC=()=>!0,oC=n=>eC.test(n)&&!tC.test(n),nx=()=>!1,iC=n=>nC.test(n),aC=n=>rC.test(n),lC=n=>!ye(n)&&!we(n),cC=n=>Do(n,ox,nx),ye=n=>ex.test(n),gs=n=>Do(n,ix,oC),Ed=n=>Do(n,pC,Ue),Fg=n=>Do(n,rx,nx),uC=n=>Do(n,sx,aC),bl=n=>Do(n,ax,iC),we=n=>tx.test(n),Ei=n=>Mo(n,ix),dC=n=>Mo(n,mC),Ug=n=>Mo(n,rx),fC=n=>Mo(n,ox),hC=n=>Mo(n,sx),jl=n=>Mo(n,ax,!0),Do=(n,t,r)=>{const i=ex.exec(n);return i?i[1]?t(i[1]):r(i[2]):!1},Mo=(n,t,r=!1)=>{const i=tx.exec(n);return i?i[1]?t(i[1]):r:!1},rx=n=>n==="position"||n==="percentage",sx=n=>n==="image"||n==="url",ox=n=>n==="length"||n==="size"||n==="bg-size",ix=n=>n==="length",pC=n=>n==="number",mC=n=>n==="family-name",ax=n=>n==="shadow",gC=()=>{const n=pt("color"),t=pt("font"),r=pt("text"),i=pt("font-weight"),a=pt("tracking"),c=pt("leading"),u=pt("breakpoint"),f=pt("container"),p=pt("spacing"),g=pt("radius"),m=pt("shadow"),x=pt("inset-shadow"),y=pt("text-shadow"),_=pt("drop-shadow"),j=pt("blur"),b=pt("perspective"),C=pt("aspect"),k=pt("ease"),E=pt("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...D(),we,ye],H=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],F=()=>[we,ye,p],re=()=>[po,"full","auto",...F()],Q=()=>[Tr,"none","subgrid",we,ye],se=()=>["auto",{span:["full",Tr,we,ye]},Tr,we,ye],oe=()=>[Tr,"auto",we,ye],fe=()=>["auto","min","max","fr",we,ye],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],J=()=>["auto",...F()],ne=()=>[po,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],N=()=>[n,we,ye],z=()=>[...D(),Ug,Fg,{position:[we,ye]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",fC,cC,{size:[we,ye]}],W=()=>[kd,Ei,gs],ce=()=>["","none","full",g,we,ye],ue=()=>["",Ue,Ei,gs],Oe=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>[Ue,kd,Ug,Fg],he=()=>["","none",j,we,ye],V=()=>["none",Ue,we,ye],ee=()=>["none",Ue,we,ye],Se=()=>[Ue,we,ye],L=()=>[po,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[tr],breakpoint:[tr],color:[sC],container:[tr],"drop-shadow":[tr],ease:["in","out","in-out"],font:[lC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[tr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[tr],shadow:[tr],spacing:["px",Ue],text:[tr],"text-shadow":[tr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",po,ye,we,C]}],container:["container"],columns:[{columns:[Ue,ye,we,f]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:re()}],"inset-x":[{"inset-x":re()}],"inset-y":[{"inset-y":re()}],start:[{start:re()}],end:[{end:re()}],top:[{top:re()}],right:[{right:re()}],bottom:[{bottom:re()}],left:[{left:re()}],visibility:["visible","invisible","collapse"],z:[{z:[Tr,"auto",we,ye]}],basis:[{basis:[po,"full","auto",f,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,po,"auto","initial","none",ye]}],grow:[{grow:["",Ue,we,ye]}],shrink:[{shrink:["",Ue,we,ye]}],order:[{order:[Tr,"first","last","none",we,ye]}],"grid-cols":[{"grid-cols":Q()}],"col-start-end":[{col:se()}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":Q()}],"row-start-end":[{row:se()}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":fe()}],"auto-rows":[{"auto-rows":fe()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[f,"screen",...ne()]}],"min-w":[{"min-w":[f,"screen","none",...ne()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",r,Ei,gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,we,Ed]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",kd,ye]}],"font-family":[{font:[dC,ye,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,we,ye]}],"line-clamp":[{"line-clamp":[Ue,"none",we,Ed]}],leading:[{leading:[c,...F()]}],"list-image":[{"list-image":["none",we,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",we,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",we,gs]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[Ue,"auto",we,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Tr,we,ye],radial:["",we,ye],conic:[Tr,we,ye]},hC,uC]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,we,ye]}],"outline-w":[{outline:["",Ue,Ei,gs]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",m,jl,bl]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",x,jl,bl]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[Ue,gs]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",y,jl,bl]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[Ue,we,ye]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":G()}],"mask-image-linear-to-pos":[{"mask-linear-to":G()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":G()}],"mask-image-t-to-pos":[{"mask-t-to":G()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":G()}],"mask-image-r-to-pos":[{"mask-r-to":G()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":G()}],"mask-image-b-to-pos":[{"mask-b-to":G()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":G()}],"mask-image-l-to-pos":[{"mask-l-to":G()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":G()}],"mask-image-x-to-pos":[{"mask-x-to":G()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":G()}],"mask-image-y-to-pos":[{"mask-y-to":G()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[we,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":G()}],"mask-image-radial-to-pos":[{"mask-radial-to":G()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":G()}],"mask-image-conic-to-pos":[{"mask-conic-to":G()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",we,ye]}],filter:[{filter:["","none",we,ye]}],blur:[{blur:he()}],brightness:[{brightness:[Ue,we,ye]}],contrast:[{contrast:[Ue,we,ye]}],"drop-shadow":[{"drop-shadow":["","none",_,jl,bl]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",Ue,we,ye]}],"hue-rotate":[{"hue-rotate":[Ue,we,ye]}],invert:[{invert:["",Ue,we,ye]}],saturate:[{saturate:[Ue,we,ye]}],sepia:[{sepia:["",Ue,we,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",we,ye]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,we,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,we,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,we,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,we,ye]}],"backdrop-invert":[{"backdrop-invert":["",Ue,we,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,we,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,we,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,we,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",we,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",we,ye]}],ease:[{ease:["linear","initial",k,we,ye]}],delay:[{delay:[Ue,we,ye]}],animate:[{animate:["none",E,we,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,we,ye]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:V()}],"rotate-x":[{"rotate-x":V()}],"rotate-y":[{"rotate-y":V()}],"rotate-z":[{"rotate-z":V()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[we,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:L()}],"translate-x":[{"translate-x":L()}],"translate-y":[{"translate-y":L()}],"translate-z":[{"translate-z":L()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we,ye]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[Ue,Ei,gs,Ed]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},vC=Y1(gC);function De(...n){return vC(Yv(n))}const xC=kf("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function _s({className:n,variant:t,...r}){return o.jsx("div",{"data-slot":"alert",role:"alert",className:De(xC({variant:t}),n),...r})}function Ss({className:n,...t}){return o.jsx("div",{"data-slot":"alert-description",className:De("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...t})}function zg(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Jl(...n){return t=>{let r=!1;const i=n.map(a=>{const c=zg(a,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():zg(n[a],null)}}}}function Ve(...n){return w.useCallback(Jl(...n),n)}function Lr(n){const t=yC(n),r=w.forwardRef((i,a)=>{const{children:c,...u}=i,f=w.Children.toArray(c),p=f.find(wC);if(p){const g=p.props.children,m=f.map(x=>x===p?w.Children.count(g)>1?w.Children.only(null):w.isValidElement(g)?g.props.children:null:x);return o.jsx(t,{...u,ref:a,children:w.isValidElement(g)?w.cloneElement(g,void 0,m):null})}return o.jsx(t,{...u,ref:a,children:c})});return r.displayName=`${n}.Slot`,r}var lx=Lr("Slot");function yC(n){const t=w.forwardRef((r,i)=>{const{children:a,...c}=r;if(w.isValidElement(a)){const u=jC(a),f=bC(c,a.props);return a.type!==w.Fragment&&(f.ref=i?Jl(i,u):u),w.cloneElement(a,f)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${n}.SlotClone`,t}var cx=Symbol("radix.slottable");function ux(n){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${n}.Slottable`,t.__radixId=cx,t}function wC(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===cx}function bC(n,t){const r={...t};for(const i in t){const a=n[i],c=t[i];/^on[A-Z]/.test(i)?a&&c?r[i]=(...f)=>{const p=c(...f);return a(...f),p}:a&&(r[i]=a):i==="style"?r[i]={...a,...c}:i==="className"&&(r[i]=[a,c].filter(Boolean).join(" "))}return{...n,...r}}function jC(n){let t=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?n.ref:(t=Object.getOwnPropertyDescriptor(n,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}const Tf=kf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ie=w.forwardRef(({className:n,variant:t,size:r,asChild:i=!1,...a},c)=>{const u=i?lx:"button";return o.jsx(u,{"data-slot":"button",className:De(Tf({variant:t,size:r,className:n})),ref:c,...a})});ie.displayName="Button";function pe({className:n,...t}){return o.jsx("div",{"data-slot":"card",className:De("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...t})}function Be({className:n,...t}){return o.jsx("div",{"data-slot":"card-header",className:De("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...t})}function He({className:n,...t}){return o.jsx("h4",{"data-slot":"card-title",className:De("leading-none",n),...t})}function me({className:n,...t}){return o.jsx("div",{"data-slot":"card-content",className:De("px-6 [&:last-child]:pb-6",n),...t})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,i)=>i?i.toUpperCase():r.toLowerCase()),Bg=n=>{const t=SC(n);return t.charAt(0).toUpperCase()+t.slice(1)},dx=(...n)=>n.filter((t,r,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=w.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:c,iconNode:u,...f},p)=>w.createElement("svg",{ref:p,...CC,width:t,height:t,stroke:n,strokeWidth:i?Number(r)*24/Number(t):r,className:dx("lucide",a),...f},[...u.map(([g,m])=>w.createElement(g,m)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(n,t)=>{const r=w.forwardRef(({className:i,...a},c)=>w.createElement(NC,{ref:c,iconNode:t,className:dx(`lucide-${_C(Bg(n))}`,`lucide-${n}`,i),...a}));return r.displayName=Bg(n),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],EC=Ae("activity",kC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fx=Ae("bell",TC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],kn=Ae("building",RC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ll=Ae("chart-column",PC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],OC=Ae("check",AC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rf=Ae("chevron-down",IC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MC=Ae("chevron-left",DC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$C=Ae("chevron-right",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UC=Ae("chevron-up",FC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rf=Ae("circle-check-big",zC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],VC=Ae("circle-help",BC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],HC=Ae("circle-user",WC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sf=Ae("circle-x",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$l=Ae("clock",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ko=Ae("database",GC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Mi=Ae("download",QC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dr=Ae("eye",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],of=Ae("file-image",YC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bo=Ae("file-text",XC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],hx=Ae("funnel",ZC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],tN=Ae("globe",eN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],px=Ae("hard-drive",nN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fl=Ae("info",rN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],oN=Ae("layout-dashboard",sN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gt=Ae("loader-circle",iN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],lN=Ae("log-out",aN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sr=Ae("map-pin",cN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],dN=Ae("menu",uN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Vg=Ae("monitor",fN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],pN=Ae("music",hN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],gN=Ae("phone",mN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],xN=Ae("play",vN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mr=Ae("plus",yN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],rr=Ae("qr-code",wN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fi=Ae("refresh-cw",bN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],jo=Ae("route",jN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],SN=Ae("save",_N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Wg=Ae("scan",CN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Eo=Ae("search",NN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],EN=Ae("server",kN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yl=Ae("settings",TN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],PN=Ae("shield",RN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Hg=Ae("smartphone",AN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],To=Ae("square-pen",ON);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],DN=Ae("tablet",IN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$r=Ae("trash-2",MN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ul=Ae("trending-up",LN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Kg=Ae("upload",$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ui=Ae("users",FN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],zN=Ae("video",UN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],VN=Ae("wifi",BN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HN=Ae("x",WN);function KN(){const[n,t]=w.useState({configured:!1,connected:!1,tablesExist:!1,hasData:!1,stats:null,activities:null,errors:[]}),[r,i]=w.useState(!1),[a,c]=w.useState({}),u=async()=>{i(!0);const g={configured:!1,connected:!1,tablesExist:!1,hasData:!1,stats:null,activities:null,errors:[]};try{if(g.configured=Pe(),console.log(" Configuration test:",g.configured),!g.configured){g.errors.push("Supabase client not configured properly"),t(g),i(!1);return}try{const{data:y,error:_}=await ve.from("Users").select("count",{count:"exact",head:!0});_?_.code==="PGRST116"||_.code==="PGRST205"?g.errors.push("Tables do not exist - need to run schema"):g.errors.push(`Connection error: ${_.message}`):(g.connected=!0,g.tablesExist=!0,console.log(" Connection and tables test passed"))}catch(y){g.errors.push(`Connection failed: ${y.message}`)}const m={Users:"users",Buildings:"buildings",Content:"content_items",Tours:"tours",QR_Codes:"qr_codes"},x={};for(const[y,_]of Object.entries(m))try{const{count:j,error:b}=await ve.from(y).select("*",{count:"exact",head:!0});b?x[_]=`Error: ${b.code}`:(x[_]=`${j||0} rows`,j>0&&(g.hasData=!0))}catch(j){x[_]=`Failed: ${j.message}`}x.activities="Not found (using mock)",x.notifications="Not found (using mock)",c(x);try{const y=await Xd();g.stats=y,console.log(" Stats loaded:",y)}catch(y){g.errors.push(`Stats error: ${y.message}`)}try{const y=await Zd(5);g.activities=y,console.log(" Activities loaded:",y?.length||0,"items")}catch(y){g.errors.push(`Activities error: ${y.message}`)}}catch(m){g.errors.push(`General error: ${m.message}`),console.error("Test error:",m)}t(g),i(!1)},f=async()=>{if(ve)try{const g=window.actualTableNames?.users||"Users",m=window.actualTableNames?.buildings||"Buildings",x=window.actualTableNames?.content_items||"Content",y=window.actualTableNames?.activities||"Activities";g&&await ve.from(g).insert([{email:"admin@itouru.edu",full_name:"System Administrator",role:"admin"},{email:"john.student@itouru.edu",full_name:"John Smith",role:"student"},{email:"mary.visitor@email.com",full_name:"Mary Johnson",role:"visitor"},{email:"professor.davis@itouru.edu",full_name:"Prof. Sarah Davis",role:"faculty"}]),m&&await ve.from(m).insert([{name:"Main Library",description:"Central campus library with 5 floors",address:"123 University Ave",latitude:40.7128,longitude:-74.006,total_rooms:45},{name:"Engineering Building",description:"State-of-the-art engineering facility",address:"456 Tech Street",latitude:40.7589,longitude:-73.9851,total_rooms:32}]),x&&await ve.from(x).insert([{title:"Library Tour Video",description:"Virtual tour of the main library",content_type:"video",file_url:"https://example.com/video.mp4",created_at:new Date().toISOString()},{title:"Engineering Building Photos",description:"Photo gallery of engineering facilities",content_type:"image",file_url:"https://example.com/image.jpg",created_at:new Date().toISOString()}]),y&&await ve.from(y).insert([{activity_type:"registration",title:"New User Registration",description:"Users registered for virtual tours",created_at:new Date().toISOString()},{activity_type:"media_upload",title:"Media Upload Complete",description:"New photos added to building tours",created_at:new Date().toISOString()}]),alert("Sample data created successfully! Refresh the test.")}catch(g){alert(`Error creating sample data: ${g.message}`)}};w.useEffect(()=>{u()},[]);const p=({success:g})=>g?o.jsx(rf,{className:"h-5 w-5 text-green-500"}):o.jsx(sf,{className:"h-5 w-5 text-red-500"});return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl",children:" Supabase Database Diagnostic"}),o.jsxs(ie,{onClick:u,disabled:r,children:[r?o.jsx(gt,{className:"h-4 w-4 animate-spin mr-2"}):o.jsx(ko,{className:"h-4 w-4 mr-2"}),r?"Testing...":"Run Tests"]})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(p,{success:n.configured}),"Configuration Status"]})}),o.jsx(me,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Supabase URL:"}),o.jsx("span",{className:"font-mono text-sm",children:"https://dlzlnebdpxrmqnelrbfm.supabase.co"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"API Key:"}),o.jsx("span",{className:"font-mono text-sm",children:"eyJhbGciOiJIUzI1NiIs...Yuw"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Client Status:"}),o.jsx("span",{className:n.configured?"text-green-600":"text-red-600",children:n.configured?"Configured ":"Not Configured "})]})]})})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(p,{success:n.connected}),"Connection & Tables"]})}),o.jsx(me,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Database Connection:"}),o.jsx("span",{className:n.connected?"text-green-600":"text-red-600",children:n.connected?"Connected ":"Failed "})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Tables Exist:"}),o.jsx("span",{className:n.tablesExist?"text-green-600":"text-red-600",children:n.tablesExist?"Found ":"Missing "})]}),Object.keys(a).length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Table Status:"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(a).map(([g,m])=>o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{children:[g,":"]}),o.jsx("span",{className:m.includes("Error")||m.includes("Failed")?"text-red-600":"text-green-600",children:m})]},g))})]})]})})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(p,{success:n.hasData}),"Data Status"]})}),o.jsx(me,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Has Sample Data:"}),o.jsx("span",{className:n.hasData?"text-green-600":"text-orange-600",children:n.hasData?"Yes ":"Empty "})]}),n.stats&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Dashboard Stats:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:["Users: ",o.jsx("span",{className:"font-mono",children:n.stats.totalUsers})]}),o.jsxs("div",{children:["Buildings: ",o.jsx("span",{className:"font-mono",children:n.stats.buildingsMapped})]}),o.jsxs("div",{children:["Content: ",o.jsx("span",{className:"font-mono",children:n.stats.contentItems})]}),o.jsxs("div",{children:["Tour Views: ",o.jsx("span",{className:"font-mono",children:n.stats.tourViews})]})]})]}),n.activities&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Recent Activities:"}),o.jsxs("div",{className:"text-sm text-gray-600",children:[n.activities.length," activities loaded"]})]}),!n.hasData&&n.tablesExist&&o.jsx(ie,{onClick:f,className:"w-full mt-3",children:"Create Sample Data"})]})})]}),n.errors.length>0&&o.jsxs(_s,{className:"border-red-200",children:[o.jsx(sf,{className:"h-4 w-4"}),o.jsx(Ss,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:"Issues Found:"}),n.errors.map((g,m)=>o.jsxs("div",{className:"text-sm",children:[" ",g]},m))]})})]}),n.configured&&n.connected&&n.hasData&&o.jsxs(_s,{className:"border-green-200 bg-green-50",children:[o.jsx(rf,{className:"h-4 w-4 text-green-600"}),o.jsxs(Ss,{className:"text-green-700",children:[o.jsx("div",{className:"font-medium",children:" All Tests Passed!"}),o.jsx("div",{className:"text-sm mt-1",children:"Your Supabase database is properly connected and has data. Your dashboard should be working correctly."})]})]})]})}const qN=kf("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Qe({className:n,variant:t,asChild:r=!1,...i}){const a=r?lx:"span";return o.jsx(a,{"data-slot":"badge",className:De(qN({variant:t}),n),...i})}function le(n,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(n?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function GN(n,t){const r=w.createContext(t),i=c=>{const{children:u,...f}=c,p=w.useMemo(()=>f,Object.values(f));return o.jsx(r.Provider,{value:p,children:u})};i.displayName=n+"Provider";function a(c){const u=w.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${n}\``)}return[i,a]}function pn(n,t=[]){let r=[];function i(c,u){const f=w.createContext(u),p=r.length;r=[...r,u];const g=x=>{const{scope:y,children:_,...j}=x,b=y?.[n]?.[p]||f,C=w.useMemo(()=>j,Object.values(j));return o.jsx(b.Provider,{value:C,children:_})};g.displayName=c+"Provider";function m(x,y){const _=y?.[n]?.[p]||f,j=w.useContext(_);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[g,m]}const a=()=>{const c=r.map(u=>w.createContext(u));return function(f){const p=f?.[n]||c;return w.useMemo(()=>({[`__scope${n}`]:{...f,[n]:p}}),[f,p])}};return a.scopeName=n,[i,QN(a,...t)]}function QN(...n){const t=n[0];if(n.length===1)return t;const r=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const u=i.reduce((f,{useScope:p,scopeName:g})=>{const x=p(c)[`__scope${g}`];return{...f,...x}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}var Gi=_v();const JN=bf(Gi);var YN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=YN.reduce((n,t)=>{const r=Lr(`Primitive.${t}`),i=w.forwardRef((a,c)=>{const{asChild:u,...f}=a,p=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(p,{...f,ref:c})});return i.displayName=`Primitive.${t}`,{...n,[t]:i}},{});function mx(n,t){n&&Gi.flushSync(()=>n.dispatchEvent(t))}function Vn(n){const t=w.useRef(n);return w.useEffect(()=>{t.current=n}),w.useMemo(()=>(...r)=>t.current?.(...r),[])}function XN(n,t=globalThis?.document){const r=Vn(n);w.useEffect(()=>{const i=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[r,t])}var ZN="DismissableLayer",af="dismissableLayer.update",ek="dismissableLayer.pointerDownOutside",tk="dismissableLayer.focusOutside",qg,gx=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lo=w.forwardRef((n,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...p}=n,g=w.useContext(gx),[m,x]=w.useState(null),y=m?.ownerDocument??globalThis?.document,[,_]=w.useState({}),j=Ve(t,O=>x(O)),b=Array.from(g.layers),[C]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),k=b.indexOf(C),E=m?b.indexOf(m):-1,R=g.layersWithOutsidePointerEventsDisabled.size>0,D=E>=k,U=sk(O=>{const F=O.target,re=[...g.branches].some(Q=>Q.contains(F));!D||re||(a?.(O),u?.(O),O.defaultPrevented||f?.())},y),H=ok(O=>{const F=O.target;[...g.branches].some(Q=>Q.contains(F))||(c?.(O),u?.(O),O.defaultPrevented||f?.())},y);return XN(O=>{E===g.layers.size-1&&(i?.(O),!O.defaultPrevented&&f&&(O.preventDefault(),f()))},y),w.useEffect(()=>{if(m)return r&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(qg=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(m)),g.layers.add(m),Gg(),()=>{r&&g.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=qg)}},[m,y,r,g]),w.useEffect(()=>()=>{m&&(g.layers.delete(m),g.layersWithOutsidePointerEventsDisabled.delete(m),Gg())},[m,g]),w.useEffect(()=>{const O=()=>_({});return document.addEventListener(af,O),()=>document.removeEventListener(af,O)},[]),o.jsx(Le.div,{...p,ref:j,style:{pointerEvents:R?D?"auto":"none":void 0,...n.style},onFocusCapture:le(n.onFocusCapture,H.onFocusCapture),onBlurCapture:le(n.onBlurCapture,H.onBlurCapture),onPointerDownCapture:le(n.onPointerDownCapture,U.onPointerDownCapture)})});Lo.displayName=ZN;var nk="DismissableLayerBranch",rk=w.forwardRef((n,t)=>{const r=w.useContext(gx),i=w.useRef(null),a=Ve(t,i);return w.useEffect(()=>{const c=i.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),o.jsx(Le.div,{...n,ref:a})});rk.displayName=nk;function sk(n,t=globalThis?.document){const r=Vn(n),i=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const c=f=>{if(f.target&&!i.current){let p=function(){vx(ek,r,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=p,t.addEventListener("click",a.current,{once:!0})):p()}else t.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>i.current=!0}}function ok(n,t=globalThis?.document){const r=Vn(n),i=w.useRef(!1);return w.useEffect(()=>{const a=c=>{c.target&&!i.current&&vx(tk,r,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Gg(){const n=new CustomEvent(af);document.dispatchEvent(n)}function vx(n,t,r,{discrete:i}){const a=r.originalEvent.target,c=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(n,t,{once:!0}),i?mx(a,c):a.dispatchEvent(c)}var Td=0;function Xl(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Qg()),document.body.insertAdjacentElement("beforeend",n[1]??Qg()),Td++,()=>{Td===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Td--}},[])}function Qg(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Rd="focusScope.autoFocusOnMount",Pd="focusScope.autoFocusOnUnmount",Jg={bubbles:!1,cancelable:!0},ik="FocusScope",Qi=w.forwardRef((n,t)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:c,...u}=n,[f,p]=w.useState(null),g=Vn(a),m=Vn(c),x=w.useRef(null),y=Ve(t,b=>p(b)),_=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let b=function(R){if(_.paused||!f)return;const D=R.target;f.contains(D)?x.current=D:Ar(x.current,{select:!0})},C=function(R){if(_.paused||!f)return;const D=R.relatedTarget;D!==null&&(f.contains(D)||Ar(x.current,{select:!0}))},k=function(R){if(document.activeElement===document.body)for(const U of R)U.removedNodes.length>0&&Ar(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",C);const E=new MutationObserver(k);return f&&E.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",C),E.disconnect()}}},[i,f,_.paused]),w.useEffect(()=>{if(f){Xg.add(_);const b=document.activeElement;if(!f.contains(b)){const k=new CustomEvent(Rd,Jg);f.addEventListener(Rd,g),f.dispatchEvent(k),k.defaultPrevented||(ak(fk(xx(f)),{select:!0}),document.activeElement===b&&Ar(f))}return()=>{f.removeEventListener(Rd,g),setTimeout(()=>{const k=new CustomEvent(Pd,Jg);f.addEventListener(Pd,m),f.dispatchEvent(k),k.defaultPrevented||Ar(b??document.body,{select:!0}),f.removeEventListener(Pd,m),Xg.remove(_)},0)}}},[f,g,m,_]);const j=w.useCallback(b=>{if(!r&&!i||_.paused)return;const C=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,k=document.activeElement;if(C&&k){const E=b.currentTarget,[R,D]=lk(E);R&&D?!b.shiftKey&&k===D?(b.preventDefault(),r&&Ar(R,{select:!0})):b.shiftKey&&k===R&&(b.preventDefault(),r&&Ar(D,{select:!0})):k===E&&b.preventDefault()}},[r,i,_.paused]);return o.jsx(Le.div,{tabIndex:-1,...u,ref:y,onKeyDown:j})});Qi.displayName=ik;function ak(n,{select:t=!1}={}){const r=document.activeElement;for(const i of n)if(Ar(i,{select:t}),document.activeElement!==r)return}function lk(n){const t=xx(n),r=Yg(t,n),i=Yg(t.reverse(),n);return[r,i]}function xx(n){const t=[],r=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Yg(n,t){for(const r of n)if(!ck(r,{upTo:t}))return r}function ck(n,{upTo:t}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t!==void 0&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function uk(n){return n instanceof HTMLInputElement&&"select"in n}function Ar(n,{select:t=!1}={}){if(n&&n.focus){const r=document.activeElement;n.focus({preventScroll:!0}),n!==r&&uk(n)&&t&&n.select()}}var Xg=dk();function dk(){let n=[];return{add(t){const r=n[0];t!==r&&r?.pause(),n=Zg(n,t),n.unshift(t)},remove(t){n=Zg(n,t),n[0]?.resume()}}}function Zg(n,t){const r=[...n],i=r.indexOf(t);return i!==-1&&r.splice(i,1),r}function fk(n){return n.filter(t=>t.tagName!=="A")}var Et=globalThis?.document?w.useLayoutEffect:()=>{},hk=Sv[" useId ".trim().toString()]||(()=>{}),pk=0;function fn(n){const[t,r]=w.useState(hk());return Et(()=>{r(i=>i??String(pk++))},[n]),n||(t?`radix-${t}`:"")}const mk=["top","right","bottom","left"],Fr=Math.min,Xt=Math.max,zl=Math.round,_l=Math.floor,Bn=n=>({x:n,y:n}),gk={left:"right",right:"left",bottom:"top",top:"bottom"},vk={start:"end",end:"start"};function lf(n,t,r){return Xt(n,Fr(t,r))}function or(n,t){return typeof n=="function"?n(t):n}function ir(n){return n.split("-")[0]}function $o(n){return n.split("-")[1]}function Pf(n){return n==="x"?"y":"x"}function Af(n){return n==="y"?"height":"width"}const xk=new Set(["top","bottom"]);function zn(n){return xk.has(ir(n))?"y":"x"}function Of(n){return Pf(zn(n))}function yk(n,t,r){r===void 0&&(r=!1);const i=$o(n),a=Of(n),c=Af(a);let u=a==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=Bl(u)),[u,Bl(u)]}function wk(n){const t=Bl(n);return[cf(n),t,cf(t)]}function cf(n){return n.replace(/start|end/g,t=>vk[t])}const ev=["left","right"],tv=["right","left"],bk=["top","bottom"],jk=["bottom","top"];function _k(n,t,r){switch(n){case"top":case"bottom":return r?t?tv:ev:t?ev:tv;case"left":case"right":return t?bk:jk;default:return[]}}function Sk(n,t,r,i){const a=$o(n);let c=_k(ir(n),r==="start",i);return a&&(c=c.map(u=>u+"-"+a),t&&(c=c.concat(c.map(cf)))),c}function Bl(n){return n.replace(/left|right|bottom|top/g,t=>gk[t])}function Ck(n){return{top:0,right:0,bottom:0,left:0,...n}}function yx(n){return typeof n!="number"?Ck(n):{top:n,right:n,bottom:n,left:n}}function Vl(n){const{x:t,y:r,width:i,height:a}=n;return{width:i,height:a,top:r,left:t,right:t+i,bottom:r+a,x:t,y:r}}function nv(n,t,r){let{reference:i,floating:a}=n;const c=zn(t),u=Of(t),f=Af(u),p=ir(t),g=c==="y",m=i.x+i.width/2-a.width/2,x=i.y+i.height/2-a.height/2,y=i[f]/2-a[f]/2;let _;switch(p){case"top":_={x:m,y:i.y-a.height};break;case"bottom":_={x:m,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:x};break;case"left":_={x:i.x-a.width,y:x};break;default:_={x:i.x,y:i.y}}switch($o(t)){case"start":_[u]-=y*(r&&g?-1:1);break;case"end":_[u]+=y*(r&&g?-1:1);break}return _}const Nk=async(n,t,r)=>{const{placement:i="bottom",strategy:a="absolute",middleware:c=[],platform:u}=r,f=c.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(t));let g=await u.getElementRects({reference:n,floating:t,strategy:a}),{x:m,y:x}=nv(g,i,p),y=i,_={},j=0;for(let b=0;b<f.length;b++){const{name:C,fn:k}=f[b],{x:E,y:R,data:D,reset:U}=await k({x:m,y:x,initialPlacement:i,placement:y,strategy:a,middlewareData:_,rects:g,platform:u,elements:{reference:n,floating:t}});m=E??m,x=R??x,_={..._,[C]:{..._[C],...D}},U&&j<=50&&(j++,typeof U=="object"&&(U.placement&&(y=U.placement),U.rects&&(g=U.rects===!0?await u.getElementRects({reference:n,floating:t,strategy:a}):U.rects),{x:m,y:x}=nv(g,y,p)),b=-1)}return{x:m,y:x,placement:y,strategy:a,middlewareData:_}};async function zi(n,t){var r;t===void 0&&(t={});const{x:i,y:a,platform:c,rects:u,elements:f,strategy:p}=n,{boundary:g="clippingAncestors",rootBoundary:m="viewport",elementContext:x="floating",altBoundary:y=!1,padding:_=0}=or(t,n),j=yx(_),C=f[y?x==="floating"?"reference":"floating":x],k=Vl(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(C)))==null||r?C:C.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:g,rootBoundary:m,strategy:p})),E=x==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),D=await(c.isElement==null?void 0:c.isElement(R))?await(c.getScale==null?void 0:c.getScale(R))||{x:1,y:1}:{x:1,y:1},U=Vl(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:E,offsetParent:R,strategy:p}):E);return{top:(k.top-U.top+j.top)/D.y,bottom:(U.bottom-k.bottom+j.bottom)/D.y,left:(k.left-U.left+j.left)/D.x,right:(U.right-k.right+j.right)/D.x}}const kk=n=>({name:"arrow",options:n,async fn(t){const{x:r,y:i,placement:a,rects:c,platform:u,elements:f,middlewareData:p}=t,{element:g,padding:m=0}=or(n,t)||{};if(g==null)return{};const x=yx(m),y={x:r,y:i},_=Of(a),j=Af(_),b=await u.getDimensions(g),C=_==="y",k=C?"top":"left",E=C?"bottom":"right",R=C?"clientHeight":"clientWidth",D=c.reference[j]+c.reference[_]-y[_]-c.floating[j],U=y[_]-c.reference[_],H=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let O=H?H[R]:0;(!O||!await(u.isElement==null?void 0:u.isElement(H)))&&(O=f.floating[R]||c.floating[j]);const F=D/2-U/2,re=O/2-b[j]/2-1,Q=Fr(x[k],re),se=Fr(x[E],re),oe=Q,fe=O-b[j]-se,ae=O/2-b[j]/2+F,q=lf(oe,ae,fe),J=!p.arrow&&$o(a)!=null&&ae!==q&&c.reference[j]/2-(ae<oe?Q:se)-b[j]/2<0,ne=J?ae<oe?ae-oe:ae-fe:0;return{[_]:y[_]+ne,data:{[_]:q,centerOffset:ae-q-ne,...J&&{alignmentOffset:ne}},reset:J}}}),Ek=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var r,i;const{placement:a,middlewareData:c,rects:u,initialPlacement:f,platform:p,elements:g}=t,{mainAxis:m=!0,crossAxis:x=!0,fallbackPlacements:y,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:b=!0,...C}=or(n,t);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const k=ir(a),E=zn(f),R=ir(f)===f,D=await(p.isRTL==null?void 0:p.isRTL(g.floating)),U=y||(R||!b?[Bl(f)]:wk(f)),H=j!=="none";!y&&H&&U.push(...Sk(f,b,j,D));const O=[f,...U],F=await zi(t,C),re=[];let Q=((i=c.flip)==null?void 0:i.overflows)||[];if(m&&re.push(F[k]),x){const ae=yk(a,u,D);re.push(F[ae[0]],F[ae[1]])}if(Q=[...Q,{placement:a,overflows:re}],!re.every(ae=>ae<=0)){var se,oe;const ae=(((se=c.flip)==null?void 0:se.index)||0)+1,q=O[ae];if(q&&(!(x==="alignment"?E!==zn(q):!1)||Q.every(N=>zn(N.placement)===E?N.overflows[0]>0:!0)))return{data:{index:ae,overflows:Q},reset:{placement:q}};let J=(oe=Q.filter(ne=>ne.overflows[0]<=0).sort((ne,N)=>ne.overflows[1]-N.overflows[1])[0])==null?void 0:oe.placement;if(!J)switch(_){case"bestFit":{var fe;const ne=(fe=Q.filter(N=>{if(H){const z=zn(N.placement);return z===E||z==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(z=>z>0).reduce((z,K)=>z+K,0)]).sort((N,z)=>N[1]-z[1])[0])==null?void 0:fe[0];ne&&(J=ne);break}case"initialPlacement":J=f;break}if(a!==J)return{reset:{placement:J}}}return{}}}};function rv(n,t){return{top:n.top-t.height,right:n.right-t.width,bottom:n.bottom-t.height,left:n.left-t.width}}function sv(n){return mk.some(t=>n[t]>=0)}const Tk=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...a}=or(n,t);switch(i){case"referenceHidden":{const c=await zi(t,{...a,elementContext:"reference"}),u=rv(c,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:sv(u)}}}case"escaped":{const c=await zi(t,{...a,altBoundary:!0}),u=rv(c,r.floating);return{data:{escapedOffsets:u,escaped:sv(u)}}}default:return{}}}}},wx=new Set(["left","top"]);async function Rk(n,t){const{placement:r,platform:i,elements:a}=n,c=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=ir(r),f=$o(r),p=zn(r)==="y",g=wx.has(u)?-1:1,m=c&&p?-1:1,x=or(t,n);let{mainAxis:y,crossAxis:_,alignmentAxis:j}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&typeof j=="number"&&(_=f==="end"?j*-1:j),p?{x:_*m,y:y*g}:{x:y*g,y:_*m}}const Pk=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var r,i;const{x:a,y:c,placement:u,middlewareData:f}=t,p=await Rk(t,n);return u===((r=f.offset)==null?void 0:r.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+p.x,y:c+p.y,data:{...p,placement:u}}}}},Ak=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:r,y:i,placement:a}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:C=>{let{x:k,y:E}=C;return{x:k,y:E}}},...p}=or(n,t),g={x:r,y:i},m=await zi(t,p),x=zn(ir(a)),y=Pf(x);let _=g[y],j=g[x];if(c){const C=y==="y"?"top":"left",k=y==="y"?"bottom":"right",E=_+m[C],R=_-m[k];_=lf(E,_,R)}if(u){const C=x==="y"?"top":"left",k=x==="y"?"bottom":"right",E=j+m[C],R=j-m[k];j=lf(E,j,R)}const b=f.fn({...t,[y]:_,[x]:j});return{...b,data:{x:b.x-r,y:b.y-i,enabled:{[y]:c,[x]:u}}}}}},Ok=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:r,y:i,placement:a,rects:c,middlewareData:u}=t,{offset:f=0,mainAxis:p=!0,crossAxis:g=!0}=or(n,t),m={x:r,y:i},x=zn(a),y=Pf(x);let _=m[y],j=m[x];const b=or(f,t),C=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(p){const R=y==="y"?"height":"width",D=c.reference[y]-c.floating[R]+C.mainAxis,U=c.reference[y]+c.reference[R]-C.mainAxis;_<D?_=D:_>U&&(_=U)}if(g){var k,E;const R=y==="y"?"width":"height",D=wx.has(ir(a)),U=c.reference[x]-c.floating[R]+(D&&((k=u.offset)==null?void 0:k[x])||0)+(D?0:C.crossAxis),H=c.reference[x]+c.reference[R]+(D?0:((E=u.offset)==null?void 0:E[x])||0)-(D?C.crossAxis:0);j<U?j=U:j>H&&(j=H)}return{[y]:_,[x]:j}}}},Ik=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(t){var r,i;const{placement:a,rects:c,platform:u,elements:f}=t,{apply:p=()=>{},...g}=or(n,t),m=await zi(t,g),x=ir(a),y=$o(a),_=zn(a)==="y",{width:j,height:b}=c.floating;let C,k;x==="top"||x==="bottom"?(C=x,k=y===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(k=x,C=y==="end"?"top":"bottom");const E=b-m.top-m.bottom,R=j-m.left-m.right,D=Fr(b-m[C],E),U=Fr(j-m[k],R),H=!t.middlewareData.shift;let O=D,F=U;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(F=R),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(O=E),H&&!y){const Q=Xt(m.left,0),se=Xt(m.right,0),oe=Xt(m.top,0),fe=Xt(m.bottom,0);_?F=j-2*(Q!==0||se!==0?Q+se:Xt(m.left,m.right)):O=b-2*(oe!==0||fe!==0?oe+fe:Xt(m.top,m.bottom))}await p({...t,availableWidth:F,availableHeight:O});const re=await u.getDimensions(f.floating);return j!==re.width||b!==re.height?{reset:{rects:!0}}:{}}}};function Zl(){return typeof window<"u"}function Fo(n){return bx(n)?(n.nodeName||"").toLowerCase():"#document"}function Zt(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Hn(n){var t;return(t=(bx(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function bx(n){return Zl()?n instanceof Node||n instanceof Zt(n).Node:!1}function Tn(n){return Zl()?n instanceof Element||n instanceof Zt(n).Element:!1}function Wn(n){return Zl()?n instanceof HTMLElement||n instanceof Zt(n).HTMLElement:!1}function ov(n){return!Zl()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Zt(n).ShadowRoot}const Dk=new Set(["inline","contents"]);function Ji(n){const{overflow:t,overflowX:r,overflowY:i,display:a}=Rn(n);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!Dk.has(a)}const Mk=new Set(["table","td","th"]);function Lk(n){return Mk.has(Fo(n))}const $k=[":popover-open",":modal"];function ec(n){return $k.some(t=>{try{return n.matches(t)}catch{return!1}})}const Fk=["transform","translate","scale","rotate","perspective"],Uk=["transform","translate","scale","rotate","perspective","filter"],zk=["paint","layout","strict","content"];function If(n){const t=Df(),r=Tn(n)?Rn(n):n;return Fk.some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Uk.some(i=>(r.willChange||"").includes(i))||zk.some(i=>(r.contain||"").includes(i))}function Bk(n){let t=Ur(n);for(;Wn(t)&&!Ro(t);){if(If(t))return t;if(ec(t))return null;t=Ur(t)}return null}function Df(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Vk=new Set(["html","body","#document"]);function Ro(n){return Vk.has(Fo(n))}function Rn(n){return Zt(n).getComputedStyle(n)}function tc(n){return Tn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ur(n){if(Fo(n)==="html")return n;const t=n.assignedSlot||n.parentNode||ov(n)&&n.host||Hn(n);return ov(t)?t.host:t}function jx(n){const t=Ur(n);return Ro(t)?n.ownerDocument?n.ownerDocument.body:n.body:Wn(t)&&Ji(t)?t:jx(t)}function Bi(n,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=jx(n),c=a===((i=n.ownerDocument)==null?void 0:i.body),u=Zt(a);if(c){const f=uf(u);return t.concat(u,u.visualViewport||[],Ji(a)?a:[],f&&r?Bi(f):[])}return t.concat(a,Bi(a,[],r))}function uf(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _x(n){const t=Rn(n);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const a=Wn(n),c=a?n.offsetWidth:r,u=a?n.offsetHeight:i,f=zl(r)!==c||zl(i)!==u;return f&&(r=c,i=u),{width:r,height:i,$:f}}function Mf(n){return Tn(n)?n:n.contextElement}function _o(n){const t=Mf(n);if(!Wn(t))return Bn(1);const r=t.getBoundingClientRect(),{width:i,height:a,$:c}=_x(t);let u=(c?zl(r.width):r.width)/i,f=(c?zl(r.height):r.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const Wk=Bn(0);function Sx(n){const t=Zt(n);return!Df()||!t.visualViewport?Wk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Hk(n,t,r){return t===void 0&&(t=!1),!r||t&&r!==Zt(n)?!1:t}function Cs(n,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=n.getBoundingClientRect(),c=Mf(n);let u=Bn(1);t&&(i?Tn(i)&&(u=_o(i)):u=_o(n));const f=Hk(c,r,i)?Sx(c):Bn(0);let p=(a.left+f.x)/u.x,g=(a.top+f.y)/u.y,m=a.width/u.x,x=a.height/u.y;if(c){const y=Zt(c),_=i&&Tn(i)?Zt(i):i;let j=y,b=uf(j);for(;b&&i&&_!==j;){const C=_o(b),k=b.getBoundingClientRect(),E=Rn(b),R=k.left+(b.clientLeft+parseFloat(E.paddingLeft))*C.x,D=k.top+(b.clientTop+parseFloat(E.paddingTop))*C.y;p*=C.x,g*=C.y,m*=C.x,x*=C.y,p+=R,g+=D,j=Zt(b),b=uf(j)}}return Vl({width:m,height:x,x:p,y:g})}function nc(n,t){const r=tc(n).scrollLeft;return t?t.left+r:Cs(Hn(n)).left+r}function Cx(n,t){const r=n.getBoundingClientRect(),i=r.left+t.scrollLeft-nc(n,r),a=r.top+t.scrollTop;return{x:i,y:a}}function Kk(n){let{elements:t,rect:r,offsetParent:i,strategy:a}=n;const c=a==="fixed",u=Hn(i),f=t?ec(t.floating):!1;if(i===u||f&&c)return r;let p={scrollLeft:0,scrollTop:0},g=Bn(1);const m=Bn(0),x=Wn(i);if((x||!x&&!c)&&((Fo(i)!=="body"||Ji(u))&&(p=tc(i)),Wn(i))){const _=Cs(i);g=_o(i),m.x=_.x+i.clientLeft,m.y=_.y+i.clientTop}const y=u&&!x&&!c?Cx(u,p):Bn(0);return{width:r.width*g.x,height:r.height*g.y,x:r.x*g.x-p.scrollLeft*g.x+m.x+y.x,y:r.y*g.y-p.scrollTop*g.y+m.y+y.y}}function qk(n){return Array.from(n.getClientRects())}function Gk(n){const t=Hn(n),r=tc(n),i=n.ownerDocument.body,a=Xt(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),c=Xt(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-r.scrollLeft+nc(n);const f=-r.scrollTop;return Rn(i).direction==="rtl"&&(u+=Xt(t.clientWidth,i.clientWidth)-a),{width:a,height:c,x:u,y:f}}const iv=25;function Qk(n,t){const r=Zt(n),i=Hn(n),a=r.visualViewport;let c=i.clientWidth,u=i.clientHeight,f=0,p=0;if(a){c=a.width,u=a.height;const m=Df();(!m||m&&t==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}const g=nc(i);if(g<=0){const m=i.ownerDocument,x=m.body,y=getComputedStyle(x),_=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,j=Math.abs(i.clientWidth-x.clientWidth-_);j<=iv&&(c-=j)}else g<=iv&&(c+=g);return{width:c,height:u,x:f,y:p}}const Jk=new Set(["absolute","fixed"]);function Yk(n,t){const r=Cs(n,!0,t==="fixed"),i=r.top+n.clientTop,a=r.left+n.clientLeft,c=Wn(n)?_o(n):Bn(1),u=n.clientWidth*c.x,f=n.clientHeight*c.y,p=a*c.x,g=i*c.y;return{width:u,height:f,x:p,y:g}}function av(n,t,r){let i;if(t==="viewport")i=Qk(n,r);else if(t==="document")i=Gk(Hn(n));else if(Tn(t))i=Yk(t,r);else{const a=Sx(n);i={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Vl(i)}function Nx(n,t){const r=Ur(n);return r===t||!Tn(r)||Ro(r)?!1:Rn(r).position==="fixed"||Nx(r,t)}function Xk(n,t){const r=t.get(n);if(r)return r;let i=Bi(n,[],!1).filter(f=>Tn(f)&&Fo(f)!=="body"),a=null;const c=Rn(n).position==="fixed";let u=c?Ur(n):n;for(;Tn(u)&&!Ro(u);){const f=Rn(u),p=If(u);!p&&f.position==="fixed"&&(a=null),(c?!p&&!a:!p&&f.position==="static"&&!!a&&Jk.has(a.position)||Ji(u)&&!p&&Nx(n,u))?i=i.filter(m=>m!==u):a=f,u=Ur(u)}return t.set(n,i),i}function Zk(n){let{element:t,boundary:r,rootBoundary:i,strategy:a}=n;const u=[...r==="clippingAncestors"?ec(t)?[]:Xk(t,this._c):[].concat(r),i],f=u[0],p=u.reduce((g,m)=>{const x=av(t,m,a);return g.top=Xt(x.top,g.top),g.right=Fr(x.right,g.right),g.bottom=Fr(x.bottom,g.bottom),g.left=Xt(x.left,g.left),g},av(t,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function eE(n){const{width:t,height:r}=_x(n);return{width:t,height:r}}function tE(n,t,r){const i=Wn(t),a=Hn(t),c=r==="fixed",u=Cs(n,!0,c,t);let f={scrollLeft:0,scrollTop:0};const p=Bn(0);function g(){p.x=nc(a)}if(i||!i&&!c)if((Fo(t)!=="body"||Ji(a))&&(f=tc(t)),i){const _=Cs(t,!0,c,t);p.x=_.x+t.clientLeft,p.y=_.y+t.clientTop}else a&&g();c&&!i&&a&&g();const m=a&&!i&&!c?Cx(a,f):Bn(0),x=u.left+f.scrollLeft-p.x-m.x,y=u.top+f.scrollTop-p.y-m.y;return{x,y,width:u.width,height:u.height}}function Ad(n){return Rn(n).position==="static"}function lv(n,t){if(!Wn(n)||Rn(n).position==="fixed")return null;if(t)return t(n);let r=n.offsetParent;return Hn(n)===r&&(r=r.ownerDocument.body),r}function kx(n,t){const r=Zt(n);if(ec(n))return r;if(!Wn(n)){let a=Ur(n);for(;a&&!Ro(a);){if(Tn(a)&&!Ad(a))return a;a=Ur(a)}return r}let i=lv(n,t);for(;i&&Lk(i)&&Ad(i);)i=lv(i,t);return i&&Ro(i)&&Ad(i)&&!If(i)?r:i||Bk(n)||r}const nE=async function(n){const t=this.getOffsetParent||kx,r=this.getDimensions,i=await r(n.floating);return{reference:tE(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function rE(n){return Rn(n).direction==="rtl"}const sE={convertOffsetParentRelativeRectToViewportRelativeRect:Kk,getDocumentElement:Hn,getClippingRect:Zk,getOffsetParent:kx,getElementRects:nE,getClientRects:qk,getDimensions:eE,getScale:_o,isElement:Tn,isRTL:rE};function Ex(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function oE(n,t){let r=null,i;const a=Hn(n);function c(){var f;clearTimeout(i),(f=r)==null||f.disconnect(),r=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),c();const g=n.getBoundingClientRect(),{left:m,top:x,width:y,height:_}=g;if(f||t(),!y||!_)return;const j=_l(x),b=_l(a.clientWidth-(m+y)),C=_l(a.clientHeight-(x+_)),k=_l(m),R={rootMargin:-j+"px "+-b+"px "+-C+"px "+-k+"px",threshold:Xt(0,Fr(1,p))||1};let D=!0;function U(H){const O=H[0].intersectionRatio;if(O!==p){if(!D)return u();O?u(!1,O):i=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!Ex(g,n.getBoundingClientRect())&&u(),D=!1}try{r=new IntersectionObserver(U,{...R,root:a.ownerDocument})}catch{r=new IntersectionObserver(U,R)}r.observe(n)}return u(!0),c}function iE(n,t,r,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,g=Mf(n),m=a||c?[...g?Bi(g):[],...Bi(t)]:[];m.forEach(k=>{a&&k.addEventListener("scroll",r,{passive:!0}),c&&k.addEventListener("resize",r)});const x=g&&f?oE(g,r):null;let y=-1,_=null;u&&(_=new ResizeObserver(k=>{let[E]=k;E&&E.target===g&&_&&(_.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(t)})),r()}),g&&!p&&_.observe(g),_.observe(t));let j,b=p?Cs(n):null;p&&C();function C(){const k=Cs(n);b&&!Ex(b,k)&&r(),b=k,j=requestAnimationFrame(C)}return r(),()=>{var k;m.forEach(E=>{a&&E.removeEventListener("scroll",r),c&&E.removeEventListener("resize",r)}),x?.(),(k=_)==null||k.disconnect(),_=null,p&&cancelAnimationFrame(j)}}const aE=Pk,lE=Ak,cE=Ek,uE=Ik,dE=Tk,cv=kk,fE=Ok,hE=(n,t,r)=>{const i=new Map,a={platform:sE,...r},c={...a.platform,_c:i};return Nk(n,t,{...a,platform:c})};var pE=typeof document<"u",mE=function(){},Rl=pE?w.useLayoutEffect:mE;function Wl(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let r,i,a;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(r=n.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!Wl(n[i],t[i]))return!1;return!0}if(a=Object.keys(n),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!==0;){const c=a[i];if(!(c==="_owner"&&n.$$typeof)&&!Wl(n[c],t[c]))return!1}return!0}return n!==n&&t!==t}function Tx(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function uv(n,t){const r=Tx(n);return Math.round(t*r)/r}function Od(n){const t=w.useRef(n);return Rl(()=>{t.current=n}),t}function gE(n){n===void 0&&(n={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:a,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:p,open:g}=n,[m,x]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,_]=w.useState(i);Wl(y,i)||_(i);const[j,b]=w.useState(null),[C,k]=w.useState(null),E=w.useCallback(N=>{N!==H.current&&(H.current=N,b(N))},[]),R=w.useCallback(N=>{N!==O.current&&(O.current=N,k(N))},[]),D=c||j,U=u||C,H=w.useRef(null),O=w.useRef(null),F=w.useRef(m),re=p!=null,Q=Od(p),se=Od(a),oe=Od(g),fe=w.useCallback(()=>{if(!H.current||!O.current)return;const N={placement:t,strategy:r,middleware:y};se.current&&(N.platform=se.current),hE(H.current,O.current,N).then(z=>{const K={...z,isPositioned:oe.current!==!1};ae.current&&!Wl(F.current,K)&&(F.current=K,Gi.flushSync(()=>{x(K)}))})},[y,t,r,se,oe]);Rl(()=>{g===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,x(N=>({...N,isPositioned:!1})))},[g]);const ae=w.useRef(!1);Rl(()=>(ae.current=!0,()=>{ae.current=!1}),[]),Rl(()=>{if(D&&(H.current=D),U&&(O.current=U),D&&U){if(Q.current)return Q.current(D,U,fe);fe()}},[D,U,fe,Q,re]);const q=w.useMemo(()=>({reference:H,floating:O,setReference:E,setFloating:R}),[E,R]),J=w.useMemo(()=>({reference:D,floating:U}),[D,U]),ne=w.useMemo(()=>{const N={position:r,left:0,top:0};if(!J.floating)return N;const z=uv(J.floating,m.x),K=uv(J.floating,m.y);return f?{...N,transform:"translate("+z+"px, "+K+"px)",...Tx(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:K}},[r,f,J.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:fe,refs:q,elements:J,floatingStyles:ne}),[m,fe,q,J,ne])}const vE=n=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:n,fn(r){const{element:i,padding:a}=typeof n=="function"?n(r):n;return i&&t(i)?i.current!=null?cv({element:i.current,padding:a}).fn(r):{}:i?cv({element:i,padding:a}).fn(r):{}}}},xE=(n,t)=>({...aE(n),options:[n,t]}),yE=(n,t)=>({...lE(n),options:[n,t]}),wE=(n,t)=>({...fE(n),options:[n,t]}),bE=(n,t)=>({...cE(n),options:[n,t]}),jE=(n,t)=>({...uE(n),options:[n,t]}),_E=(n,t)=>({...dE(n),options:[n,t]}),SE=(n,t)=>({...vE(n),options:[n,t]});var CE="Arrow",Rx=w.forwardRef((n,t)=>{const{children:r,width:i=10,height:a=5,...c}=n;return o.jsx(Le.svg,{...c,ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rx.displayName=CE;var NE=Rx;function Px(n){const[t,r]=w.useState(void 0);return Et(()=>{if(n){r({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let u,f;if("borderBoxSize"in c){const p=c.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,f=g.blockSize}else u=n.offsetWidth,f=n.offsetHeight;r({width:u,height:f})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else r(void 0)},[n]),t}var Lf="Popper",[Ax,Yr]=pn(Lf),[kE,Ox]=Ax(Lf),Ix=n=>{const{__scopePopper:t,children:r}=n,[i,a]=w.useState(null);return o.jsx(kE,{scope:t,anchor:i,onAnchorChange:a,children:r})};Ix.displayName=Lf;var Dx="PopperAnchor",Mx=w.forwardRef((n,t)=>{const{__scopePopper:r,virtualRef:i,...a}=n,c=Ox(Dx,r),u=w.useRef(null),f=Ve(t,u),p=w.useRef(null);return w.useEffect(()=>{const g=p.current;p.current=i?.current||u.current,g!==p.current&&c.onAnchorChange(p.current)}),i?null:o.jsx(Le.div,{...a,ref:f})});Mx.displayName=Dx;var $f="PopperContent",[EE,TE]=Ax($f),Lx=w.forwardRef((n,t)=>{const{__scopePopper:r,side:i="bottom",sideOffset:a=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:m=0,sticky:x="partial",hideWhenDetached:y=!1,updatePositionStrategy:_="optimized",onPlaced:j,...b}=n,C=Ox($f,r),[k,E]=w.useState(null),R=Ve(t,G=>E(G)),[D,U]=w.useState(null),H=Px(D),O=H?.width??0,F=H?.height??0,re=i+(c!=="center"?"-"+c:""),Q=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},se=Array.isArray(g)?g:[g],oe=se.length>0,fe={padding:Q,boundary:se.filter(PE),altBoundary:oe},{refs:ae,floatingStyles:q,placement:J,isPositioned:ne,middlewareData:N}=gE({strategy:"fixed",placement:re,whileElementsMounted:(...G)=>iE(...G,{animationFrame:_==="always"}),elements:{reference:C.anchor},middleware:[xE({mainAxis:a+F,alignmentAxis:u}),p&&yE({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?wE():void 0,...fe}),p&&bE({...fe}),jE({...fe,apply:({elements:G,rects:he,availableWidth:V,availableHeight:ee})=>{const{width:Se,height:L}=he.reference,Ne=G.floating.style;Ne.setProperty("--radix-popper-available-width",`${V}px`),Ne.setProperty("--radix-popper-available-height",`${ee}px`),Ne.setProperty("--radix-popper-anchor-width",`${Se}px`),Ne.setProperty("--radix-popper-anchor-height",`${L}px`)}}),D&&SE({element:D,padding:f}),AE({arrowWidth:O,arrowHeight:F}),y&&_E({strategy:"referenceHidden",...fe})]}),[z,K]=Ux(J),A=Vn(j);Et(()=>{ne&&A?.()},[ne,A]);const W=N.arrow?.x,ce=N.arrow?.y,ue=N.arrow?.centerOffset!==0,[Oe,Ce]=w.useState();return Et(()=>{k&&Ce(window.getComputedStyle(k).zIndex)},[k]),o.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:ne?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[N.transformOrigin?.x,N.transformOrigin?.y].join(" "),...N.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:o.jsx(EE,{scope:r,placedSide:z,onArrowChange:U,arrowX:W,arrowY:ce,shouldHideArrow:ue,children:o.jsx(Le.div,{"data-side":z,"data-align":K,...b,ref:R,style:{...b.style,animation:ne?void 0:"none"}})})})});Lx.displayName=$f;var $x="PopperArrow",RE={top:"bottom",right:"left",bottom:"top",left:"right"},Fx=w.forwardRef(function(t,r){const{__scopePopper:i,...a}=t,c=TE($x,i),u=RE[c.placedSide];return o.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:o.jsx(NE,{...a,ref:r,style:{...a.style,display:"block"}})})});Fx.displayName=$x;function PE(n){return n!==null}var AE=n=>({name:"transformOrigin",options:n,fn(t){const{placement:r,rects:i,middlewareData:a}=t,u=a.arrow?.centerOffset!==0,f=u?0:n.arrowWidth,p=u?0:n.arrowHeight,[g,m]=Ux(r),x={start:"0%",center:"50%",end:"100%"}[m],y=(a.arrow?.x??0)+f/2,_=(a.arrow?.y??0)+p/2;let j="",b="";return g==="bottom"?(j=u?x:`${y}px`,b=`${-p}px`):g==="top"?(j=u?x:`${y}px`,b=`${i.floating.height+p}px`):g==="right"?(j=`${-p}px`,b=u?x:`${_}px`):g==="left"&&(j=`${i.floating.width+p}px`,b=u?x:`${_}px`),{data:{x:j,y:b}}}});function Ux(n){const[t,r="center"]=n.split("-");return[t,r]}var rc=Ix,Yi=Mx,sc=Lx,oc=Fx,OE="Portal",Uo=w.forwardRef((n,t)=>{const{container:r,...i}=n,[a,c]=w.useState(!1);Et(()=>c(!0),[]);const u=r||a&&globalThis?.document?.body;return u?JN.createPortal(o.jsx(Le.div,{...i,ref:t}),u):null});Uo.displayName=OE;function IE(n,t){return w.useReducer((r,i)=>t[r][i]??r,n)}var sn=n=>{const{present:t,children:r}=n,i=DE(t),a=typeof r=="function"?r({present:i.isPresent}):w.Children.only(r),c=Ve(i.ref,ME(a));return typeof r=="function"||i.isPresent?w.cloneElement(a,{ref:c}):null};sn.displayName="Presence";function DE(n){const[t,r]=w.useState(),i=w.useRef(null),a=w.useRef(n),c=w.useRef("none"),u=n?"mounted":"unmounted",[f,p]=IE(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const g=Sl(i.current);c.current=f==="mounted"?g:"none"},[f]),Et(()=>{const g=i.current,m=a.current;if(m!==n){const y=c.current,_=Sl(g);n?p("MOUNT"):_==="none"||g?.display==="none"?p("UNMOUNT"):p(m&&y!==_?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,p]),Et(()=>{if(t){let g;const m=t.ownerDocument.defaultView??window,x=_=>{const b=Sl(i.current).includes(CSS.escape(_.animationName));if(_.target===t&&b&&(p("ANIMATION_END"),!a.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",g=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},y=_=>{_.target===t&&(c.current=Sl(i.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{m.clearTimeout(g),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(g=>{i.current=g?getComputedStyle(g):null,r(g)},[])}}function Sl(n){return n?.animationName||"none"}function ME(n){let t=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?n.ref:(t=Object.getOwnPropertyDescriptor(n,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}var LE=Sv[" useInsertionEffect ".trim().toString()]||Et;function ar({prop:n,defaultProp:t,onChange:r=()=>{},caller:i}){const[a,c,u]=$E({defaultProp:t,onChange:r}),f=n!==void 0,p=f?n:a;{const m=w.useRef(n!==void 0);w.useEffect(()=>{const x=m.current;x!==f&&console.warn(`${i} is changing from ${x?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=f},[f,i])}const g=w.useCallback(m=>{if(f){const x=FE(m)?m(n):m;x!==n&&u.current?.(x)}else c(m)},[f,n,c,u]);return[p,g]}function $E({defaultProp:n,onChange:t}){const[r,i]=w.useState(n),a=w.useRef(r),c=w.useRef(t);return LE(()=>{c.current=t},[t]),w.useEffect(()=>{a.current!==r&&(c.current?.(r),a.current=r)},[r,a]),[r,i,c]}function FE(n){return typeof n=="function"}var UE=function(n){if(typeof document>"u")return null;var t=Array.isArray(n)?n[0]:n;return t.ownerDocument.body},mo=new WeakMap,Cl=new WeakMap,Nl={},Id=0,zx=function(n){return n&&(n.host||zx(n.parentNode))},zE=function(n,t){return t.map(function(r){if(n.contains(r))return r;var i=zx(r);return i&&n.contains(i)?i:(console.error("aria-hidden",r,"in not contained inside",n,". Doing nothing"),null)}).filter(function(r){return!!r})},BE=function(n,t,r,i){var a=zE(t,Array.isArray(n)?n:[n]);Nl[r]||(Nl[r]=new WeakMap);var c=Nl[r],u=[],f=new Set,p=new Set(a),g=function(x){!x||f.has(x)||(f.add(x),g(x.parentNode))};a.forEach(g);var m=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(y){if(f.has(y))m(y);else try{var _=y.getAttribute(i),j=_!==null&&_!=="false",b=(mo.get(y)||0)+1,C=(c.get(y)||0)+1;mo.set(y,b),c.set(y,C),u.push(y),b===1&&j&&Cl.set(y,!0),C===1&&y.setAttribute(r,"true"),j||y.setAttribute(i,"true")}catch(k){console.error("aria-hidden: cannot operate on ",y,k)}})};return m(t),f.clear(),Id++,function(){u.forEach(function(x){var y=mo.get(x)-1,_=c.get(x)-1;mo.set(x,y),c.set(x,_),y||(Cl.has(x)||x.removeAttribute(i),Cl.delete(x)),_||x.removeAttribute(r)}),Id--,Id||(mo=new WeakMap,mo=new WeakMap,Cl=new WeakMap,Nl={})}},ic=function(n,t,r){r===void 0&&(r="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=UE(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),BE(i,a,r,"aria-hidden")):function(){return null}},Un=function(){return Un=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},Un.apply(this,arguments)};function Bx(n,t){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(r[i[a]]=n[i[a]]);return r}function VE(n,t,r){if(r||arguments.length===2)for(var i=0,a=t.length,c;i<a;i++)(c||!(i in t))&&(c||(c=Array.prototype.slice.call(t,0,i)),c[i]=t[i]);return n.concat(c||Array.prototype.slice.call(t))}var Pl="right-scroll-bar-position",Al="width-before-scroll-bar",WE="with-scroll-bars-hidden",HE="--removed-body-scroll-bar-size";function Dd(n,t){return typeof n=="function"?n(t):n&&(n.current=t),n}function KE(n,t){var r=w.useState(function(){return{value:n,callback:t,facade:{get current(){return r.value},set current(i){var a=r.value;a!==i&&(r.value=i,r.callback(i,a))}}}})[0];return r.callback=t,r.facade}var qE=typeof window<"u"?w.useLayoutEffect:w.useEffect,dv=new WeakMap;function GE(n,t){var r=KE(null,function(i){return n.forEach(function(a){return Dd(a,i)})});return qE(function(){var i=dv.get(r);if(i){var a=new Set(i),c=new Set(n),u=r.current;a.forEach(function(f){c.has(f)||Dd(f,null)}),c.forEach(function(f){a.has(f)||Dd(f,u)})}dv.set(r,n)},[n]),r}function QE(n){return n}function JE(n,t){t===void 0&&(t=QE);var r=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:n},useMedium:function(c){var u=t(c,i);return r.push(u),function(){r=r.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(i=!0;r.length;){var u=r;r=[],u.forEach(c)}r={push:function(f){return c(f)},filter:function(){return r}}},assignMedium:function(c){i=!0;var u=[];if(r.length){var f=r;r=[],f.forEach(c),u=r}var p=function(){var m=u;u=[],m.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),r={push:function(m){u.push(m),g()},filter:function(m){return u=u.filter(m),r}}}};return a}function YE(n){n===void 0&&(n={});var t=JE(null);return t.options=Un({async:!0,ssr:!1},n),t}var Vx=function(n){var t=n.sideCar,r=Bx(n,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,Un({},r))};Vx.isSideCarExport=!0;function XE(n,t){return n.useMedium(t),Vx}var Wx=YE(),Md=function(){},ac=w.forwardRef(function(n,t){var r=w.useRef(null),i=w.useState({onScrollCapture:Md,onWheelCapture:Md,onTouchMoveCapture:Md}),a=i[0],c=i[1],u=n.forwardProps,f=n.children,p=n.className,g=n.removeScrollBar,m=n.enabled,x=n.shards,y=n.sideCar,_=n.noRelative,j=n.noIsolation,b=n.inert,C=n.allowPinchZoom,k=n.as,E=k===void 0?"div":k,R=n.gapMode,D=Bx(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),U=y,H=GE([r,t]),O=Un(Un({},D),a);return w.createElement(w.Fragment,null,m&&w.createElement(U,{sideCar:Wx,removeScrollBar:g,shards:x,noRelative:_,noIsolation:j,inert:b,setCallbacks:c,allowPinchZoom:!!C,lockRef:r,gapMode:R}),u?w.cloneElement(w.Children.only(f),Un(Un({},O),{ref:H})):w.createElement(E,Un({},O,{className:p,ref:H}),f))});ac.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ac.classNames={fullWidth:Al,zeroRight:Pl};var ZE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function e2(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var t=ZE();return t&&n.setAttribute("nonce",t),n}function t2(n,t){n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}function n2(n){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(n)}var r2=function(){var n=0,t=null;return{add:function(r){n==0&&(t=e2())&&(t2(t,r),n2(t)),n++},remove:function(){n--,!n&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},s2=function(){var n=r2();return function(t,r){w.useEffect(function(){return n.add(t),function(){n.remove()}},[t&&r])}},Hx=function(){var n=s2(),t=function(r){var i=r.styles,a=r.dynamic;return n(i,a),null};return t},o2={left:0,top:0,right:0,gap:0},Ld=function(n){return parseInt(n||"",10)||0},i2=function(n){var t=window.getComputedStyle(document.body),r=t[n==="padding"?"paddingLeft":"marginLeft"],i=t[n==="padding"?"paddingTop":"marginTop"],a=t[n==="padding"?"paddingRight":"marginRight"];return[Ld(r),Ld(i),Ld(a)]},a2=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return o2;var t=i2(n),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},l2=Hx(),So="data-scroll-locked",c2=function(n,t,r,i){var a=n.left,c=n.top,u=n.right,f=n.gap;return r===void 0&&(r="margin"),`
  .`.concat(WE,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(So,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pl,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Al,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Pl," .").concat(Pl,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Al," .").concat(Al,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(So,`] {
    `).concat(HE,": ").concat(f,`px;
  }
`)},fv=function(){var n=parseInt(document.body.getAttribute(So)||"0",10);return isFinite(n)?n:0},u2=function(){w.useEffect(function(){return document.body.setAttribute(So,(fv()+1).toString()),function(){var n=fv()-1;n<=0?document.body.removeAttribute(So):document.body.setAttribute(So,n.toString())}},[])},d2=function(n){var t=n.noRelative,r=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;u2();var c=w.useMemo(function(){return a2(a)},[a]);return w.createElement(l2,{styles:c2(c,!t,a,r?"":"!important")})},df=!1;if(typeof window<"u")try{var kl=Object.defineProperty({},"passive",{get:function(){return df=!0,!0}});window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{df=!1}var go=df?{passive:!1}:!1,f2=function(n){return n.tagName==="TEXTAREA"},Kx=function(n,t){if(!(n instanceof Element))return!1;var r=window.getComputedStyle(n);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!f2(n)&&r[t]==="visible")},h2=function(n){return Kx(n,"overflowY")},p2=function(n){return Kx(n,"overflowX")},hv=function(n,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=qx(n,i);if(a){var c=Gx(n,i),u=c[1],f=c[2];if(u>f)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},m2=function(n){var t=n.scrollTop,r=n.scrollHeight,i=n.clientHeight;return[t,r,i]},g2=function(n){var t=n.scrollLeft,r=n.scrollWidth,i=n.clientWidth;return[t,r,i]},qx=function(n,t){return n==="v"?h2(t):p2(t)},Gx=function(n,t){return n==="v"?m2(t):g2(t)},v2=function(n,t){return n==="h"&&t==="rtl"?-1:1},x2=function(n,t,r,i,a){var c=v2(n,window.getComputedStyle(t).direction),u=c*i,f=r.target,p=t.contains(f),g=!1,m=u>0,x=0,y=0;do{if(!f)break;var _=Gx(n,f),j=_[0],b=_[1],C=_[2],k=b-C-c*j;(j||k)&&qx(n,f)&&(x+=k,y+=j);var E=f.parentNode;f=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!p&&f!==document.body||p&&(t.contains(f)||t===f));return(m&&Math.abs(x)<1||!m&&Math.abs(y)<1)&&(g=!0),g},El=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},pv=function(n){return[n.deltaX,n.deltaY]},mv=function(n){return n&&"current"in n?n.current:n},y2=function(n,t){return n[0]===t[0]&&n[1]===t[1]},w2=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},b2=0,vo=[];function j2(n){var t=w.useRef([]),r=w.useRef([0,0]),i=w.useRef(),a=w.useState(b2++)[0],c=w.useState(Hx)[0],u=w.useRef(n);w.useEffect(function(){u.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var b=VE([n.lockRef.current],(n.shards||[]).map(mv),!0).filter(Boolean);return b.forEach(function(C){return C.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var f=w.useCallback(function(b,C){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var k=El(b),E=r.current,R="deltaX"in b?b.deltaX:E[0]-k[0],D="deltaY"in b?b.deltaY:E[1]-k[1],U,H=b.target,O=Math.abs(R)>Math.abs(D)?"h":"v";if("touches"in b&&O==="h"&&H.type==="range")return!1;var F=hv(O,H);if(!F)return!0;if(F?U=O:(U=O==="v"?"h":"v",F=hv(O,H)),!F)return!1;if(!i.current&&"changedTouches"in b&&(R||D)&&(i.current=U),!U)return!0;var re=i.current||U;return x2(re,C,b,re==="h"?R:D)},[]),p=w.useCallback(function(b){var C=b;if(!(!vo.length||vo[vo.length-1]!==c)){var k="deltaY"in C?pv(C):El(C),E=t.current.filter(function(U){return U.name===C.type&&(U.target===C.target||C.target===U.shadowParent)&&y2(U.delta,k)})[0];if(E&&E.should){C.cancelable&&C.preventDefault();return}if(!E){var R=(u.current.shards||[]).map(mv).filter(Boolean).filter(function(U){return U.contains(C.target)}),D=R.length>0?f(C,R[0]):!u.current.noIsolation;D&&C.cancelable&&C.preventDefault()}}},[]),g=w.useCallback(function(b,C,k,E){var R={name:b,delta:C,target:k,should:E,shadowParent:_2(k)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(D){return D!==R})},1)},[]),m=w.useCallback(function(b){r.current=El(b),i.current=void 0},[]),x=w.useCallback(function(b){g(b.type,pv(b),b.target,f(b,n.lockRef.current))},[]),y=w.useCallback(function(b){g(b.type,El(b),b.target,f(b,n.lockRef.current))},[]);w.useEffect(function(){return vo.push(c),n.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:y}),document.addEventListener("wheel",p,go),document.addEventListener("touchmove",p,go),document.addEventListener("touchstart",m,go),function(){vo=vo.filter(function(b){return b!==c}),document.removeEventListener("wheel",p,go),document.removeEventListener("touchmove",p,go),document.removeEventListener("touchstart",m,go)}},[]);var _=n.removeScrollBar,j=n.inert;return w.createElement(w.Fragment,null,j?w.createElement(c,{styles:w2(a)}):null,_?w.createElement(d2,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function _2(n){for(var t=null;n!==null;)n instanceof ShadowRoot&&(t=n.host,n=n.host),n=n.parentNode;return t}const S2=XE(Wx,j2);var Xi=w.forwardRef(function(n,t){return w.createElement(ac,Un({},n,{ref:t,sideCar:S2}))});Xi.classNames=ac.classNames;var lc="Popover",[Qx]=pn(lc,[Yr]),Zi=Yr(),[C2,Xr]=Qx(lc),Jx=n=>{const{__scopePopover:t,children:r,open:i,defaultOpen:a,onOpenChange:c,modal:u=!1}=n,f=Zi(t),p=w.useRef(null),[g,m]=w.useState(!1),[x,y]=ar({prop:i,defaultProp:a??!1,onChange:c,caller:lc});return o.jsx(rc,{...f,children:o.jsx(C2,{scope:t,contentId:fn(),triggerRef:p,open:x,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(_=>!_),[y]),hasCustomAnchor:g,onCustomAnchorAdd:w.useCallback(()=>m(!0),[]),onCustomAnchorRemove:w.useCallback(()=>m(!1),[]),modal:u,children:r})})};Jx.displayName=lc;var Yx="PopoverAnchor",N2=w.forwardRef((n,t)=>{const{__scopePopover:r,...i}=n,a=Xr(Yx,r),c=Zi(r),{onCustomAnchorAdd:u,onCustomAnchorRemove:f}=a;return w.useEffect(()=>(u(),()=>f()),[u,f]),o.jsx(Yi,{...c,...i,ref:t})});N2.displayName=Yx;var Xx="PopoverTrigger",Zx=w.forwardRef((n,t)=>{const{__scopePopover:r,...i}=n,a=Xr(Xx,r),c=Zi(r),u=Ve(t,a.triggerRef),f=o.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":sy(a.open),...i,ref:u,onClick:le(n.onClick,a.onOpenToggle)});return a.hasCustomAnchor?f:o.jsx(Yi,{asChild:!0,...c,children:f})});Zx.displayName=Xx;var Ff="PopoverPortal",[k2,E2]=Qx(Ff,{forceMount:void 0}),ey=n=>{const{__scopePopover:t,forceMount:r,children:i,container:a}=n,c=Xr(Ff,t);return o.jsx(k2,{scope:t,forceMount:r,children:o.jsx(sn,{present:r||c.open,children:o.jsx(Uo,{asChild:!0,container:a,children:i})})})};ey.displayName=Ff;var Po="PopoverContent",ty=w.forwardRef((n,t)=>{const r=E2(Po,n.__scopePopover),{forceMount:i=r.forceMount,...a}=n,c=Xr(Po,n.__scopePopover);return o.jsx(sn,{present:i||c.open,children:c.modal?o.jsx(R2,{...a,ref:t}):o.jsx(P2,{...a,ref:t})})});ty.displayName=Po;var T2=Lr("PopoverContent.RemoveScroll"),R2=w.forwardRef((n,t)=>{const r=Xr(Po,n.__scopePopover),i=w.useRef(null),a=Ve(t,i),c=w.useRef(!1);return w.useEffect(()=>{const u=i.current;if(u)return ic(u)},[]),o.jsx(Xi,{as:T2,allowPinchZoom:!0,children:o.jsx(ny,{...n,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(n.onCloseAutoFocus,u=>{u.preventDefault(),c.current||r.triggerRef.current?.focus()}),onPointerDownOutside:le(n.onPointerDownOutside,u=>{const f=u.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,g=f.button===2||p;c.current=g},{checkForDefaultPrevented:!1}),onFocusOutside:le(n.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),P2=w.forwardRef((n,t)=>{const r=Xr(Po,n.__scopePopover),i=w.useRef(!1),a=w.useRef(!1);return o.jsx(ny,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{n.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||r.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:c=>{n.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=c.target;r.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&a.current&&c.preventDefault()}})}),ny=w.forwardRef((n,t)=>{const{__scopePopover:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:m,...x}=n,y=Xr(Po,r),_=Zi(r);return Xl(),o.jsx(Qi,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:c,children:o.jsx(Lo,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:m,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onDismiss:()=>y.onOpenChange(!1),children:o.jsx(sc,{"data-state":sy(y.open),role:"dialog",id:y.contentId,..._,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ry="PopoverClose",A2=w.forwardRef((n,t)=>{const{__scopePopover:r,...i}=n,a=Xr(ry,r);return o.jsx(Le.button,{type:"button",...i,ref:t,onClick:le(n.onClick,()=>a.onOpenChange(!1))})});A2.displayName=ry;var O2="PopoverArrow",I2=w.forwardRef((n,t)=>{const{__scopePopover:r,...i}=n,a=Zi(r);return o.jsx(oc,{...a,...i,ref:t})});I2.displayName=O2;function sy(n){return n?"open":"closed"}var D2=Jx,M2=Zx,L2=ey,$2=ty;function F2({...n}){return o.jsx(D2,{"data-slot":"popover",...n})}function U2({...n}){return o.jsx(M2,{"data-slot":"popover-trigger",...n})}function z2({className:n,align:t="center",sideOffset:r=4,...i}){return o.jsx(L2,{children:o.jsx($2,{"data-slot":"popover-content",align:t,sideOffset:r,className:De("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",n),...i})})}function Uf(n){const t=n+"CollectionProvider",[r,i]=pn(t),[a,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:C,children:k}=b,E=Fn.useRef(null),R=Fn.useRef(new Map).current;return o.jsx(a,{scope:C,itemMap:R,collectionRef:E,children:k})};u.displayName=t;const f=n+"CollectionSlot",p=Lr(f),g=Fn.forwardRef((b,C)=>{const{scope:k,children:E}=b,R=c(f,k),D=Ve(C,R.collectionRef);return o.jsx(p,{ref:D,children:E})});g.displayName=f;const m=n+"CollectionItemSlot",x="data-radix-collection-item",y=Lr(m),_=Fn.forwardRef((b,C)=>{const{scope:k,children:E,...R}=b,D=Fn.useRef(null),U=Ve(C,D),H=c(m,k);return Fn.useEffect(()=>(H.itemMap.set(D,{ref:D,...R}),()=>void H.itemMap.delete(D))),o.jsx(y,{[x]:"",ref:U,children:E})});_.displayName=m;function j(b){const C=c(n+"CollectionConsumer",b);return Fn.useCallback(()=>{const E=C.collectionRef.current;if(!E)return[];const R=Array.from(E.querySelectorAll(`[${x}]`));return Array.from(C.itemMap.values()).sort((H,O)=>R.indexOf(H.ref.current)-R.indexOf(O.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:u,Slot:g,ItemSlot:_},j,i]}var B2=w.createContext(void 0);function cc(n){const t=w.useContext(B2);return n||t||"ltr"}var $d="rovingFocusGroup.onEntryFocus",V2={bubbles:!1,cancelable:!0},ea="RovingFocusGroup",[ff,oy,W2]=Uf(ea),[H2,uc]=pn(ea,[W2]),[K2,q2]=H2(ea),iy=w.forwardRef((n,t)=>o.jsx(ff.Provider,{scope:n.__scopeRovingFocusGroup,children:o.jsx(ff.Slot,{scope:n.__scopeRovingFocusGroup,children:o.jsx(G2,{...n,ref:t})})}));iy.displayName=ea;var G2=w.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:r,orientation:i,loop:a=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:m=!1,...x}=n,y=w.useRef(null),_=Ve(t,y),j=cc(c),[b,C]=ar({prop:u,defaultProp:f??null,onChange:p,caller:ea}),[k,E]=w.useState(!1),R=Vn(g),D=oy(r),U=w.useRef(!1),[H,O]=w.useState(0);return w.useEffect(()=>{const F=y.current;if(F)return F.addEventListener($d,R),()=>F.removeEventListener($d,R)},[R]),o.jsx(K2,{scope:r,orientation:i,dir:j,loop:a,currentTabStopId:b,onItemFocus:w.useCallback(F=>C(F),[C]),onItemShiftTab:w.useCallback(()=>E(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(F=>F+1),[]),onFocusableItemRemove:w.useCallback(()=>O(F=>F-1),[]),children:o.jsx(Le.div,{tabIndex:k||H===0?-1:0,"data-orientation":i,...x,ref:_,style:{outline:"none",...n.style},onMouseDown:le(n.onMouseDown,()=>{U.current=!0}),onFocus:le(n.onFocus,F=>{const re=!U.current;if(F.target===F.currentTarget&&re&&!k){const Q=new CustomEvent($d,V2);if(F.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const se=D().filter(J=>J.focusable),oe=se.find(J=>J.active),fe=se.find(J=>J.id===b),q=[oe,fe,...se].filter(Boolean).map(J=>J.ref.current);cy(q,m)}}U.current=!1}),onBlur:le(n.onBlur,()=>E(!1))})})}),ay="RovingFocusGroupItem",ly=w.forwardRef((n,t)=>{const{__scopeRovingFocusGroup:r,focusable:i=!0,active:a=!1,tabStopId:c,children:u,...f}=n,p=fn(),g=c||p,m=q2(ay,r),x=m.currentTabStopId===g,y=oy(r),{onFocusableItemAdd:_,onFocusableItemRemove:j,currentTabStopId:b}=m;return w.useEffect(()=>{if(i)return _(),()=>j()},[i,_,j]),o.jsx(ff.ItemSlot,{scope:r,id:g,focusable:i,active:a,children:o.jsx(Le.span,{tabIndex:x?0:-1,"data-orientation":m.orientation,...f,ref:t,onMouseDown:le(n.onMouseDown,C=>{i?m.onItemFocus(g):C.preventDefault()}),onFocus:le(n.onFocus,()=>m.onItemFocus(g)),onKeyDown:le(n.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const k=Y2(C,m.orientation,m.dir);if(k!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let R=y().filter(D=>D.focusable).map(D=>D.ref.current);if(k==="last")R.reverse();else if(k==="prev"||k==="next"){k==="prev"&&R.reverse();const D=R.indexOf(C.currentTarget);R=m.loop?X2(R,D+1):R.slice(D+1)}setTimeout(()=>cy(R))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:b!=null}):u})})});ly.displayName=ay;var Q2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function J2(n,t){return t!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Y2(n,t,r){const i=J2(n.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return Q2[i]}function cy(n,t=!1){const r=document.activeElement;for(const i of n)if(i===r||(i.focus({preventScroll:t}),document.activeElement!==r))return}function X2(n,t){return n.map((r,i)=>n[(t+i)%n.length])}var uy=iy,dy=ly,hf=["Enter"," "],Z2=["ArrowDown","PageUp","Home"],fy=["ArrowUp","PageDown","End"],eT=[...Z2,...fy],tT={ltr:[...hf,"ArrowRight"],rtl:[...hf,"ArrowLeft"]},nT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ta="Menu",[Vi,rT,sT]=Uf(ta),[Rs,hy]=pn(ta,[sT,Yr,uc]),dc=Yr(),py=uc(),[oT,Ps]=Rs(ta),[iT,na]=Rs(ta),my=n=>{const{__scopeMenu:t,open:r=!1,children:i,dir:a,onOpenChange:c,modal:u=!0}=n,f=dc(t),[p,g]=w.useState(null),m=w.useRef(!1),x=Vn(c),y=cc(a);return w.useEffect(()=>{const _=()=>{m.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>m.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),o.jsx(rc,{...f,children:o.jsx(oT,{scope:t,open:r,onOpenChange:x,content:p,onContentChange:g,children:o.jsx(iT,{scope:t,onClose:w.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:m,dir:y,modal:u,children:i})})})};my.displayName=ta;var aT="MenuAnchor",zf=w.forwardRef((n,t)=>{const{__scopeMenu:r,...i}=n,a=dc(r);return o.jsx(Yi,{...a,...i,ref:t})});zf.displayName=aT;var Bf="MenuPortal",[lT,gy]=Rs(Bf,{forceMount:void 0}),vy=n=>{const{__scopeMenu:t,forceMount:r,children:i,container:a}=n,c=Ps(Bf,t);return o.jsx(lT,{scope:t,forceMount:r,children:o.jsx(sn,{present:r||c.open,children:o.jsx(Uo,{asChild:!0,container:a,children:i})})})};vy.displayName=Bf;var hn="MenuContent",[cT,Vf]=Rs(hn),xy=w.forwardRef((n,t)=>{const r=gy(hn,n.__scopeMenu),{forceMount:i=r.forceMount,...a}=n,c=Ps(hn,n.__scopeMenu),u=na(hn,n.__scopeMenu);return o.jsx(Vi.Provider,{scope:n.__scopeMenu,children:o.jsx(sn,{present:i||c.open,children:o.jsx(Vi.Slot,{scope:n.__scopeMenu,children:u.modal?o.jsx(uT,{...a,ref:t}):o.jsx(dT,{...a,ref:t})})})})}),uT=w.forwardRef((n,t)=>{const r=Ps(hn,n.__scopeMenu),i=w.useRef(null),a=Ve(t,i);return w.useEffect(()=>{const c=i.current;if(c)return ic(c)},[]),o.jsx(Wf,{...n,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:le(n.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),dT=w.forwardRef((n,t)=>{const r=Ps(hn,n.__scopeMenu);return o.jsx(Wf,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),fT=Lr("MenuContent.ScrollLock"),Wf=w.forwardRef((n,t)=>{const{__scopeMenu:r,loop:i=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:p,onEscapeKeyDown:g,onPointerDownOutside:m,onFocusOutside:x,onInteractOutside:y,onDismiss:_,disableOutsideScroll:j,...b}=n,C=Ps(hn,r),k=na(hn,r),E=dc(r),R=py(r),D=rT(r),[U,H]=w.useState(null),O=w.useRef(null),F=Ve(t,O,C.onContentChange),re=w.useRef(0),Q=w.useRef(""),se=w.useRef(0),oe=w.useRef(null),fe=w.useRef("right"),ae=w.useRef(0),q=j?Xi:w.Fragment,J=j?{as:fT,allowPinchZoom:!0}:void 0,ne=z=>{const K=Q.current+z,A=D().filter(G=>!G.disabled),W=document.activeElement,ce=A.find(G=>G.ref.current===W)?.textValue,ue=A.map(G=>G.textValue),Oe=ST(ue,K,ce),Ce=A.find(G=>G.textValue===Oe)?.ref.current;(function G(he){Q.current=he,window.clearTimeout(re.current),he!==""&&(re.current=window.setTimeout(()=>G(""),1e3))})(K),Ce&&setTimeout(()=>Ce.focus())};w.useEffect(()=>()=>window.clearTimeout(re.current),[]),Xl();const N=w.useCallback(z=>fe.current===oe.current?.side&&NT(z,oe.current?.area),[]);return o.jsx(cT,{scope:r,searchRef:Q,onItemEnter:w.useCallback(z=>{N(z)&&z.preventDefault()},[N]),onItemLeave:w.useCallback(z=>{N(z)||(O.current?.focus(),H(null))},[N]),onTriggerLeave:w.useCallback(z=>{N(z)&&z.preventDefault()},[N]),pointerGraceTimerRef:se,onPointerGraceIntentChange:w.useCallback(z=>{oe.current=z},[]),children:o.jsx(q,{...J,children:o.jsx(Qi,{asChild:!0,trapped:a,onMountAutoFocus:le(c,z=>{z.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:o.jsx(Lo,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:g,onPointerDownOutside:m,onFocusOutside:x,onInteractOutside:y,onDismiss:_,children:o.jsx(uy,{asChild:!0,...R,dir:k.dir,orientation:"vertical",loop:i,currentTabStopId:U,onCurrentTabStopIdChange:H,onEntryFocus:le(p,z=>{k.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(sc,{role:"menu","aria-orientation":"vertical","data-state":Iy(C.open),"data-radix-menu-content":"",dir:k.dir,...E,...b,ref:F,style:{outline:"none",...b.style},onKeyDown:le(b.onKeyDown,z=>{const A=z.target.closest("[data-radix-menu-content]")===z.currentTarget,W=z.ctrlKey||z.altKey||z.metaKey,ce=z.key.length===1;A&&(z.key==="Tab"&&z.preventDefault(),!W&&ce&&ne(z.key));const ue=O.current;if(z.target!==ue||!eT.includes(z.key))return;z.preventDefault();const Ce=D().filter(G=>!G.disabled).map(G=>G.ref.current);fy.includes(z.key)&&Ce.reverse(),jT(Ce)}),onBlur:le(n.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(re.current),Q.current="")}),onPointerMove:le(n.onPointerMove,Wi(z=>{const K=z.target,A=ae.current!==z.clientX;if(z.currentTarget.contains(K)&&A){const W=z.clientX>ae.current?"right":"left";fe.current=W,ae.current=z.clientX}}))})})})})})})});xy.displayName=hn;var hT="MenuGroup",Hf=w.forwardRef((n,t)=>{const{__scopeMenu:r,...i}=n;return o.jsx(Le.div,{role:"group",...i,ref:t})});Hf.displayName=hT;var pT="MenuLabel",yy=w.forwardRef((n,t)=>{const{__scopeMenu:r,...i}=n;return o.jsx(Le.div,{...i,ref:t})});yy.displayName=pT;var Hl="MenuItem",gv="menu.itemSelect",fc=w.forwardRef((n,t)=>{const{disabled:r=!1,onSelect:i,...a}=n,c=w.useRef(null),u=na(Hl,n.__scopeMenu),f=Vf(Hl,n.__scopeMenu),p=Ve(t,c),g=w.useRef(!1),m=()=>{const x=c.current;if(!r&&x){const y=new CustomEvent(gv,{bubbles:!0,cancelable:!0});x.addEventListener(gv,_=>i?.(_),{once:!0}),mx(x,y),y.defaultPrevented?g.current=!1:u.onClose()}};return o.jsx(wy,{...a,ref:p,disabled:r,onClick:le(n.onClick,m),onPointerDown:x=>{n.onPointerDown?.(x),g.current=!0},onPointerUp:le(n.onPointerUp,x=>{g.current||x.currentTarget?.click()}),onKeyDown:le(n.onKeyDown,x=>{const y=f.searchRef.current!=="";r||y&&x.key===" "||hf.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});fc.displayName=Hl;var wy=w.forwardRef((n,t)=>{const{__scopeMenu:r,disabled:i=!1,textValue:a,...c}=n,u=Vf(Hl,r),f=py(r),p=w.useRef(null),g=Ve(t,p),[m,x]=w.useState(!1),[y,_]=w.useState("");return w.useEffect(()=>{const j=p.current;j&&_((j.textContent??"").trim())},[c.children]),o.jsx(Vi.ItemSlot,{scope:r,disabled:i,textValue:a??y,children:o.jsx(dy,{asChild:!0,...f,focusable:!i,children:o.jsx(Le.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...c,ref:g,onPointerMove:le(n.onPointerMove,Wi(j=>{i?u.onItemLeave(j):(u.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:le(n.onPointerLeave,Wi(j=>u.onItemLeave(j))),onFocus:le(n.onFocus,()=>x(!0)),onBlur:le(n.onBlur,()=>x(!1))})})})}),mT="MenuCheckboxItem",by=w.forwardRef((n,t)=>{const{checked:r=!1,onCheckedChange:i,...a}=n;return o.jsx(Ny,{scope:n.__scopeMenu,checked:r,children:o.jsx(fc,{role:"menuitemcheckbox","aria-checked":Kl(r)?"mixed":r,...a,ref:t,"data-state":qf(r),onSelect:le(a.onSelect,()=>i?.(Kl(r)?!0:!r),{checkForDefaultPrevented:!1})})})});by.displayName=mT;var jy="MenuRadioGroup",[gT,vT]=Rs(jy,{value:void 0,onValueChange:()=>{}}),_y=w.forwardRef((n,t)=>{const{value:r,onValueChange:i,...a}=n,c=Vn(i);return o.jsx(gT,{scope:n.__scopeMenu,value:r,onValueChange:c,children:o.jsx(Hf,{...a,ref:t})})});_y.displayName=jy;var Sy="MenuRadioItem",Cy=w.forwardRef((n,t)=>{const{value:r,...i}=n,a=vT(Sy,n.__scopeMenu),c=r===a.value;return o.jsx(Ny,{scope:n.__scopeMenu,checked:c,children:o.jsx(fc,{role:"menuitemradio","aria-checked":c,...i,ref:t,"data-state":qf(c),onSelect:le(i.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Cy.displayName=Sy;var Kf="MenuItemIndicator",[Ny,xT]=Rs(Kf,{checked:!1}),ky=w.forwardRef((n,t)=>{const{__scopeMenu:r,forceMount:i,...a}=n,c=xT(Kf,r);return o.jsx(sn,{present:i||Kl(c.checked)||c.checked===!0,children:o.jsx(Le.span,{...a,ref:t,"data-state":qf(c.checked)})})});ky.displayName=Kf;var yT="MenuSeparator",Ey=w.forwardRef((n,t)=>{const{__scopeMenu:r,...i}=n;return o.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...i,ref:t})});Ey.displayName=yT;var wT="MenuArrow",Ty=w.forwardRef((n,t)=>{const{__scopeMenu:r,...i}=n,a=dc(r);return o.jsx(oc,{...a,...i,ref:t})});Ty.displayName=wT;var bT="MenuSub",[QA,Ry]=Rs(bT),Pi="MenuSubTrigger",Py=w.forwardRef((n,t)=>{const r=Ps(Pi,n.__scopeMenu),i=na(Pi,n.__scopeMenu),a=Ry(Pi,n.__scopeMenu),c=Vf(Pi,n.__scopeMenu),u=w.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:p}=c,g={__scopeMenu:n.__scopeMenu},m=w.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const x=f.current;return()=>{window.clearTimeout(x),p(null)}},[f,p]),o.jsx(zf,{asChild:!0,...g,children:o.jsx(wy,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Iy(r.open),...n,ref:Jl(t,a.onTriggerChange),onClick:x=>{n.onClick?.(x),!(n.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:le(n.onPointerMove,Wi(x=>{c.onItemEnter(x),!x.defaultPrevented&&!n.disabled&&!r.open&&!u.current&&(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:le(n.onPointerLeave,Wi(x=>{m();const y=r.content?.getBoundingClientRect();if(y){const _=r.content?.dataset.side,j=_==="right",b=j?-5:5,C=y[j?"left":"right"],k=y[j?"right":"left"];c.onPointerGraceIntentChange({area:[{x:x.clientX+b,y:x.clientY},{x:C,y:y.top},{x:k,y:y.top},{x:k,y:y.bottom},{x:C,y:y.bottom}],side:_}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(x),x.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:le(n.onKeyDown,x=>{const y=c.searchRef.current!=="";n.disabled||y&&x.key===" "||tT[i.dir].includes(x.key)&&(r.onOpenChange(!0),r.content?.focus(),x.preventDefault())})})})});Py.displayName=Pi;var Ay="MenuSubContent",Oy=w.forwardRef((n,t)=>{const r=gy(hn,n.__scopeMenu),{forceMount:i=r.forceMount,...a}=n,c=Ps(hn,n.__scopeMenu),u=na(hn,n.__scopeMenu),f=Ry(Ay,n.__scopeMenu),p=w.useRef(null),g=Ve(t,p);return o.jsx(Vi.Provider,{scope:n.__scopeMenu,children:o.jsx(sn,{present:i||c.open,children:o.jsx(Vi.Slot,{scope:n.__scopeMenu,children:o.jsx(Wf,{id:f.contentId,"aria-labelledby":f.triggerId,...a,ref:g,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{u.isUsingKeyboardRef.current&&p.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:le(n.onFocusOutside,m=>{m.target!==f.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:le(n.onEscapeKeyDown,m=>{u.onClose(),m.preventDefault()}),onKeyDown:le(n.onKeyDown,m=>{const x=m.currentTarget.contains(m.target),y=nT[u.dir].includes(m.key);x&&y&&(c.onOpenChange(!1),f.trigger?.focus(),m.preventDefault())})})})})})});Oy.displayName=Ay;function Iy(n){return n?"open":"closed"}function Kl(n){return n==="indeterminate"}function qf(n){return Kl(n)?"indeterminate":n?"checked":"unchecked"}function jT(n){const t=document.activeElement;for(const r of n)if(r===t||(r.focus(),document.activeElement!==t))return}function _T(n,t){return n.map((r,i)=>n[(t+i)%n.length])}function ST(n,t,r){const a=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,c=r?n.indexOf(r):-1;let u=_T(n,Math.max(c,0));a.length===1&&(u=u.filter(g=>g!==r));const p=u.find(g=>g.toLowerCase().startsWith(a.toLowerCase()));return p!==r?p:void 0}function CT(n,t){const{x:r,y:i}=n;let a=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const f=t[c],p=t[u],g=f.x,m=f.y,x=p.x,y=p.y;m>i!=y>i&&r<(x-g)*(i-m)/(y-m)+g&&(a=!a)}return a}function NT(n,t){if(!t)return!1;const r={x:n.clientX,y:n.clientY};return CT(r,t)}function Wi(n){return t=>t.pointerType==="mouse"?n(t):void 0}var kT=my,ET=zf,TT=vy,RT=xy,PT=Hf,AT=yy,OT=fc,IT=by,DT=_y,MT=Cy,LT=ky,$T=Ey,FT=Ty,UT=Py,zT=Oy,hc="DropdownMenu",[BT]=pn(hc,[hy]),Mt=hy(),[VT,Dy]=BT(hc),My=n=>{const{__scopeDropdownMenu:t,children:r,dir:i,open:a,defaultOpen:c,onOpenChange:u,modal:f=!0}=n,p=Mt(t),g=w.useRef(null),[m,x]=ar({prop:a,defaultProp:c??!1,onChange:u,caller:hc});return o.jsx(VT,{scope:t,triggerId:fn(),triggerRef:g,contentId:fn(),open:m,onOpenChange:x,onOpenToggle:w.useCallback(()=>x(y=>!y),[x]),modal:f,children:o.jsx(kT,{...p,open:m,onOpenChange:x,dir:i,modal:f,children:r})})};My.displayName=hc;var Ly="DropdownMenuTrigger",$y=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,disabled:i=!1,...a}=n,c=Dy(Ly,r),u=Mt(r);return o.jsx(ET,{asChild:!0,...u,children:o.jsx(Le.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...a,ref:Jl(t,c.triggerRef),onPointerDown:le(n.onPointerDown,f=>{!i&&f.button===0&&f.ctrlKey===!1&&(c.onOpenToggle(),c.open||f.preventDefault())}),onKeyDown:le(n.onKeyDown,f=>{i||(["Enter"," "].includes(f.key)&&c.onOpenToggle(),f.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});$y.displayName=Ly;var WT="DropdownMenuPortal",Fy=n=>{const{__scopeDropdownMenu:t,...r}=n,i=Mt(t);return o.jsx(TT,{...i,...r})};Fy.displayName=WT;var Uy="DropdownMenuContent",zy=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Dy(Uy,r),c=Mt(r),u=w.useRef(!1);return o.jsx(RT,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...i,ref:t,onCloseAutoFocus:le(n.onCloseAutoFocus,f=>{u.current||a.triggerRef.current?.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:le(n.onInteractOutside,f=>{const p=f.detail.originalEvent,g=p.button===0&&p.ctrlKey===!0,m=p.button===2||g;(!a.modal||m)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zy.displayName=Uy;var HT="DropdownMenuGroup",KT=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx(PT,{...a,...i,ref:t})});KT.displayName=HT;var qT="DropdownMenuLabel",By=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx(AT,{...a,...i,ref:t})});By.displayName=qT;var GT="DropdownMenuItem",Vy=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx(OT,{...a,...i,ref:t})});Vy.displayName=GT;var QT="DropdownMenuCheckboxItem",JT=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx(IT,{...a,...i,ref:t})});JT.displayName=QT;var YT="DropdownMenuRadioGroup",XT=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx(DT,{...a,...i,ref:t})});XT.displayName=YT;var ZT="DropdownMenuRadioItem",eR=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx(MT,{...a,...i,ref:t})});eR.displayName=ZT;var tR="DropdownMenuItemIndicator",nR=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx(LT,{...a,...i,ref:t})});nR.displayName=tR;var rR="DropdownMenuSeparator",Wy=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx($T,{...a,...i,ref:t})});Wy.displayName=rR;var sR="DropdownMenuArrow",oR=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx(FT,{...a,...i,ref:t})});oR.displayName=sR;var iR="DropdownMenuSubTrigger",aR=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx(UT,{...a,...i,ref:t})});aR.displayName=iR;var lR="DropdownMenuSubContent",cR=w.forwardRef((n,t)=>{const{__scopeDropdownMenu:r,...i}=n,a=Mt(r);return o.jsx(zT,{...a,...i,ref:t,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cR.displayName=lR;var uR=My,dR=$y,fR=Fy,hR=zy,pR=By,mR=Vy,gR=Wy;function vR({...n}){return o.jsx(uR,{"data-slot":"dropdown-menu",...n})}function xR({...n}){return o.jsx(dR,{"data-slot":"dropdown-menu-trigger",...n})}function yR({className:n,sideOffset:t=4,...r}){return o.jsx(fR,{children:o.jsx(hR,{"data-slot":"dropdown-menu-content",sideOffset:t,className:De("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...r})})}function Ti({className:n,inset:t,variant:r="default",...i}){return o.jsx(mR,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:De("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i})}function wR({className:n,inset:t,...r}){return o.jsx(pR,{"data-slot":"dropdown-menu-label","data-inset":t,className:De("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",n),...r})}function vv({className:n,...t}){return o.jsx(gR,{"data-slot":"dropdown-menu-separator",className:De("bg-border -mx-1 my-1 h-px",n),...t})}var Hy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bR="VisuallyHidden",Ky=w.forwardRef((n,t)=>o.jsx(Le.span,{...n,ref:t,style:{...Hy,...n.style}}));Ky.displayName=bR;var jR=Ky,[pc]=pn("Tooltip",[Yr]),mc=Yr(),qy="TooltipProvider",_R=700,pf="tooltip.open",[SR,Gf]=pc(qy),Gy=n=>{const{__scopeTooltip:t,delayDuration:r=_R,skipDelayDuration:i=300,disableHoverableContent:a=!1,children:c}=n,u=w.useRef(!0),f=w.useRef(!1),p=w.useRef(0);return w.useEffect(()=>{const g=p.current;return()=>window.clearTimeout(g)},[]),o.jsx(SR,{scope:t,isOpenDelayedRef:u,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(p.current),u.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u.current=!0,i)},[i]),isPointerInTransitRef:f,onPointerInTransitChange:w.useCallback(g=>{f.current=g},[]),disableHoverableContent:a,children:c})};Gy.displayName=qy;var Hi="Tooltip",[CR,ra]=pc(Hi),Qy=n=>{const{__scopeTooltip:t,children:r,open:i,defaultOpen:a,onOpenChange:c,disableHoverableContent:u,delayDuration:f}=n,p=Gf(Hi,n.__scopeTooltip),g=mc(t),[m,x]=w.useState(null),y=fn(),_=w.useRef(0),j=u??p.disableHoverableContent,b=f??p.delayDuration,C=w.useRef(!1),[k,E]=ar({prop:i,defaultProp:a??!1,onChange:O=>{O?(p.onOpen(),document.dispatchEvent(new CustomEvent(pf))):p.onClose(),c?.(O)},caller:Hi}),R=w.useMemo(()=>k?C.current?"delayed-open":"instant-open":"closed",[k]),D=w.useCallback(()=>{window.clearTimeout(_.current),_.current=0,C.current=!1,E(!0)},[E]),U=w.useCallback(()=>{window.clearTimeout(_.current),_.current=0,E(!1)},[E]),H=w.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{C.current=!0,E(!0),_.current=0},b)},[b,E]);return w.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),o.jsx(rc,{...g,children:o.jsx(CR,{scope:t,contentId:y,open:k,stateAttribute:R,trigger:m,onTriggerChange:x,onTriggerEnter:w.useCallback(()=>{p.isOpenDelayedRef.current?H():D()},[p.isOpenDelayedRef,H,D]),onTriggerLeave:w.useCallback(()=>{j?U():(window.clearTimeout(_.current),_.current=0)},[U,j]),onOpen:D,onClose:U,disableHoverableContent:j,children:r})})};Qy.displayName=Hi;var mf="TooltipTrigger",Jy=w.forwardRef((n,t)=>{const{__scopeTooltip:r,...i}=n,a=ra(mf,r),c=Gf(mf,r),u=mc(r),f=w.useRef(null),p=Ve(t,f,a.onTriggerChange),g=w.useRef(!1),m=w.useRef(!1),x=w.useCallback(()=>g.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),o.jsx(Yi,{asChild:!0,...u,children:o.jsx(Le.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...i,ref:p,onPointerMove:le(n.onPointerMove,y=>{y.pointerType!=="touch"&&!m.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:le(n.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:le(n.onPointerDown,()=>{a.open&&a.onClose(),g.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:le(n.onFocus,()=>{g.current||a.onOpen()}),onBlur:le(n.onBlur,a.onClose),onClick:le(n.onClick,a.onClose)})})});Jy.displayName=mf;var Qf="TooltipPortal",[NR,kR]=pc(Qf,{forceMount:void 0}),Yy=n=>{const{__scopeTooltip:t,forceMount:r,children:i,container:a}=n,c=ra(Qf,t);return o.jsx(NR,{scope:t,forceMount:r,children:o.jsx(sn,{present:r||c.open,children:o.jsx(Uo,{asChild:!0,container:a,children:i})})})};Yy.displayName=Qf;var Ao="TooltipContent",Xy=w.forwardRef((n,t)=>{const r=kR(Ao,n.__scopeTooltip),{forceMount:i=r.forceMount,side:a="top",...c}=n,u=ra(Ao,n.__scopeTooltip);return o.jsx(sn,{present:i||u.open,children:u.disableHoverableContent?o.jsx(Zy,{side:a,...c,ref:t}):o.jsx(ER,{side:a,...c,ref:t})})}),ER=w.forwardRef((n,t)=>{const r=ra(Ao,n.__scopeTooltip),i=Gf(Ao,n.__scopeTooltip),a=w.useRef(null),c=Ve(t,a),[u,f]=w.useState(null),{trigger:p,onClose:g}=r,m=a.current,{onPointerInTransitChange:x}=i,y=w.useCallback(()=>{f(null),x(!1)},[x]),_=w.useCallback((j,b)=>{const C=j.currentTarget,k={x:j.clientX,y:j.clientY},E=AR(k,C.getBoundingClientRect()),R=OR(k,E),D=IR(b.getBoundingClientRect()),U=MR([...R,...D]);f(U),x(!0)},[x]);return w.useEffect(()=>()=>y(),[y]),w.useEffect(()=>{if(p&&m){const j=C=>_(C,m),b=C=>_(C,p);return p.addEventListener("pointerleave",j),m.addEventListener("pointerleave",b),()=>{p.removeEventListener("pointerleave",j),m.removeEventListener("pointerleave",b)}}},[p,m,_,y]),w.useEffect(()=>{if(u){const j=b=>{const C=b.target,k={x:b.clientX,y:b.clientY},E=p?.contains(C)||m?.contains(C),R=!DR(k,u);E?y():R&&(y(),g())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[p,m,u,g,y]),o.jsx(Zy,{...n,ref:c})}),[TR,RR]=pc(Hi,{isInside:!1}),PR=ux("TooltipContent"),Zy=w.forwardRef((n,t)=>{const{__scopeTooltip:r,children:i,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=n,p=ra(Ao,r),g=mc(r),{onClose:m}=p;return w.useEffect(()=>(document.addEventListener(pf,m),()=>document.removeEventListener(pf,m)),[m]),w.useEffect(()=>{if(p.trigger){const x=y=>{y.target?.contains(p.trigger)&&m()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[p.trigger,m]),o.jsx(Lo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:x=>x.preventDefault(),onDismiss:m,children:o.jsxs(sc,{"data-state":p.stateAttribute,...g,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(PR,{children:i}),o.jsx(TR,{scope:r,isInside:!0,children:o.jsx(jR,{id:p.contentId,role:"tooltip",children:a||i})})]})})});Xy.displayName=Ao;var ew="TooltipArrow",tw=w.forwardRef((n,t)=>{const{__scopeTooltip:r,...i}=n,a=mc(r);return RR(ew,r).isInside?null:o.jsx(oc,{...a,...i,ref:t})});tw.displayName=ew;function AR(n,t){const r=Math.abs(t.top-n.y),i=Math.abs(t.bottom-n.y),a=Math.abs(t.right-n.x),c=Math.abs(t.left-n.x);switch(Math.min(r,i,a,c)){case c:return"left";case a:return"right";case r:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function OR(n,t,r=5){const i=[];switch(t){case"top":i.push({x:n.x-r,y:n.y+r},{x:n.x+r,y:n.y+r});break;case"bottom":i.push({x:n.x-r,y:n.y-r},{x:n.x+r,y:n.y-r});break;case"left":i.push({x:n.x+r,y:n.y-r},{x:n.x+r,y:n.y+r});break;case"right":i.push({x:n.x-r,y:n.y-r},{x:n.x-r,y:n.y+r});break}return i}function IR(n){const{top:t,right:r,bottom:i,left:a}=n;return[{x:a,y:t},{x:r,y:t},{x:r,y:i},{x:a,y:i}]}function DR(n,t){const{x:r,y:i}=n;let a=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const f=t[c],p=t[u],g=f.x,m=f.y,x=p.x,y=p.y;m>i!=y>i&&r<(x-g)*(i-m)/(y-m)+g&&(a=!a)}return a}function MR(n){const t=n.slice();return t.sort((r,i)=>r.x<i.x?-1:r.x>i.x?1:r.y<i.y?-1:r.y>i.y?1:0),LR(t)}function LR(n){if(n.length<=1)return n.slice();const t=[];for(let i=0;i<n.length;i++){const a=n[i];for(;t.length>=2;){const c=t[t.length-1],u=t[t.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let i=n.length-1;i>=0;i--){const a=n[i];for(;r.length>=2;){const c=r[r.length-1],u=r[r.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var $R=Gy,FR=Qy,UR=Jy,zR=Yy,BR=Xy,VR=tw;function nw({delayDuration:n=0,...t}){return o.jsx($R,{"data-slot":"tooltip-provider",delayDuration:n,...t})}function WR({...n}){return o.jsx(nw,{children:o.jsx(FR,{"data-slot":"tooltip",...n})})}function HR({...n}){return o.jsx(UR,{"data-slot":"tooltip-trigger",...n})}function KR({className:n,sideOffset:t=0,children:r,...i}){return o.jsx(zR,{children:o.jsxs(BR,{"data-slot":"tooltip-content",sideOffset:t,className:De("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...i,children:[r,o.jsx(VR,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function Fe({className:n,type:t,...r}){return o.jsx("input",{type:t,"data-slot":"input",className:De("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...r})}var qR="Label",rw=w.forwardRef((n,t)=>o.jsx(Le.label,{...n,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(n.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));rw.displayName=qR;var GR=rw;function ke({className:n,...t}){return o.jsx(GR,{"data-slot":"label",className:De("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...t})}function xv(n,[t,r]){return Math.min(r,Math.max(t,n))}function sw(n){const t=w.useRef({value:n,previous:n});return w.useMemo(()=>(t.current.value!==n&&(t.current.previous=t.current.value,t.current.value=n),t.current.previous),[n])}var QR=[" ","Enter","ArrowUp","ArrowDown"],JR=[" ","Enter"],Ns="Select",[gc,vc,YR]=Uf(Ns),[zo]=pn(Ns,[YR,Yr]),xc=Yr(),[XR,Zr]=zo(Ns),[ZR,eP]=zo(Ns),ow=n=>{const{__scopeSelect:t,children:r,open:i,defaultOpen:a,onOpenChange:c,value:u,defaultValue:f,onValueChange:p,dir:g,name:m,autoComplete:x,disabled:y,required:_,form:j}=n,b=xc(t),[C,k]=w.useState(null),[E,R]=w.useState(null),[D,U]=w.useState(!1),H=cc(g),[O,F]=ar({prop:i,defaultProp:a??!1,onChange:c,caller:Ns}),[re,Q]=ar({prop:u,defaultProp:f,onChange:p,caller:Ns}),se=w.useRef(null),oe=C?j||!!C.closest("form"):!0,[fe,ae]=w.useState(new Set),q=Array.from(fe).map(J=>J.props.value).join(";");return o.jsx(rc,{...b,children:o.jsxs(XR,{required:_,scope:t,trigger:C,onTriggerChange:k,valueNode:E,onValueNodeChange:R,valueNodeHasChildren:D,onValueNodeHasChildrenChange:U,contentId:fn(),value:re,onValueChange:Q,open:O,onOpenChange:F,dir:H,triggerPointerDownPosRef:se,disabled:y,children:[o.jsx(gc.Provider,{scope:t,children:o.jsx(ZR,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(J=>{ae(ne=>new Set(ne).add(J))},[]),onNativeOptionRemove:w.useCallback(J=>{ae(ne=>{const N=new Set(ne);return N.delete(J),N})},[]),children:r})}),oe?o.jsxs(kw,{"aria-hidden":!0,required:_,tabIndex:-1,name:m,autoComplete:x,value:re,onChange:J=>Q(J.target.value),disabled:y,form:j,children:[re===void 0?o.jsx("option",{value:""}):null,Array.from(fe)]},q):null]})})};ow.displayName=Ns;var iw="SelectTrigger",aw=w.forwardRef((n,t)=>{const{__scopeSelect:r,disabled:i=!1,...a}=n,c=xc(r),u=Zr(iw,r),f=u.disabled||i,p=Ve(t,u.onTriggerChange),g=vc(r),m=w.useRef("touch"),[x,y,_]=Tw(b=>{const C=g().filter(R=>!R.disabled),k=C.find(R=>R.value===u.value),E=Rw(C,b,k);E!==void 0&&u.onValueChange(E.value)}),j=b=>{f||(u.onOpenChange(!0),_()),b&&(u.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return o.jsx(Yi,{asChild:!0,...c,children:o.jsx(Le.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":Ew(u.value)?"":void 0,...a,ref:p,onClick:le(a.onClick,b=>{b.currentTarget.focus(),m.current!=="mouse"&&j(b)}),onPointerDown:le(a.onPointerDown,b=>{m.current=b.pointerType;const C=b.target;C.hasPointerCapture(b.pointerId)&&C.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(j(b),b.preventDefault())}),onKeyDown:le(a.onKeyDown,b=>{const C=x.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&y(b.key),!(C&&b.key===" ")&&QR.includes(b.key)&&(j(),b.preventDefault())})})})});aw.displayName=iw;var lw="SelectValue",cw=w.forwardRef((n,t)=>{const{__scopeSelect:r,className:i,style:a,children:c,placeholder:u="",...f}=n,p=Zr(lw,r),{onValueNodeHasChildrenChange:g}=p,m=c!==void 0,x=Ve(t,p.onValueNodeChange);return Et(()=>{g(m)},[g,m]),o.jsx(Le.span,{...f,ref:x,style:{pointerEvents:"none"},children:Ew(p.value)?o.jsx(o.Fragment,{children:u}):c})});cw.displayName=lw;var tP="SelectIcon",uw=w.forwardRef((n,t)=>{const{__scopeSelect:r,children:i,...a}=n;return o.jsx(Le.span,{"aria-hidden":!0,...a,ref:t,children:i||""})});uw.displayName=tP;var nP="SelectPortal",dw=n=>o.jsx(Uo,{asChild:!0,...n});dw.displayName=nP;var ks="SelectContent",fw=w.forwardRef((n,t)=>{const r=Zr(ks,n.__scopeSelect),[i,a]=w.useState();if(Et(()=>{a(new DocumentFragment)},[]),!r.open){const c=i;return c?Gi.createPortal(o.jsx(hw,{scope:n.__scopeSelect,children:o.jsx(gc.Slot,{scope:n.__scopeSelect,children:o.jsx("div",{children:n.children})})}),c):null}return o.jsx(pw,{...n,ref:t})});fw.displayName=ks;var _n=10,[hw,es]=zo(ks),rP="SelectContentImpl",sP=Lr("SelectContent.RemoveScroll"),pw=w.forwardRef((n,t)=>{const{__scopeSelect:r,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:p,align:g,alignOffset:m,arrowPadding:x,collisionBoundary:y,collisionPadding:_,sticky:j,hideWhenDetached:b,avoidCollisions:C,...k}=n,E=Zr(ks,r),[R,D]=w.useState(null),[U,H]=w.useState(null),O=Ve(t,G=>D(G)),[F,re]=w.useState(null),[Q,se]=w.useState(null),oe=vc(r),[fe,ae]=w.useState(!1),q=w.useRef(!1);w.useEffect(()=>{if(R)return ic(R)},[R]),Xl();const J=w.useCallback(G=>{const[he,...V]=oe().map(L=>L.ref.current),[ee]=V.slice(-1),Se=document.activeElement;for(const L of G)if(L===Se||(L?.scrollIntoView({block:"nearest"}),L===he&&U&&(U.scrollTop=0),L===ee&&U&&(U.scrollTop=U.scrollHeight),L?.focus(),document.activeElement!==Se))return},[oe,U]),ne=w.useCallback(()=>J([F,R]),[J,F,R]);w.useEffect(()=>{fe&&ne()},[fe,ne]);const{onOpenChange:N,triggerPointerDownPosRef:z}=E;w.useEffect(()=>{if(R){let G={x:0,y:0};const he=ee=>{G={x:Math.abs(Math.round(ee.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(ee.pageY)-(z.current?.y??0))}},V=ee=>{G.x<=10&&G.y<=10?ee.preventDefault():R.contains(ee.target)||N(!1),document.removeEventListener("pointermove",he),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",V,{capture:!0})}}},[R,N,z]),w.useEffect(()=>{const G=()=>N(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[N]);const[K,A]=Tw(G=>{const he=oe().filter(Se=>!Se.disabled),V=he.find(Se=>Se.ref.current===document.activeElement),ee=Rw(he,G,V);ee&&setTimeout(()=>ee.ref.current.focus())}),W=w.useCallback((G,he,V)=>{const ee=!q.current&&!V;(E.value!==void 0&&E.value===he||ee)&&(re(G),ee&&(q.current=!0))},[E.value]),ce=w.useCallback(()=>R?.focus(),[R]),ue=w.useCallback((G,he,V)=>{const ee=!q.current&&!V;(E.value!==void 0&&E.value===he||ee)&&se(G)},[E.value]),Oe=i==="popper"?gf:mw,Ce=Oe===gf?{side:f,sideOffset:p,align:g,alignOffset:m,arrowPadding:x,collisionBoundary:y,collisionPadding:_,sticky:j,hideWhenDetached:b,avoidCollisions:C}:{};return o.jsx(hw,{scope:r,content:R,viewport:U,onViewportChange:H,itemRefCallback:W,selectedItem:F,onItemLeave:ce,itemTextRefCallback:ue,focusSelectedItem:ne,selectedItemText:Q,position:i,isPositioned:fe,searchRef:K,children:o.jsx(Xi,{as:sP,allowPinchZoom:!0,children:o.jsx(Qi,{asChild:!0,trapped:E.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:le(a,G=>{E.trigger?.focus({preventScroll:!0}),G.preventDefault()}),children:o.jsx(Lo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:o.jsx(Oe,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:G=>G.preventDefault(),...k,...Ce,onPlaced:()=>ae(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:le(k.onKeyDown,G=>{const he=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!he&&G.key.length===1&&A(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let ee=oe().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(G.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const Se=G.target,L=ee.indexOf(Se);ee=ee.slice(L+1)}setTimeout(()=>J(ee)),G.preventDefault()}})})})})})})});pw.displayName=rP;var oP="SelectItemAlignedPosition",mw=w.forwardRef((n,t)=>{const{__scopeSelect:r,onPlaced:i,...a}=n,c=Zr(ks,r),u=es(ks,r),[f,p]=w.useState(null),[g,m]=w.useState(null),x=Ve(t,O=>m(O)),y=vc(r),_=w.useRef(!1),j=w.useRef(!0),{viewport:b,selectedItem:C,selectedItemText:k,focusSelectedItem:E}=u,R=w.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&g&&b&&C&&k){const O=c.trigger.getBoundingClientRect(),F=g.getBoundingClientRect(),re=c.valueNode.getBoundingClientRect(),Q=k.getBoundingClientRect();if(c.dir!=="rtl"){const Se=Q.left-F.left,L=re.left-Se,Ne=O.left-L,je=O.width+Ne,We=Math.max(je,F.width),lt=window.innerWidth-_n,Ye=xv(L,[_n,Math.max(_n,lt-We)]);f.style.minWidth=je+"px",f.style.left=Ye+"px"}else{const Se=F.right-Q.right,L=window.innerWidth-re.right-Se,Ne=window.innerWidth-O.right-L,je=O.width+Ne,We=Math.max(je,F.width),lt=window.innerWidth-_n,Ye=xv(L,[_n,Math.max(_n,lt-We)]);f.style.minWidth=je+"px",f.style.right=Ye+"px"}const se=y(),oe=window.innerHeight-_n*2,fe=b.scrollHeight,ae=window.getComputedStyle(g),q=parseInt(ae.borderTopWidth,10),J=parseInt(ae.paddingTop,10),ne=parseInt(ae.borderBottomWidth,10),N=parseInt(ae.paddingBottom,10),z=q+J+fe+N+ne,K=Math.min(C.offsetHeight*5,z),A=window.getComputedStyle(b),W=parseInt(A.paddingTop,10),ce=parseInt(A.paddingBottom,10),ue=O.top+O.height/2-_n,Oe=oe-ue,Ce=C.offsetHeight/2,G=C.offsetTop+Ce,he=q+J+G,V=z-he;if(he<=ue){const Se=se.length>0&&C===se[se.length-1].ref.current;f.style.bottom="0px";const L=g.clientHeight-b.offsetTop-b.offsetHeight,Ne=Math.max(Oe,Ce+(Se?ce:0)+L+ne),je=he+Ne;f.style.height=je+"px"}else{const Se=se.length>0&&C===se[0].ref.current;f.style.top="0px";const Ne=Math.max(ue,q+b.offsetTop+(Se?W:0)+Ce)+V;f.style.height=Ne+"px",b.scrollTop=he-ue+b.offsetTop}f.style.margin=`${_n}px 0`,f.style.minHeight=K+"px",f.style.maxHeight=oe+"px",i?.(),requestAnimationFrame(()=>_.current=!0)}},[y,c.trigger,c.valueNode,f,g,b,C,k,c.dir,i]);Et(()=>R(),[R]);const[D,U]=w.useState();Et(()=>{g&&U(window.getComputedStyle(g).zIndex)},[g]);const H=w.useCallback(O=>{O&&j.current===!0&&(R(),E?.(),j.current=!1)},[R,E]);return o.jsx(aP,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:_,onScrollButtonChange:H,children:o.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:o.jsx(Le.div,{...a,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});mw.displayName=oP;var iP="SelectPopperPosition",gf=w.forwardRef((n,t)=>{const{__scopeSelect:r,align:i="start",collisionPadding:a=_n,...c}=n,u=xc(r);return o.jsx(sc,{...u,...c,ref:t,align:i,collisionPadding:a,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gf.displayName=iP;var[aP,Jf]=zo(ks,{}),vf="SelectViewport",gw=w.forwardRef((n,t)=>{const{__scopeSelect:r,nonce:i,...a}=n,c=es(vf,r),u=Jf(vf,r),f=Ve(t,c.onViewportChange),p=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(gc.Slot,{scope:r,children:o.jsx(Le.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:le(a.onScroll,g=>{const m=g.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:y}=u;if(y?.current&&x){const _=Math.abs(p.current-m.scrollTop);if(_>0){const j=window.innerHeight-_n*2,b=parseFloat(x.style.minHeight),C=parseFloat(x.style.height),k=Math.max(b,C);if(k<j){const E=k+_,R=Math.min(j,E),D=E-R;x.style.height=R+"px",x.style.bottom==="0px"&&(m.scrollTop=D>0?D:0,x.style.justifyContent="flex-end")}}}p.current=m.scrollTop})})})]})});gw.displayName=vf;var vw="SelectGroup",[lP,cP]=zo(vw),uP=w.forwardRef((n,t)=>{const{__scopeSelect:r,...i}=n,a=fn();return o.jsx(lP,{scope:r,id:a,children:o.jsx(Le.div,{role:"group","aria-labelledby":a,...i,ref:t})})});uP.displayName=vw;var xw="SelectLabel",dP=w.forwardRef((n,t)=>{const{__scopeSelect:r,...i}=n,a=cP(xw,r);return o.jsx(Le.div,{id:a.id,...i,ref:t})});dP.displayName=xw;var ql="SelectItem",[fP,yw]=zo(ql),ww=w.forwardRef((n,t)=>{const{__scopeSelect:r,value:i,disabled:a=!1,textValue:c,...u}=n,f=Zr(ql,r),p=es(ql,r),g=f.value===i,[m,x]=w.useState(c??""),[y,_]=w.useState(!1),j=Ve(t,E=>p.itemRefCallback?.(E,i,a)),b=fn(),C=w.useRef("touch"),k=()=>{a||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(fP,{scope:r,value:i,disabled:a,textId:b,isSelected:g,onItemTextChange:w.useCallback(E=>{x(R=>R||(E?.textContent??"").trim())},[]),children:o.jsx(gc.ItemSlot,{scope:r,value:i,disabled:a,textValue:m,children:o.jsx(Le.div,{role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":g&&y,"data-state":g?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:j,onFocus:le(u.onFocus,()=>_(!0)),onBlur:le(u.onBlur,()=>_(!1)),onClick:le(u.onClick,()=>{C.current!=="mouse"&&k()}),onPointerUp:le(u.onPointerUp,()=>{C.current==="mouse"&&k()}),onPointerDown:le(u.onPointerDown,E=>{C.current=E.pointerType}),onPointerMove:le(u.onPointerMove,E=>{C.current=E.pointerType,a?p.onItemLeave?.():C.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(u.onPointerLeave,E=>{E.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:le(u.onKeyDown,E=>{p.searchRef?.current!==""&&E.key===" "||(JR.includes(E.key)&&k(),E.key===" "&&E.preventDefault())})})})})});ww.displayName=ql;var Ai="SelectItemText",bw=w.forwardRef((n,t)=>{const{__scopeSelect:r,className:i,style:a,...c}=n,u=Zr(Ai,r),f=es(Ai,r),p=yw(Ai,r),g=eP(Ai,r),[m,x]=w.useState(null),y=Ve(t,k=>x(k),p.onItemTextChange,k=>f.itemTextRefCallback?.(k,p.value,p.disabled)),_=m?.textContent,j=w.useMemo(()=>o.jsx("option",{value:p.value,disabled:p.disabled,children:_},p.value),[p.disabled,p.value,_]),{onNativeOptionAdd:b,onNativeOptionRemove:C}=g;return Et(()=>(b(j),()=>C(j)),[b,C,j]),o.jsxs(o.Fragment,{children:[o.jsx(Le.span,{id:p.textId,...c,ref:y}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Gi.createPortal(c.children,u.valueNode):null]})});bw.displayName=Ai;var jw="SelectItemIndicator",_w=w.forwardRef((n,t)=>{const{__scopeSelect:r,...i}=n;return yw(jw,r).isSelected?o.jsx(Le.span,{"aria-hidden":!0,...i,ref:t}):null});_w.displayName=jw;var xf="SelectScrollUpButton",Sw=w.forwardRef((n,t)=>{const r=es(xf,n.__scopeSelect),i=Jf(xf,n.__scopeSelect),[a,c]=w.useState(!1),u=Ve(t,i.onScrollButtonChange);return Et(()=>{if(r.viewport&&r.isPositioned){let f=function(){const g=p.scrollTop>0;c(g)};const p=r.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),a?o.jsx(Nw,{...n,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=r;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});Sw.displayName=xf;var yf="SelectScrollDownButton",Cw=w.forwardRef((n,t)=>{const r=es(yf,n.__scopeSelect),i=Jf(yf,n.__scopeSelect),[a,c]=w.useState(!1),u=Ve(t,i.onScrollButtonChange);return Et(()=>{if(r.viewport&&r.isPositioned){let f=function(){const g=p.scrollHeight-p.clientHeight,m=Math.ceil(p.scrollTop)<g;c(m)};const p=r.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),a?o.jsx(Nw,{...n,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=r;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});Cw.displayName=yf;var Nw=w.forwardRef((n,t)=>{const{__scopeSelect:r,onAutoScroll:i,...a}=n,c=es("SelectScrollButton",r),u=w.useRef(null),f=vc(r),p=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>p(),[p]),Et(()=>{f().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),o.jsx(Le.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:le(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:le(a.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:le(a.onPointerLeave,()=>{p()})})}),hP="SelectSeparator",pP=w.forwardRef((n,t)=>{const{__scopeSelect:r,...i}=n;return o.jsx(Le.div,{"aria-hidden":!0,...i,ref:t})});pP.displayName=hP;var wf="SelectArrow",mP=w.forwardRef((n,t)=>{const{__scopeSelect:r,...i}=n,a=xc(r),c=Zr(wf,r),u=es(wf,r);return c.open&&u.position==="popper"?o.jsx(oc,{...a,...i,ref:t}):null});mP.displayName=wf;var gP="SelectBubbleInput",kw=w.forwardRef(({__scopeSelect:n,value:t,...r},i)=>{const a=w.useRef(null),c=Ve(i,a),u=sw(t);return w.useEffect(()=>{const f=a.current;if(!f)return;const p=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==t&&m){const x=new Event("change",{bubbles:!0});m.call(f,t),f.dispatchEvent(x)}},[u,t]),o.jsx(Le.select,{...r,style:{...Hy,...r.style},ref:c,defaultValue:t})});kw.displayName=gP;function Ew(n){return n===""||n===void 0}function Tw(n){const t=Vn(n),r=w.useRef(""),i=w.useRef(0),a=w.useCallback(u=>{const f=r.current+u;t(f),(function p(g){r.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>p(""),1e3))})(f)},[t]),c=w.useCallback(()=>{r.current="",window.clearTimeout(i.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(i.current),[]),[r,a,c]}function Rw(n,t,r){const a=t.length>1&&Array.from(t).every(g=>g===t[0])?t[0]:t,c=r?n.indexOf(r):-1;let u=vP(n,Math.max(c,0));a.length===1&&(u=u.filter(g=>g!==r));const p=u.find(g=>g.textValue.toLowerCase().startsWith(a.toLowerCase()));return p!==r?p:void 0}function vP(n,t){return n.map((r,i)=>n[(t+i)%n.length])}var xP=ow,yP=aw,wP=cw,bP=uw,jP=dw,_P=fw,SP=gw,CP=ww,NP=bw,kP=_w,EP=Sw,TP=Cw;function en({...n}){return o.jsx(xP,{"data-slot":"select",...n})}function tn({...n}){return o.jsx(wP,{"data-slot":"select-value",...n})}function nn({className:n,size:t="default",children:r,...i}){return o.jsxs(yP,{"data-slot":"select-trigger","data-size":t,className:De("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[r,o.jsx(bP,{asChild:!0,children:o.jsx(Rf,{className:"size-4 opacity-50"})})]})}function rn({className:n,children:t,position:r="popper",...i}){return o.jsx(jP,{children:o.jsxs(_P,{"data-slot":"select-content",className:De("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:r,...i,children:[o.jsx(RP,{}),o.jsx(SP,{className:De("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),o.jsx(PP,{})]})})}function Ie({className:n,children:t,...r}){return o.jsxs(CP,{"data-slot":"select-item",className:De("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(kP,{children:o.jsx(OC,{className:"size-4"})})}),o.jsx(NP,{children:t})]})}function RP({className:n,...t}){return o.jsx(EP,{"data-slot":"select-scroll-up-button",className:De("flex cursor-default items-center justify-center py-1",n),...t,children:o.jsx(UC,{className:"size-4"})})}function PP({className:n,...t}){return o.jsx(TP,{"data-slot":"select-scroll-down-button",className:De("flex cursor-default items-center justify-center py-1",n),...t,children:o.jsx(Rf,{className:"size-4"})})}var yc="Dialog",[Pw,Aw]=pn(yc),[AP,Pn]=Pw(yc),Ow=n=>{const{__scopeDialog:t,children:r,open:i,defaultOpen:a,onOpenChange:c,modal:u=!0}=n,f=w.useRef(null),p=w.useRef(null),[g,m]=ar({prop:i,defaultProp:a??!1,onChange:c,caller:yc});return o.jsx(AP,{scope:t,triggerRef:f,contentRef:p,contentId:fn(),titleId:fn(),descriptionId:fn(),open:g,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(x=>!x),[m]),modal:u,children:r})};Ow.displayName=yc;var Iw="DialogTrigger",Dw=w.forwardRef((n,t)=>{const{__scopeDialog:r,...i}=n,a=Pn(Iw,r),c=Ve(t,a.triggerRef);return o.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zf(a.open),...i,ref:c,onClick:le(n.onClick,a.onOpenToggle)})});Dw.displayName=Iw;var Yf="DialogPortal",[OP,Mw]=Pw(Yf,{forceMount:void 0}),Lw=n=>{const{__scopeDialog:t,forceMount:r,children:i,container:a}=n,c=Pn(Yf,t);return o.jsx(OP,{scope:t,forceMount:r,children:w.Children.map(i,u=>o.jsx(sn,{present:r||c.open,children:o.jsx(Uo,{asChild:!0,container:a,children:u})}))})};Lw.displayName=Yf;var Gl="DialogOverlay",$w=w.forwardRef((n,t)=>{const r=Mw(Gl,n.__scopeDialog),{forceMount:i=r.forceMount,...a}=n,c=Pn(Gl,n.__scopeDialog);return c.modal?o.jsx(sn,{present:i||c.open,children:o.jsx(DP,{...a,ref:t})}):null});$w.displayName=Gl;var IP=Lr("DialogOverlay.RemoveScroll"),DP=w.forwardRef((n,t)=>{const{__scopeDialog:r,...i}=n,a=Pn(Gl,r);return o.jsx(Xi,{as:IP,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(Le.div,{"data-state":Zf(a.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Es="DialogContent",Fw=w.forwardRef((n,t)=>{const r=Mw(Es,n.__scopeDialog),{forceMount:i=r.forceMount,...a}=n,c=Pn(Es,n.__scopeDialog);return o.jsx(sn,{present:i||c.open,children:c.modal?o.jsx(MP,{...a,ref:t}):o.jsx(LP,{...a,ref:t})})});Fw.displayName=Es;var MP=w.forwardRef((n,t)=>{const r=Pn(Es,n.__scopeDialog),i=w.useRef(null),a=Ve(t,r.contentRef,i);return w.useEffect(()=>{const c=i.current;if(c)return ic(c)},[]),o.jsx(Uw,{...n,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(n.onCloseAutoFocus,c=>{c.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:le(n.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:le(n.onFocusOutside,c=>c.preventDefault())})}),LP=w.forwardRef((n,t)=>{const r=Pn(Es,n.__scopeDialog),i=w.useRef(!1),a=w.useRef(!1);return o.jsx(Uw,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{n.onCloseAutoFocus?.(c),c.defaultPrevented||(i.current||r.triggerRef.current?.focus(),c.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:c=>{n.onInteractOutside?.(c),c.defaultPrevented||(i.current=!0,c.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=c.target;r.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&a.current&&c.preventDefault()}})}),Uw=w.forwardRef((n,t)=>{const{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:c,...u}=n,f=Pn(Es,r),p=w.useRef(null),g=Ve(t,p);return Xl(),o.jsxs(o.Fragment,{children:[o.jsx(Qi,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:c,children:o.jsx(Lo,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Zf(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(FP,{titleId:f.titleId}),o.jsx(zP,{contentRef:p,descriptionId:f.descriptionId})]})]})}),Xf="DialogTitle",zw=w.forwardRef((n,t)=>{const{__scopeDialog:r,...i}=n,a=Pn(Xf,r);return o.jsx(Le.h2,{id:a.titleId,...i,ref:t})});zw.displayName=Xf;var Bw="DialogDescription",Vw=w.forwardRef((n,t)=>{const{__scopeDialog:r,...i}=n,a=Pn(Bw,r);return o.jsx(Le.p,{id:a.descriptionId,...i,ref:t})});Vw.displayName=Bw;var Ww="DialogClose",Hw=w.forwardRef((n,t)=>{const{__scopeDialog:r,...i}=n,a=Pn(Ww,r);return o.jsx(Le.button,{type:"button",...i,ref:t,onClick:le(n.onClick,()=>a.onOpenChange(!1))})});Hw.displayName=Ww;function Zf(n){return n?"open":"closed"}var Kw="DialogTitleWarning",[$P,qw]=GN(Kw,{contentName:Es,titleName:Xf,docsSlug:"dialog"}),FP=({titleId:n})=>{const t=qw(Kw),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(r))},[r,n]),null},UP="DialogDescriptionWarning",zP=({contentRef:n,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qw(UP).contentName}}.`;return w.useEffect(()=>{const a=n.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(i))},[i,n,t]),null},Gw=Ow,Qw=Dw,Jw=Lw,eh=$w,Yw=Fw,Xw=zw,Zw=Vw,th=Hw;function Pt({...n}){return o.jsx(Gw,{"data-slot":"dialog",...n})}function En({...n}){return o.jsx(Qw,{"data-slot":"dialog-trigger",...n})}function BP({...n}){return o.jsx(Jw,{"data-slot":"dialog-portal",...n})}const e0=w.forwardRef(({className:n,...t},r)=>o.jsx(eh,{ref:r,"data-slot":"dialog-overlay",className:De("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...t}));e0.displayName=eh.displayName;function At({className:n,children:t,...r}){return o.jsxs(BP,{"data-slot":"dialog-portal",children:[o.jsx(e0,{}),o.jsxs(Yw,{"data-slot":"dialog-content",className:De("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...r,children:[t,o.jsxs(th,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[o.jsx(HN,{}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ot({className:n,...t}){return o.jsx("div",{"data-slot":"dialog-header",className:De("flex flex-col gap-2 text-center sm:text-left",n),...t})}function It({className:n,...t}){return o.jsx(Xw,{"data-slot":"dialog-title",className:De("text-lg leading-none font-semibold",n),...t})}function Dt({className:n,...t}){return o.jsx(Zw,{"data-slot":"dialog-description",className:De("text-muted-foreground text-sm",n),...t})}var t0="AlertDialog",[VP]=pn(t0,[Aw]),lr=Aw(),n0=n=>{const{__scopeAlertDialog:t,...r}=n,i=lr(t);return o.jsx(Gw,{...i,...r,modal:!0})};n0.displayName=t0;var WP="AlertDialogTrigger",r0=w.forwardRef((n,t)=>{const{__scopeAlertDialog:r,...i}=n,a=lr(r);return o.jsx(Qw,{...a,...i,ref:t})});r0.displayName=WP;var HP="AlertDialogPortal",s0=n=>{const{__scopeAlertDialog:t,...r}=n,i=lr(t);return o.jsx(Jw,{...i,...r})};s0.displayName=HP;var KP="AlertDialogOverlay",o0=w.forwardRef((n,t)=>{const{__scopeAlertDialog:r,...i}=n,a=lr(r);return o.jsx(eh,{...a,...i,ref:t})});o0.displayName=KP;var Co="AlertDialogContent",[qP,GP]=VP(Co),QP=ux("AlertDialogContent"),i0=w.forwardRef((n,t)=>{const{__scopeAlertDialog:r,children:i,...a}=n,c=lr(r),u=w.useRef(null),f=Ve(t,u),p=w.useRef(null);return o.jsx($P,{contentName:Co,titleName:a0,docsSlug:"alert-dialog",children:o.jsx(qP,{scope:r,cancelRef:p,children:o.jsxs(Yw,{role:"alertdialog",...c,...a,ref:f,onOpenAutoFocus:le(a.onOpenAutoFocus,g=>{g.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:g=>g.preventDefault(),onInteractOutside:g=>g.preventDefault(),children:[o.jsx(QP,{children:i}),o.jsx(YP,{contentRef:u})]})})})});i0.displayName=Co;var a0="AlertDialogTitle",l0=w.forwardRef((n,t)=>{const{__scopeAlertDialog:r,...i}=n,a=lr(r);return o.jsx(Xw,{...a,...i,ref:t})});l0.displayName=a0;var c0="AlertDialogDescription",u0=w.forwardRef((n,t)=>{const{__scopeAlertDialog:r,...i}=n,a=lr(r);return o.jsx(Zw,{...a,...i,ref:t})});u0.displayName=c0;var JP="AlertDialogAction",d0=w.forwardRef((n,t)=>{const{__scopeAlertDialog:r,...i}=n,a=lr(r);return o.jsx(th,{...a,...i,ref:t})});d0.displayName=JP;var f0="AlertDialogCancel",h0=w.forwardRef((n,t)=>{const{__scopeAlertDialog:r,...i}=n,{cancelRef:a}=GP(f0,r),c=lr(r),u=Ve(t,a);return o.jsx(th,{...c,...i,ref:u})});h0.displayName=f0;var YP=({contentRef:n})=>{const t=`\`${Co}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Co}\` by passing a \`${c0}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Co}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{document.getElementById(n.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,n]),null},XP=n0,ZP=r0,eA=s0,p0=o0,tA=i0,nA=d0,rA=h0,sA=l0,oA=u0;function zr({...n}){return o.jsx(XP,{"data-slot":"alert-dialog",...n})}function Br({...n}){return o.jsx(ZP,{"data-slot":"alert-dialog-trigger",...n})}function iA({...n}){return o.jsx(eA,{"data-slot":"alert-dialog-portal",...n})}const m0=w.forwardRef(({className:n,...t},r)=>o.jsx(p0,{ref:r,"data-slot":"alert-dialog-overlay",className:De("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...t}));m0.displayName=p0.displayName;function Vr({className:n,...t}){return o.jsxs(iA,{children:[o.jsx(m0,{}),o.jsx(tA,{"data-slot":"alert-dialog-content",className:De("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t})]})}function Wr({className:n,...t}){return o.jsx("div",{"data-slot":"alert-dialog-header",className:De("flex flex-col gap-2 text-center sm:text-left",n),...t})}function Hr({className:n,...t}){return o.jsx("div",{"data-slot":"alert-dialog-footer",className:De("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...t})}function Kr({className:n,...t}){return o.jsx(sA,{"data-slot":"alert-dialog-title",className:De("text-lg font-semibold",n),...t})}function qr({className:n,...t}){return o.jsx(oA,{"data-slot":"alert-dialog-description",className:De("text-muted-foreground text-sm",n),...t})}function Gr({className:n,...t}){return o.jsx(nA,{className:De(Tf(),n),...t})}function Qr({className:n,...t}){return o.jsx(rA,{className:De(Tf({variant:"outline"}),n),...t})}function nh({className:n,...t}){return o.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:o.jsx("table",{"data-slot":"table",className:De("w-full caption-bottom text-sm",n),...t})})}function rh({className:n,...t}){return o.jsx("thead",{"data-slot":"table-header",className:De("[&_tr]:border-b",n),...t})}function sh({className:n,...t}){return o.jsx("tbody",{"data-slot":"table-body",className:De("[&_tr:last-child]:border-0",n),...t})}function Oo({className:n,...t}){return o.jsx("tr",{"data-slot":"table-row",className:De("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...t})}function Wt({className:n,...t}){return o.jsx("th",{"data-slot":"table-head",className:De("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...t})}function Ht({className:n,...t}){return o.jsx("td",{"data-slot":"table-cell",className:De("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...t})}const aA=({formData:n})=>o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"first_name",children:"First Name"}),o.jsx(Fe,{id:"first_name",value:n.first_name||"",readOnly:!0,disabled:!0,className:"bg-gray-50 cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"middle_name",children:"Middle Name"}),o.jsx(Fe,{id:"middle_name",value:n.middle_name||"N/A",readOnly:!0,disabled:!0,className:"bg-gray-50 cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"last_name",children:"Last Name"}),o.jsx(Fe,{id:"last_name",value:n.last_name||"",readOnly:!0,disabled:!0,className:"bg-gray-50 cursor-not-allowed"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"email",children:"Email"}),o.jsx(Fe,{id:"email",type:"email",value:n.email||"",readOnly:!0,disabled:!0,className:"bg-gray-50 cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"user_type",children:"User Type"}),o.jsx(Fe,{id:"user_type",value:n.user_type?n.user_type.charAt(0).toUpperCase()+n.user_type.slice(1):"",readOnly:!0,disabled:!0,className:"bg-gray-50 cursor-not-allowed capitalize"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"college",children:"College"}),o.jsx(Fe,{id:"college",value:n.college||"N/A",readOnly:!0,disabled:!0,className:"bg-gray-50 cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"phone",children:"Phone"}),o.jsx(Fe,{id:"phone_number",value:n.phone_number||"N/A",readOnly:!0,disabled:!0,className:"bg-gray-50 cursor-not-allowed"})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-xs text-blue-800",children:[o.jsx("strong",{children:" View Only Mode:"}),' This modal displays user information from the Supabase "Users" table. All fields are read-only and cannot be edited from this interface.']})})]});function lA(){const[n,t]=w.useState([]),[r,i]=w.useState(!0),[a,c]=w.useState(""),[u,f]=w.useState("all"),[p,g]=w.useState("all"),[m,x]=w.useState(null),[y,_]=w.useState(!1),[j,b]=w.useState({}),[C,k]=w.useState(null),[E,R]=w.useState(!1),[D,U]=w.useState(!1),[H,O]=w.useState(!1),[F,re]=w.useState(!1),[Q,se]=w.useState([]);w.useEffect(()=>{oe()},[]);const oe=async()=>{i(!0);try{console.log(' Fetching users from Supabase "Users" table...');const[N,z]=await Promise.all([p1(),m1()]);console.log(` Successfully loaded ${N.length} users from database`),console.log(` Successfully loaded ${z.length} colleges from database`),N.length>0&&console.log(" Sample user data:",N[0]),z.length>0&&console.log(" Sample college data:",z[0]),t(N),se(z)}catch(N){console.error(" Error loading users:",N)}finally{i(!1)}},fe=n.filter(N=>{const K=`${N.first_name||""} ${N.middle_name||""} ${N.last_name||""}`.toLowerCase().includes(a.toLowerCase())||N.email?.toLowerCase().includes(a.toLowerCase())||N.college?.toLowerCase().includes(a.toLowerCase()),A=u==="all"||N.user_type&&N.user_type.toLowerCase()===u,W=p==="all"||N.status===p;return K&&A&&W}),ae=async()=>{if(!j.email||!j.first_name||!j.last_name){alert("Please fill in all required fields");return}if(n.some(K=>K.email.toLowerCase()===(j.email||"").toLowerCase())){alert(" Email already registered! This email is already associated with an existing account.");return}if(n.some(K=>K.first_name.toLowerCase()===(j.first_name||"").toLowerCase()&&K.last_name.toLowerCase()===(j.last_name||"").toLowerCase())){alert(" User already exists! A user with this first name and last name is already registered in the system.");return}re(!0);try{console.log(" Adding new user:",j),console.log(" Validation passed - email and name are unique");const K=await g1({email:j.email,first_name:j.first_name,middle_name:j.middle_name||"",last_name:j.last_name,user_type:j.user_type||"Student",phone_number:j.phone_number||"",college:j.college||""});K?(console.log(" User added successfully:",K),t([...n,K]),O(!1),b({}),console.log(" User list updated with new user"),alert(" User added successfully!")):(console.log(" Failed to add user"),alert(" Failed to add user. Please try again."))}catch(K){console.error(" Error adding user:",K),alert(" Error adding user. Please check the console for details.")}finally{re(!1)}},q=async()=>{if(C){R(!0);try{console.log(" Attempting to delete user from database:",{id:C.id,name:`${C.first_name} ${C.last_name}`,email:C.email}),console.log(" Complete user object being passed to deleteUser:",C),console.log(" User object keys:",Object.keys(C)),console.log(" User object values:",Object.values(C)),await v1(C)?(console.log(" User deleted successfully from Supabase database"),U(!1),await oe(),k(null),console.log(" User list refreshed - deletion complete")):(console.error(" Failed to delete user from database"),alert("Failed to delete user. Please check the console for details."))}catch(N){console.error(" Error deleting user:",N),alert("An error occurred while deleting the user. Error: "+N.message)}finally{R(!1)}}},J=()=>{const N=[["First Name","Middle Name","Last Name","Email","User Type","College","Status"],...fe.map(W=>[W.first_name,W.middle_name||"",W.last_name,W.email,W.user_type,W.college||"",W.status||"Active"])].map(W=>W.join(",")).join(`
`),z=new Blob([N],{type:"text/csv"}),K=window.URL.createObjectURL(z),A=document.createElement("a");A.href=K,A.download="users.csv",A.click()};if(r)return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]})});const ne=Pe();return console.log(" Database connection status:",ne),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"User Management"}),o.jsx("p",{className:"text-muted-foreground",children:ne?o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full"}),"Connected to Supabase  ",n.length," users loaded from database"]}):"Database not connected"})]}),o.jsxs("div",{className:"flex gap-2",children:[ne&&o.jsxs(ie,{variant:"outline",onClick:oe,disabled:r,children:[r?o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(ie,{variant:"outline",onClick:J,children:[o.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),ne&&n.length>0&&o.jsxs(_s,{className:"bg-green-50 border-green-200",children:[o.jsx(Fl,{className:"h-4 w-4 text-green-600"}),o.jsxs(Ss,{className:"text-sm text-green-800",children:[o.jsx("strong",{children:" Live Database Connected:"})," ","Displaying ",n.length,' users from your Supabase "Users" table in view-only mode. Your table stores First Name, Middle Name, Last Name, Email, User Type, College, and Phone. Click "View" to see detailed user information.']})]}),ne&&n.length===0&&!r&&o.jsxs(_s,{className:"bg-yellow-50 border-yellow-200",children:[o.jsx(Fl,{className:"h-4 w-4 text-yellow-600"}),o.jsxs(Ss,{className:"text-sm text-yellow-800",children:[o.jsx("strong",{children:"Database Connected but Empty:"}),` Your "Users" table exists but contains no data. Add users directly through your Supabase dashboard or via your application's registration system.`]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center text-white",children:o.jsx("span",{className:"text-sm font-semibold",children:n.length})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Total Users"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered users"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center text-white",children:o.jsx("span",{className:"text-sm font-semibold",children:n.filter(N=>N.status!=="Inactive").length})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Active Users"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center text-white",children:o.jsx("span",{className:"text-sm font-semibold",children:n.filter(N=>N.user_type?.toLowerCase()==="student").length})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Students"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Student accounts"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center text-white",children:o.jsx("span",{className:"text-sm font-semibold",children:n.filter(N=>N.user_type?.toLowerCase()==="faculty").length})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Faculty"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Faculty members"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center text-white",children:o.jsx("span",{className:"text-sm font-semibold",children:n.filter(N=>N.user_type?.toLowerCase()==="staff").length})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Staff"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Staff members"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center text-white",children:o.jsx("span",{className:"text-sm font-semibold",children:n.filter(N=>N.user_type?.toLowerCase()==="admin").length})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Admin"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrators"})]})]})})})]}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Eo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Fe,{placeholder:"Search users by name, email, or college...",value:a,onChange:N=>c(N.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(en,{value:u,onValueChange:f,children:[o.jsxs(nn,{className:"w-40",children:[o.jsx(hx,{className:"h-4 w-4 mr-2"}),o.jsx(tn,{})]}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"all",children:"All User Types"}),o.jsx(Ie,{value:"student",children:"Student"}),o.jsx(Ie,{value:"faculty",children:"Faculty"}),o.jsx(Ie,{value:"staff",children:"Staff"}),o.jsx(Ie,{value:"visitor",children:"Visitor"}),o.jsx(Ie,{value:"admin",children:"Admin"})]})]})})]})})}),o.jsxs(pe,{children:[o.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[o.jsxs(He,{children:["Users (",fe.length,")"]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(ie,{onClick:()=>{console.log(" Add User button clicked from table header"),O(!0)},size:"sm",children:[o.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Add User"]}),ne&&n.length>0&&o.jsx(Qe,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Live from Database"})]})]}),o.jsx(me,{children:fe.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx("p",{children:"No users found"}),!ne&&o.jsx("p",{className:"text-sm mt-2",children:"Connect your Supabase database to manage users"}),ne&&a&&o.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search filters"})]}):o.jsxs(nh,{children:[o.jsx(rh,{children:o.jsxs(Oo,{children:[o.jsx(Wt,{children:"User"}),o.jsx(Wt,{children:"Contact"}),o.jsx(Wt,{children:"User Type & College"}),o.jsx(Wt,{children:"Actions"})]})}),o.jsx(sh,{children:fe.map(N=>o.jsxs(Oo,{children:[o.jsx(Ht,{children:o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:[N.first_name," ",N.middle_name?N.middle_name+" ":"",N.last_name]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:N.email}),o.jsx("p",{className:"text-sm text-muted-foreground",children:N.phone_number})]})}),o.jsx(Ht,{children:o.jsxs("div",{className:"space-y-1",children:[N.phone_number&&o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx(gN,{className:"h-3 w-3"}),N.phone_number]}),!N.phone_number&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"No contact info"})]})}),o.jsx(Ht,{children:o.jsxs("div",{children:[o.jsx(Qe,{variant:"outline",className:"mb-1 capitalize",children:N.user_type}),N.college&&o.jsx("p",{className:"text-sm text-muted-foreground",children:N.college})]})}),o.jsx(Ht,{children:o.jsx("div",{className:"flex gap-2",children:ne&&o.jsxs(o.Fragment,{children:[o.jsxs(Pt,{open:y&&m?.id===N.id,onOpenChange:_,children:[o.jsx(En,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{x(N),b(N)},children:[o.jsx(Dr,{className:"h-4 w-4 mr-1"}),"View"]})}),o.jsxs(At,{className:"max-w-2xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"View User Details"}),o.jsx(Dt,{children:'User information from the Supabase "Users" table (Read-Only)'})]}),o.jsx(aA,{formData:j}),o.jsx("div",{className:"flex justify-end gap-2",children:o.jsx(ie,{onClick:()=>_(!1),children:"Close"})})]})]}),o.jsxs(zr,{open:D&&C?.id===N.id,onOpenChange:z=>{U(z),z||k(null)},children:[o.jsx(Br,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{k(N),U(!0)},children:[o.jsx($r,{className:"h-4 w-4 mr-1"}),"Delete"]})}),o.jsxs(Vr,{children:[o.jsxs(Wr,{children:[o.jsx(Kr,{children:"Delete User from Database?"}),o.jsx(qr,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:["This will permanently delete"," ",o.jsxs("strong",{className:"text-foreground",children:[N.first_name," ",N.middle_name?N.middle_name+" ":"",N.last_name]})," ",o.jsxs("span",{className:"text-muted-foreground",children:["(",N.email,")"]})," from your Supabase database."]}),o.jsx("div",{className:"text-red-600 font-medium",children:" This action cannot be undone and will permanently remove all user data."})]})})]}),o.jsxs(Hr,{children:[o.jsx(Qr,{onClick:()=>{k(null),U(!1)},disabled:E,children:"Cancel"}),o.jsx(Gr,{onClick:z=>{z.preventDefault(),q()},disabled:E,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:E?o.jsxs(o.Fragment,{children:[o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting from Database..."]}):o.jsxs(o.Fragment,{children:[o.jsx($r,{className:"h-4 w-4 mr-2"}),"Yes, Delete User"]})})]})]})]})]})})})]},N.id))})]})})]}),o.jsx(Pt,{open:H,onOpenChange:O,children:o.jsxs(At,{className:"max-w-2xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Add New User"}),o.jsx(Dt,{children:"Create a new user account in the database"})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"first_name",children:"First Name *"}),o.jsx(Fe,{id:"first_name",value:j.first_name||"",onChange:N=>b({...j,first_name:N.target.value}),placeholder:"Enter first name",className:j.first_name&&j.last_name&&n.some(N=>N.first_name.toLowerCase()===(j.first_name||"").toLowerCase()&&N.last_name.toLowerCase()===(j.last_name||"").toLowerCase())?"border-red-500 focus:border-red-500":""})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"last_name",children:"Last Name *"}),o.jsx(Fe,{id:"last_name",value:j.last_name||"",onChange:N=>b({...j,last_name:N.target.value}),placeholder:"Enter last name",className:j.first_name&&j.last_name&&n.some(N=>N.first_name.toLowerCase()===(j.first_name||"").toLowerCase()&&N.last_name.toLowerCase()===(j.last_name||"").toLowerCase())?"border-red-500 focus:border-red-500":""})]})]}),j.first_name&&j.last_name&&n.some(N=>N.first_name.toLowerCase()===(j.first_name||"").toLowerCase()&&N.last_name.toLowerCase()===(j.last_name||"").toLowerCase())&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-2",children:o.jsx("p",{className:"text-yellow-800 text-xs",children:" A user with this first name and last name already exists in the system"})}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"middle_name",children:"Middle Name"}),o.jsx(Fe,{id:"middle_name",value:j.middle_name||"",onChange:N=>b({...j,middle_name:N.target.value}),placeholder:"Enter middle name (optional)"})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"email",children:"Email *"}),o.jsx(Fe,{id:"email",type:"email",value:j.email||"",onChange:N=>b({...j,email:N.target.value}),placeholder:"Enter email address",className:j.email&&n.some(N=>N.email.toLowerCase()===(j.email||"").toLowerCase())?"border-red-500 focus:border-red-500":""}),j.email&&n.some(N=>N.email.toLowerCase()===(j.email||"").toLowerCase())&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:" This email is already registered"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"user_type",children:"User Type"}),o.jsxs(en,{value:j.user_type||"Student",onValueChange:N=>b({...j,user_type:N}),children:[o.jsx(nn,{children:o.jsx(tn,{placeholder:"Select user type"})}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"Student",children:"Student"}),o.jsx(Ie,{value:"Faculty",children:"Faculty"}),o.jsx(Ie,{value:"Staff",children:"Staff"}),o.jsx(Ie,{value:"Admin",children:"Admin"})]})]})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"phone_number",children:"Phone Number"}),o.jsx(Fe,{id:"phone_number",type:"tel",value:j.phone_number||"",onChange:N=>{const z=N.target.value.replace(/[^0-9]/g,"");b({...j,phone_number:z})},placeholder:"Enter phone number (numbers only)"})]})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"college",children:"College"}),o.jsxs(en,{value:j.college||"",onValueChange:N=>b({...j,college:N}),children:[o.jsx(nn,{children:o.jsx(tn,{placeholder:"Select college"})}),o.jsx(rn,{children:Q.map(N=>o.jsx(Ie,{value:N.college_name||N.name,children:N.college_name||N.name},N.id||N.college_id))})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>{O(!1),b({})},children:"Cancel"}),o.jsx(ie,{onClick:ae,disabled:F,children:F?o.jsxs(o.Fragment,{children:[o.jsx(gt,{className:"h-4 w-4 mr-1 animate-spin"}),"Adding User..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Add User"]})})]})]})})]})}function sa({className:n,...t}){return o.jsx("textarea",{"data-slot":"textarea",className:De("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...t})}var wc="Tabs",[cA]=pn(wc,[uc]),g0=uc(),[uA,oh]=cA(wc),v0=w.forwardRef((n,t)=>{const{__scopeTabs:r,value:i,onValueChange:a,defaultValue:c,orientation:u="horizontal",dir:f,activationMode:p="automatic",...g}=n,m=cc(f),[x,y]=ar({prop:i,onChange:a,defaultProp:c??"",caller:wc});return o.jsx(uA,{scope:r,baseId:fn(),value:x,onValueChange:y,orientation:u,dir:m,activationMode:p,children:o.jsx(Le.div,{dir:m,"data-orientation":u,...g,ref:t})})});v0.displayName=wc;var x0="TabsList",y0=w.forwardRef((n,t)=>{const{__scopeTabs:r,loop:i=!0,...a}=n,c=oh(x0,r),u=g0(r);return o.jsx(uy,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:i,children:o.jsx(Le.div,{role:"tablist","aria-orientation":c.orientation,...a,ref:t})})});y0.displayName=x0;var w0="TabsTrigger",b0=w.forwardRef((n,t)=>{const{__scopeTabs:r,value:i,disabled:a=!1,...c}=n,u=oh(w0,r),f=g0(r),p=S0(u.baseId,i),g=C0(u.baseId,i),m=i===u.value;return o.jsx(dy,{asChild:!0,...f,focusable:!a,active:m,children:o.jsx(Le.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":g,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:p,...c,ref:t,onMouseDown:le(n.onMouseDown,x=>{!a&&x.button===0&&x.ctrlKey===!1?u.onValueChange(i):x.preventDefault()}),onKeyDown:le(n.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(i)}),onFocus:le(n.onFocus,()=>{const x=u.activationMode!=="manual";!m&&!a&&x&&u.onValueChange(i)})})})});b0.displayName=w0;var j0="TabsContent",_0=w.forwardRef((n,t)=>{const{__scopeTabs:r,value:i,forceMount:a,children:c,...u}=n,f=oh(j0,r),p=S0(f.baseId,i),g=C0(f.baseId,i),m=i===f.value,x=w.useRef(m);return w.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),o.jsx(sn,{present:a||m,children:({present:y})=>o.jsx(Le.div,{"data-state":m?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!y,id:g,tabIndex:0,...u,ref:t,style:{...n.style,animationDuration:x.current?"0s":void 0},children:y&&c})})});_0.displayName=j0;function S0(n,t){return`${n}-trigger-${t}`}function C0(n,t){return`${n}-content-${t}`}var dA=v0,fA=y0,hA=b0,pA=_0;function bc({className:n,...t}){return o.jsx(dA,{"data-slot":"tabs",className:De("flex flex-col gap-2",n),...t})}function jc({className:n,...t}){return o.jsx(fA,{"data-slot":"tabs-list",className:De("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...t})}function Cn({className:n,...t}){return o.jsx(hA,{"data-slot":"tabs-trigger",className:De("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...t})}function Nn({className:n,...t}){return o.jsx(pA,{"data-slot":"tabs-content",className:De("flex-1 outline-none",n),...t})}const mA=({description:n,maxLength:t=100,building:r})=>{const[i,a]=w.useState(!1),[c,u]=w.useState(!1);if(!n||n==="No description")return o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No description"});const f=n.length>t,p=i||!f?n:n.substring(0,t)+"...";return o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:p}),f&&o.jsxs(ie,{variant:"ghost",size:"sm",className:"h-auto p-0 text-xs text-blue-600 hover:text-blue-800",onClick:()=>u(!0),children:[o.jsx(Rf,{className:"h-3 w-3 mr-1"}),"Read more"]}),o.jsx(Pt,{open:c,onOpenChange:u,children:o.jsxs(At,{className:"max-w-2xl",children:[o.jsxs(Ot,{children:[o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(kn,{className:"h-5 w-5"}),r?.name]}),o.jsx(Dt,{children:"Complete building information and details"})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:r?.description||"No description available"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Building Type"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r?.building_type||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Building ID"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:r?.id||"N/A"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Address"}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(sr,{className:"h-4 w-4"}),r?.address||"Address not available"]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Total Rooms"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r?.rooms?.length||0})]}),r?.rooms&&r.rooms.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3",children:"Rooms"}),o.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:r.rooms.map((g,m)=>o.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:g.room_name}),g.room_number&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Room #",g.room_number]})]}),o.jsx("div",{className:"text-right",children:g.room_type&&o.jsx("p",{className:"text-xs text-muted-foreground",children:g.room_type})})]},m))})]})]})]})})]})},yv=Fn.memo(({buildingFormData:n,setBuildingFormData:t})=>o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"name",children:"Building Name"}),o.jsx(Fe,{id:"name",value:n.name||"",onChange:r=>t({...n,name:r.target.value}),placeholder:"Enter building name"})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"address",children:"Address"}),o.jsx(Fe,{id:"address",value:n.address||"",onChange:r=>t({...n,address:r.target.value}),placeholder:"Enter building address"})]})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"description",children:"Description"}),o.jsx(sa,{id:"description",value:n.description||"",onChange:r=>t({...n,description:r.target.value}),placeholder:"Enter building description",rows:3})]})]})),gA=Fn.memo(({roomFormData:n,setRoomFormData:t})=>o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"roomNumber",children:"Room Number"}),o.jsx(Fe,{id:"roomNumber",value:n.room_number||"",onChange:r=>t({...n,room_number:r.target.value}),placeholder:"e.g., 101"})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"roomName",children:"Room Name"}),o.jsx(Fe,{id:"roomName",value:n.room_name||"",onChange:r=>t({...n,room_name:r.target.value}),placeholder:"Enter room name"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"roomType",children:"Room Type"}),o.jsxs(en,{value:n.room_type||"Classroom",onValueChange:r=>t({...n,room_type:r}),children:[o.jsx(nn,{children:o.jsx(tn,{placeholder:"Select type"})}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"Classroom",children:"Classroom"}),o.jsx(Ie,{value:"Laboratory",children:"Laboratory"}),o.jsx(Ie,{value:"Office",children:"Office"}),o.jsx(Ie,{value:"Auditorium",children:"Auditorium"}),o.jsx(Ie,{value:"Library",children:"Library"})]})]})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"floor",children:"Floor Level"}),o.jsx(Fe,{id:"floor",type:"number",value:n.floor_level||"",onChange:r=>t({...n,floor_level:parseInt(r.target.value)||0}),placeholder:"Floor"})]})]})]}));function vA(){const[n,t]=w.useState([]),[r,i]=w.useState([]),[a,c]=w.useState(!0),[u,f]=w.useState(null),[p,g]=w.useState(""),[m,x]=w.useState(""),[y,_]=w.useState("all"),[j,b]=w.useState(""),[C,k]=w.useState("all"),[E,R]=w.useState("all"),[D,U]=w.useState(!1),[H,O]=w.useState(!1),[F,re]=w.useState(!1),[Q,se]=w.useState(!1),[oe,fe]=w.useState(null),[ae,q]=w.useState({}),[J,ne]=w.useState({}),[N,z]=w.useState("buildings"),[K,A]=w.useState(!1);w.useEffect(()=>{W()},[]);const W=async()=>{c(!0);try{const[V,ee]=await Promise.all([x1(),j1()]),Se=V.map(L=>({...L,id:L.building_id,name:L.building_name,address:L.address,rooms:ee.filter(Ne=>Ne.building_id===L.building_id)}));console.log(" Loaded buildings:",Se.length),console.log(" Loaded rooms:",ee.length),console.log(" Sample building data:",V[0]),console.log(" Sample room data:",ee[0]),console.log(" Building fields available:",V[0]?Object.keys(V[0]):"No buildings"),console.log(" Address field value:",V[0]?.address),console.log(" Building IDs:",V.map(L=>L.id)),console.log(" Room building_ids:",ee.map(L=>L.building_id)),t(Se),i(ee)}catch(V){console.error("Error loading buildings/rooms:",V)}finally{c(!1)}},ce=n.filter(V=>{if(V.name?.startsWith("DELETED_")||V.building_name?.startsWith("DELETED_"))return!1;const ee=!p||V.name?.toLowerCase().includes(p.toLowerCase())||V.address?.toLowerCase().includes(p.toLowerCase())||V.building_name?.toLowerCase().includes(p.toLowerCase())||V.building_nickname?.toLowerCase().includes(p.toLowerCase())||V.building_type?.toLowerCase().includes(p.toLowerCase()),Se=E==="all"||V.building_type?.toLowerCase()===E.toLowerCase();return ee&&Se});console.log(" Buildings state:",n.length),console.log(" Search term:",p),console.log(" Building type filter:",E),console.log(" Filtered buildings:",ce.length),console.log(" Sample building for filtering:",n[0]);const ue=async()=>{if(ae.name&&ae.address){A(!0);try{const V=await y1({name:ae.name,description:ae.description||"",address:ae.address,total_rooms:0});V&&(t([{...V,rooms:[]},...n]),q({}),U(!1))}catch(V){console.error("Error adding building:",V),alert("Failed to add building. Please try again.")}finally{A(!1)}}},Oe=async()=>{if(u&&ae.name){A(!0);try{const V=u.building_id||parseInt(u.id),ee=await w1(V,ae);if(ee){const Se={...ee,id:ee.building_id?.toString()||ee.id,name:ee.building_name||ee.name,description:ee.description,rooms:u.rooms||[]};t(n.map(L=>L.id===u.id?Se:L)),f(null),q({}),O(!1)}}catch(V){console.error("Error updating building:",V),alert("Failed to update building. Please try again.")}finally{A(!1)}}},Ce=async V=>{try{await b1(V)&&(t(n.filter(Se=>Se.id!==V)),u?.id===V&&f(null))}catch(ee){console.error("Error deleting building:",ee),alert("Failed to delete building. Please try again.")}},G=async()=>{const V=u?.id||J.building_id;if(V&&J.room_name&&J.room_number){A(!0);try{const ee=await _1({building_id:typeof V=="string"?parseInt(V):V,room_name:J.room_name,room_number:J.room_number,room_type:J.room_type||"Classroom",floor_level:J.floor_level||1});if(ee){const Se=n.map(L=>parseInt(L.id)===(typeof V=="string"?parseInt(V):V)?{...L,rooms:[...L.rooms||[],ee]}:L);t(Se),i([...r,ee]),ne({}),re(!1)}}catch(ee){console.error("Error adding room:",ee),alert("Failed to add room. Please try again.")}finally{A(!1)}}else alert("Please fill in all required room fields (Building, Name, Room Number).")};if(a)return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading buildings..."})]})});const he=Pe();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Buildings & Rooms"}),o.jsx("p",{className:"text-muted-foreground",children:he?"Manage campus buildings from database":"Database not connected"})]}),he&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Pt,{open:D,onOpenChange:U,children:[o.jsx(En,{asChild:!0,children:o.jsxs(ie,{children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Add Building"]})}),o.jsxs(At,{className:"max-w-3xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Add New Building"}),o.jsx(Dt,{children:"Create a new building entry for your campus virtual tour system."})]}),o.jsx(yv,{buildingFormData:ae,setBuildingFormData:q}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),o.jsxs(ie,{onClick:ue,disabled:K,children:[K?o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Add Building"]})]})]})]}),o.jsxs(Pt,{open:F,onOpenChange:re,children:[o.jsx(En,{asChild:!0,children:o.jsxs(ie,{variant:"outline",children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Add Room"]})}),o.jsxs(At,{className:"max-w-2xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Add New Room"}),o.jsx(Dt,{children:"Create a new room entry for a building."})]}),o.jsxs("div",{className:"space-y-4",children:[!u&&o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"buildingSelect",children:"Select Building"}),o.jsxs(en,{value:J.building_id?.toString()||"",onValueChange:V=>ne({...J,building_id:parseInt(V)}),children:[o.jsx(nn,{children:o.jsx(tn,{placeholder:"Choose a building"})}),o.jsx(rn,{children:n.map(V=>o.jsx(Ie,{value:(V.id||V.building_id)?.toString()||"",children:V.name||V.building_name},V.id||V.building_id))})]})]}),u&&o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Adding room to:"})," ",u.name]})}),o.jsx(gA,{roomFormData:J,setRoomFormData:ne})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>re(!1),children:"Cancel"}),o.jsxs(ie,{onClick:G,disabled:K,children:[K?o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Add Room"]})]})]})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(kn,{className:"h-8 w-8 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:n.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Buildings"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(sr,{className:"h-8 w-8 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:r.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Rooms"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dr,{className:"h-8 w-8 text-orange-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:n.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Buildings"})]})]})})})]}),o.jsxs(bc,{value:N,onValueChange:z,children:[o.jsxs(jc,{children:[o.jsx(Cn,{value:"buildings",children:"Buildings"}),o.jsx(Cn,{value:"rooms",children:"All Rooms"})]}),o.jsxs(Nn,{value:"buildings",className:"space-y-4",children:[o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Eo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Fe,{placeholder:"Search buildings by name, address, or type...",value:p,onChange:V=>g(V.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"w-48",children:o.jsxs(en,{value:E,onValueChange:R,children:[o.jsx(nn,{children:o.jsx(tn,{placeholder:"Filter by type"})}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"all",children:"All Types"}),o.jsx(Ie,{value:"academic",children:"Academic"}),o.jsx(Ie,{value:"non-academic",children:"Non-Academic"}),o.jsx(Ie,{value:"administrative",children:"Administrative"}),o.jsx(Ie,{value:"residential",children:"Residential"}),o.jsx(Ie,{value:"recreational",children:"Recreational"})]})]})})]})})}),ce.length===0?o.jsx(pe,{children:o.jsxs(me,{className:"p-12 text-center text-muted-foreground",children:[o.jsx(kn,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No buildings found"}),!he&&o.jsx("p",{className:"text-sm mt-2",children:"Connect your Supabase database to manage buildings"})]})}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:ce.map(V=>o.jsxs(pe,{className:"relative h-fit max-h-80 flex flex-col",children:[o.jsx(Be,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(kn,{className:"h-5 w-5"}),V.name]}),V.building_type&&o.jsx(Qe,{variant:"outline",className:"mt-2 capitalize",children:V.building_type})]}),o.jsx(Qe,{variant:"default",children:"Active"})]})}),o.jsxs(me,{className:"space-y-4 flex-1 flex flex-col",children:[o.jsxs("div",{children:[o.jsx(mA,{description:V.description,maxLength:120,building:V}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(sr,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:V.address||"Location details not available"})]})]}),o.jsx("div",{className:"text-sm",children:o.jsxs("p",{className:"font-medium",children:["Rooms: ",V.rooms?.length||0]})}),o.jsxs("div",{className:"flex gap-2 pt-4 mt-auto",children:[o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{fe(V),se(!0)},children:[o.jsx(Dr,{className:"h-4 w-4 mr-1"}),"View Rooms"]}),he&&o.jsxs(o.Fragment,{children:[o.jsxs(Pt,{open:H&&u?.id===V.id,onOpenChange:O,children:[o.jsx(En,{asChild:!0,children:o.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{f(V),q({name:V.name||V.building_name,building_name:V.building_name,building_nickname:V.building_nickname,building_type:V.building_type,address:V.address,description:V.description})},children:o.jsx(To,{className:"h-4 w-4"})})}),o.jsxs(At,{className:"max-w-3xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Edit Building"}),o.jsx(Dt,{children:"Update building information and details."})]}),o.jsx(yv,{buildingFormData:ae,setBuildingFormData:q}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),o.jsxs(ie,{onClick:Oe,disabled:K,children:[K?o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Save Changes"]})]})]})]}),o.jsxs(zr,{children:[o.jsx(Br,{asChild:!0,children:o.jsx(ie,{variant:"ghost",size:"sm",children:o.jsx($r,{className:"h-4 w-4"})})}),o.jsxs(Vr,{children:[o.jsxs(Wr,{children:[o.jsx(Kr,{children:"Delete Building"}),o.jsxs(qr,{children:["Are you sure you want to delete ",V.name,"? This will also delete all associated rooms."]})]}),o.jsxs(Hr,{children:[o.jsx(Qr,{children:"Cancel"}),o.jsx(Gr,{onClick:()=>Ce(V.id),children:"Delete"})]})]})]})]})]})]})]},V.id))})]}),o.jsx(Nn,{value:"rooms",className:"space-y-4",children:o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Eo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Fe,{placeholder:"Search rooms by name, number, type, or floor...",value:m,onChange:V=>x(V.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"w-48",children:o.jsxs(en,{value:y,onValueChange:_,children:[o.jsx(nn,{children:o.jsx(tn,{placeholder:"Filter by type"})}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"all",children:"All Types"}),o.jsx(Ie,{value:"Classroom",children:"Classroom"}),o.jsx(Ie,{value:"Laboratory",children:"Laboratory"}),o.jsx(Ie,{value:"Office",children:"Office"}),o.jsx(Ie,{value:"Auditorium",children:"Auditorium"}),o.jsx(Ie,{value:"Library",children:"Library"})]})]})}),o.jsx("div",{className:"w-28",children:o.jsx(Fe,{type:"number",inputMode:"numeric",placeholder:"Floor",value:j,onChange:V=>b(V.target.value)})})]})}),o.jsx(me,{children:n.some(V=>{const ee=m.trim().toLowerCase(),Se=j.trim();return(V.rooms||[]).filter(je=>{const We=!ee||String(je.room_name??"").toLowerCase().includes(ee)||String(je.room_number??"").toLowerCase().includes(ee)||String(je.room_type??"").toLowerCase().includes(ee)||je.floor_level!==void 0&&String(je.floor_level).toLowerCase().includes(ee),lt=y==="all"||String(je.room_type??"")===y,Ye=Se===""||je.floor_level!==void 0&&String(je.floor_level)===Se;return We&&lt&&Ye}).length>0})?o.jsx("div",{className:"space-y-6",children:n.filter(V=>{const ee=m.trim().toLowerCase(),Se=j.trim();return(V.rooms||[]).filter(je=>{const We=!ee||String(je.room_name??"").toLowerCase().includes(ee)||String(je.room_number??"").toLowerCase().includes(ee)||String(je.room_type??"").toLowerCase().includes(ee)||je.floor_level!==void 0&&String(je.floor_level).toLowerCase().includes(ee),lt=y==="all"||String(je.room_type??"")===y,Ye=Se===""||je.floor_level!==void 0&&String(je.floor_level)===Se;return We&&lt&&Ye}).length>0}).map(V=>{const ee=m.trim().toLowerCase(),Se=j.trim(),Ne=(V.rooms||[]).filter(je=>{const We=!ee||String(je.room_name??"").toLowerCase().includes(ee)||String(je.room_number??"").toLowerCase().includes(ee)||String(je.room_type??"").toLowerCase().includes(ee)||je.floor_level!==void 0&&String(je.floor_level).toLowerCase().includes(ee),lt=y==="all"||String(je.room_type??"")===y,Ye=Se===""||je.floor_level!==void 0&&String(je.floor_level)===Se;return We&&lt&&Ye});return o.jsxs("div",{className:"border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg",children:V.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Ne.length||0," rooms  ",V.building_type]})]}),o.jsx(Qe,{variant:"outline",children:V.building_type})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Ne.map(je=>o.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:je.room_name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Room #",je.room_number]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Qe,{variant:"secondary",className:"text-xs",children:je.room_type||"N/A"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Floor ",je.floor_level||"N/A"]})]})]})})},je.room_id))})]},V.id)})}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(sr,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No rooms found in any building"})]})})]})})]}),o.jsx(Pt,{open:Q,onOpenChange:se,children:o.jsxs(At,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(Ot,{children:[o.jsxs(It,{children:["Rooms in ",oe?.name]}),o.jsx(Dt,{children:"View all rooms available in this building."})]}),o.jsx("div",{className:"space-y-4",children:oe?.rooms&&oe.rooms.length>0?o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[oe.rooms.map(V=>o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:"font-semibold text-sm",children:V.room_name}),o.jsx(Qe,{variant:"secondary",className:"text-xs",children:V.room_type||"N/A"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Room #",V.room_number]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Floor ",V.floor_level||"N/A"]})]})]})})},V.room_id)),he&&o.jsx("div",{className:"bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg p-4 flex items-center justify-center hover:bg-blue-100 transition-colors cursor-pointer",onClick:()=>{f(oe),se(!1),re(!0)},children:o.jsxs("div",{className:"text-center",children:[o.jsx(Mr,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Add Room"}),o.jsx("p",{className:"text-xs text-blue-600",children:"to this building"})]})})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(sr,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No rooms found in this building"})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsx(ie,{variant:"outline",onClick:()=>se(!1),children:"Close"})})]})})]})}const Fd=n=>{if(!n||n===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,i)).toFixed(2))+" "+r[i]},wv=({formData:n,setFormData:t})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"title",children:"Title"}),o.jsx(Fe,{id:"title",value:n.title||"",onChange:r=>t({...n,title:r.target.value}),placeholder:"Enter file title"})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"description",children:"Description"}),o.jsx(sa,{id:"description",value:n.description||"",onChange:r=>t({...n,description:r.target.value}),placeholder:"Enter file description",rows:3})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"tags",children:"Tags (comma-separated)"}),o.jsx(Fe,{id:"tags",value:n.tags?.join(", ")||"",onChange:r=>t({...n,tags:r.target.value.split(",").map(i=>i.trim()).filter(Boolean)}),placeholder:"e.g., exterior, main entrance, architecture"})]})]});function xA(){const[n,t]=w.useState([]),[r,i]=w.useState(!0),[a,c]=w.useState(""),[u,f]=w.useState("all"),[p,g]=w.useState(null),[m,x]=w.useState(!1),[y,_]=w.useState({}),[j,b]=w.useState("grid"),[C,k]=w.useState(!1),[E,R]=w.useState([]),[D,U]=w.useState(!1),[H,O]=w.useState({}),[F,re]=w.useState({}),[Q,se]=w.useState({}),[oe,fe]=w.useState({}),[ae,q]=w.useState(!0),[J,ne]=w.useState(new Set),[N,z]=w.useState(!1),[K,A]=w.useState(null);w.useEffect(()=>{W(),ce()},[]);const W=async()=>{i(!0);try{const L=await S1();console.log(" Loaded content:",L.length),t(L)}catch(L){console.error("Error loading content:",L)}finally{i(!1)}},ce=async()=>{U(!0);try{let L=await D1();if(!L||L.length===0){const We=["logo","avatars"],lt=[];for(const Ye of We)try{const bt=await Ig(Ye,"",{limit:1});Array.isArray(bt)&&lt.push({name:Ye,id:Ye,public:!0,created_at:new Date().toISOString()})}catch{}L=lt}R(L),console.log(" Buckets:",L);const Ne={},je={};for(const We of L)try{const Ye=((ae?(await L1(We.name,"")).map(bt=>{const Kn=!!bt.folder&&(!bt.metadata||!bt.metadata.size),An=bt.name||bt.filename||"",Kt={name:An,id:bt.id,metadata:bt.metadata||(Kn?null:{size:0})};return Kn||(Kt.publicUrl=Qv(We.name,An)),Kt}):await Ig(We.name,"",{limit:100}))||[]).map(bt=>{const Kn=bt.name,{data:An}=ve.storage.from(We.name).getPublicUrl(Kn);let Kt=bt.publicUrl||An?.publicUrl;return!Kt&&Ir&&(Kt=`${Ir.replace(/\/$/,"")}/storage/v1/object/public/${We.name}/${encodeURIComponent(Kn)}`),{...bt,publicUrl:Kt}});Ne[We.name]=Ye,je[We.name]={"":Ye}}catch(lt){console.error("Error loading files for bucket",We.name,lt),Ne[We.name]=[],je[We.name]={"":[]}}O(Ne),re(je)}catch(L){console.error("Error loading buckets:",L)}finally{U(!1)}},ue=(L,Ne)=>{if(!L)return;const je=L.includes("?")?"&":"?",We=Ne&&Ne.trim()?Ne.trim():"download",lt=`${L}${je}download=${encodeURIComponent(We)}`,Ye=document.createElement("a");Ye.href=lt,Ye.setAttribute("download",We),Ye.rel="noopener",document.body.appendChild(Ye),Ye.click(),Ye.remove()},Oe=[{id:"image",name:"Images",count:n.filter(L=>L.content_type==="image").length,totalSize:n.filter(L=>L.content_type==="image").reduce((L,Ne)=>L+(Ne.file_size||0),0)},{id:"video",name:"Videos",count:n.filter(L=>L.content_type==="video").length,totalSize:n.filter(L=>L.content_type==="video").reduce((L,Ne)=>L+(Ne.file_size||0),0)},{id:"audio",name:"Audio",count:n.filter(L=>L.content_type==="audio").length,totalSize:n.filter(L=>L.content_type==="audio").reduce((L,Ne)=>L+(Ne.file_size||0),0)},{id:"document",name:"Documents",count:n.filter(L=>L.content_type==="document").length,totalSize:n.filter(L=>L.content_type==="document").reduce((L,Ne)=>L+(Ne.file_size||0),0)}],Ce=n.filter(L=>{const Ne=L.title?.toLowerCase().includes(a.toLowerCase())||L.description?.toLowerCase().includes(a.toLowerCase())||L.tags?.some(We=>We.toLowerCase().includes(a.toLowerCase())),je=u==="all"||L.content_type===u;return Ne&&je}),G=async()=>{if(p&&y.title){k(!0);try{const L=await C1(p.id,y);L&&(t(n.map(Ne=>Ne.id===p.id?L:Ne)),g(null),_({}),x(!1))}catch(L){console.error("Error updating content:",L),alert("Failed to update content. Please try again.")}finally{k(!1)}}},he=async L=>{try{await N1(L)&&t(n.filter(je=>je.id!==L))}catch(Ne){console.error("Error deleting content:",Ne),alert("Failed to delete content. Please try again.")}},V=L=>{switch(L){case"image":return of;case"video":return zN;case"audio":return pN;case"document":return bo;default:return bo}},ee=L=>{A(L),z(!0)};if(r)return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading content..."})]})});const Se=Pe();return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Content Management"}),o.jsx("p",{className:"text-muted-foreground",children:Se?"Manage media files from database":"Database not connected"})]})}),o.jsx("div",{className:"grid gap-4 md:grid-cols-4",children:Oe.map(L=>{const Ne=V(L.id);return o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ne,{className:"h-8 w-8 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:L.count}),o.jsx("p",{className:"text-sm text-muted-foreground",children:L.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:Fd(L.totalSize)})]})]})})},L.id)})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Eo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Fe,{placeholder:"Search files by name, description, or tags...",value:a,onChange:L=>c(L.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(en,{value:u,onValueChange:f,children:[o.jsxs(nn,{className:"w-40",children:[o.jsx(hx,{className:"h-4 w-4 mr-2"}),o.jsx(tn,{})]}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"all",children:"All Types"}),o.jsx(Ie,{value:"image",children:"Images"}),o.jsx(Ie,{value:"video",children:"Videos"}),o.jsx(Ie,{value:"audio",children:"Audio"}),o.jsx(Ie,{value:"document",children:"Documents"})]})]})})]})})}),o.jsxs(bc,{value:j,onValueChange:b,children:[o.jsxs(jc,{children:[o.jsx(Cn,{value:"grid",children:"Grid View"}),o.jsx(Cn,{value:"list",children:"List View"})]}),o.jsx(Nn,{value:"grid",className:"space-y-4",children:Ce.length===0?o.jsx(pe,{children:o.jsxs(me,{className:"p-12 text-center text-muted-foreground",children:[o.jsx(of,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No content found"}),!Se&&o.jsx("p",{className:"text-sm mt-2",children:"Connect your Supabase database to manage content"})]})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Ce.map(L=>{const Ne=V(L.content_type);return o.jsx(pe,{className:"relative group",children:o.jsxs(me,{className:"p-4",children:[o.jsxs("div",{className:"aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-3 relative overflow-hidden",children:[L.content_type==="image"&&(L.thumbnail_url||L.file_url)&&!J.has(L.id)?o.jsx("img",{src:L.thumbnail_url||L.file_url,alt:L.title,className:"w-full h-full object-contain",loading:"lazy",onError:()=>{ne(je=>new Set(je).add(L.id))}}):o.jsx("div",{className:"w-full h-full flex items-center justify-center p-2",children:o.jsx("div",{className:"w-full h-full bg-white text-gray-400 rounded flex items-center justify-center",children:o.jsx(Ne,{className:"h-12 w-12"})})}),o.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-200 flex items-center justify-center",children:o.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex gap-2",children:[o.jsx(ie,{variant:"secondary",size:"sm",onClick:()=>ee(L),children:o.jsx(Dr,{className:"h-4 w-4"})}),o.jsx(ie,{variant:"secondary",size:"sm",onClick:()=>ue(L.file_url,L.title),children:o.jsx(Mi,{className:"h-4 w-4"})}),Se&&o.jsxs(zr,{children:[o.jsx(Br,{asChild:!0,children:o.jsx(ie,{variant:"secondary",size:"sm",children:o.jsx($r,{className:"h-4 w-4"})})}),o.jsxs(Vr,{children:[o.jsxs(Wr,{children:[o.jsx(Kr,{children:"Delete File"}),o.jsxs(qr,{children:["Are you sure you want to delete ",L.title,"? This action cannot be undone."]})]}),o.jsxs(Hr,{children:[o.jsx(Qr,{children:"Cancel"}),o.jsx(Gr,{onClick:()=>he(L.id),children:"Delete"})]})]})]}),Se&&o.jsxs(Pt,{open:m&&p?.id===L.id,onOpenChange:x,children:[o.jsx(En,{asChild:!0,children:o.jsx(ie,{variant:"secondary",size:"sm",onClick:()=>{g(L),_(L),x(!0)},children:o.jsx(To,{className:"h-4 w-4"})})}),o.jsxs(At,{className:"max-w-2xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Edit Media File"}),o.jsx(Dt,{children:"Update media file information and metadata."})]}),o.jsx(wv,{formData:y,setFormData:_}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),o.jsxs(ie,{onClick:G,disabled:C,children:[C?o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Save Changes"]})]})]})]})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"font-medium text-sm truncate",children:L.title}),o.jsx(Qe,{variant:"default",className:"text-xs capitalize",children:L.content_type})]}),o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:L.description||"No description"}),o.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:o.jsx("span",{children:Fd(L.file_size||0)})}),L.tags&&L.tags.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1",children:[L.tags.slice(0,2).map((je,We)=>o.jsx(Qe,{variant:"outline",className:"text-xs",children:je},We)),L.tags.length>2&&o.jsxs(Qe,{variant:"outline",className:"text-xs",children:["+",L.tags.length-2]})]})]})]})},L.id)})})}),o.jsx(Nn,{value:"list",className:"space-y-4",children:o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{children:["Media Files (",Ce.length,")"]})}),o.jsx(me,{children:Ce.length===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:o.jsx("p",{children:"No content found"})}):o.jsxs(nh,{children:[o.jsx(rh,{children:o.jsxs(Oo,{children:[o.jsx(Wt,{children:"File"}),o.jsx(Wt,{children:"Type"}),o.jsx(Wt,{children:"Size"}),o.jsx(Wt,{children:"Actions"})]})}),o.jsx(sh,{children:Ce.map(L=>{const Ne=V(L.content_type);return o.jsxs(Oo,{children:[o.jsx(Ht,{children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ne,{className:"h-8 w-8 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:L.title}),o.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-xs",children:L.description||"No description"}),L.tags&&L.tags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:L.tags.slice(0,3).map((je,We)=>o.jsx(Qe,{variant:"outline",className:"text-xs",children:je},We))})]})]})}),o.jsx(Ht,{children:o.jsx(Qe,{variant:"outline",className:"capitalize",children:L.content_type})}),o.jsx(Ht,{children:o.jsx("p",{children:Fd(L.file_size||0)})}),o.jsx(Ht,{children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>ee(L),children:o.jsx(Dr,{className:"h-4 w-4"})}),o.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>ue(L.file_url,L.title),children:o.jsx(Mi,{className:"h-4 w-4"})}),Se&&o.jsxs(o.Fragment,{children:[o.jsxs(Pt,{open:m&&p?.id===L.id,onOpenChange:x,children:[o.jsx(En,{asChild:!0,children:o.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{g(L),_(L),x(!0)},children:o.jsx(To,{className:"h-4 w-4"})})}),o.jsxs(At,{className:"max-w-2xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Edit Media File"}),o.jsx(Dt,{children:"Update media file information and metadata."})]}),o.jsx(wv,{formData:y,setFormData:_}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),o.jsxs(ie,{onClick:G,disabled:C,children:[C?o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Save Changes"]})]})]})]}),o.jsxs(zr,{children:[o.jsx(Br,{asChild:!0,children:o.jsx(ie,{variant:"ghost",size:"sm",children:o.jsx($r,{className:"h-4 w-4"})})}),o.jsxs(Vr,{children:[o.jsxs(Wr,{children:[o.jsx(Kr,{children:"Delete File"}),o.jsxs(qr,{children:["Are you sure you want to delete ",L.title,"? This action cannot be undone."]})]}),o.jsxs(Hr,{children:[o.jsx(Qr,{children:"Cancel"}),o.jsx(Gr,{onClick:()=>he(L.id),children:"Delete"})]})]})]})]})]})})]},L.id)})})]})})]})})]}),o.jsx(Pt,{open:N,onOpenChange:z,children:o.jsxs(At,{className:"max-w-3xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:K?.title||"Preview"}),o.jsx(Dt,{children:K?.description||""})]}),o.jsx("div",{className:"w-full",children:K?K.content_type==="image"?o.jsx("img",{src:K.thumbnail_url||K.file_url,alt:K.title,className:"w-full h-auto rounded"}):o.jsx("div",{className:"flex items-center justify-center h-64 bg-gray-100 rounded",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"No inline preview available"})}):null}),o.jsxs("div",{className:"flex justify-end gap-2",children:[K?.file_url?o.jsxs(ie,{variant:"outline",onClick:()=>ue(K.file_url,K.title),children:[o.jsx(Mi,{className:"h-4 w-4 mr-2"})," Download"]}):null,o.jsx(ie,{onClick:()=>z(!1),children:"Close"})]})]})})]})}function yA(){const[n,t]=w.useState([]),[r,i]=w.useState(!0),[a,c]=w.useState(""),[u,f]=w.useState(null),[p,g]=w.useState(!1),[m,x]=w.useState(!1),[y,_]=w.useState({}),[j,b]=w.useState(!1);w.useEffect(()=>{C()},[]);const C=async()=>{i(!0);try{const O=await k1();console.log(" Loaded tours:",O.length),t(O)}catch(O){console.error("Error loading tours:",O)}finally{i(!1)}},k=n.filter(O=>O.name?.toLowerCase().includes(a.toLowerCase())||O.description?.toLowerCase().includes(a.toLowerCase())),E=async()=>{if(y.name&&y.description){b(!0);try{const O=await E1({name:y.name,description:y.description,tour_type:y.tour_type||"self_guided",estimated_duration:y.estimated_duration||30,is_active:!0,total_stops:0});O&&(t([O,...n]),_({}),g(!1))}catch(O){console.error("Error adding tour:",O),alert("Failed to add tour. Please try again.")}finally{b(!1)}}},R=async()=>{if(u&&y.name){b(!0);try{const O=await T1(u.id,y);O&&(t(n.map(F=>F.id===u.id?O:F)),f(null),_({}),x(!1))}catch(O){console.error("Error updating tour:",O),alert("Failed to update tour. Please try again.")}finally{b(!1)}}},D=async O=>{try{await R1(O)&&t(n.filter(re=>re.id!==O))}catch(F){console.error("Error deleting tour:",F),alert("Failed to delete tour. Please try again.")}},U=({tour:O})=>o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"tourName",children:"Tour Name"}),o.jsx(Fe,{id:"tourName",value:y.name||"",onChange:F=>_({...y,name:F.target.value}),placeholder:"Enter tour name"})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"type",children:"Type"}),o.jsxs(en,{value:y.tour_type||"self_guided",onValueChange:F=>_({...y,tour_type:F}),children:[o.jsx(nn,{children:o.jsx(tn,{placeholder:"Select type"})}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"self_guided",children:"Self Guided"}),o.jsx(Ie,{value:"guided",children:"Guided"}),o.jsx(Ie,{value:"virtual",children:"Virtual"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"description",children:"Description"}),o.jsx(sa,{id:"description",value:y.description||"",onChange:F=>_({...y,description:F.target.value}),placeholder:"Enter tour description",rows:3})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"duration",children:"Estimated Duration (minutes)"}),o.jsx(Fe,{id:"duration",type:"number",value:y.estimated_duration||"",onChange:F=>_({...y,estimated_duration:parseInt(F.target.value)||30}),placeholder:"Duration in minutes"})]})]});if(r)return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading tours..."})]})});const H=Pe();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Tours & Trails"}),o.jsx("p",{className:"text-muted-foreground",children:H?"Manage virtual tours from database":"Database not connected"})]}),H&&o.jsxs(Pt,{open:p,onOpenChange:g,children:[o.jsx(En,{asChild:!0,children:o.jsxs(ie,{children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Create Tour"]})}),o.jsxs(At,{className:"max-w-2xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Create New Tour"}),o.jsx(Dt,{children:"Create a new virtual tour with multiple stops and media content."})]}),o.jsx(U,{}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),o.jsxs(ie,{onClick:E,disabled:j,children:[j?o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Create Tour"]})]})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(jo,{className:"h-8 w-8 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:n.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tours"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xN,{className:"h-8 w-8 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:n.filter(O=>O.is_active).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Tours"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(sr,{className:"h-8 w-8 text-purple-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:n.reduce((O,F)=>O+(F.total_stops||0),0)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Stops"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($l,{className:"h-8 w-8 text-orange-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:Math.round(n.reduce((O,F)=>O+(F.estimated_duration||0),0)/(n.length||1))}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Duration (min)"})]})]})})})]}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Eo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Fe,{placeholder:"Search tours by name or description...",value:a,onChange:O=>c(O.target.value),className:"pl-10"})]})})}),k.length===0?o.jsx(pe,{children:o.jsxs(me,{className:"p-12 text-center text-muted-foreground",children:[o.jsx(jo,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No tours found"}),!H&&o.jsx("p",{className:"text-sm mt-2",children:"Connect your Supabase database to manage tours"})]})}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:k.map(O=>o.jsxs(pe,{className:"relative",children:[o.jsx(Be,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(jo,{className:"h-5 w-5"}),O.name]}),o.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:O.tour_type?.replace("_"," ")||"Tour"})]}),o.jsx(Qe,{variant:O.is_active?"default":"secondary",children:O.is_active?"Active":"Inactive"})]})}),o.jsxs(me,{className:"space-y-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:O.description||"No description"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx($l,{className:"h-3 w-3"}),o.jsxs("span",{children:[O.estimated_duration||0," min"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(sr,{className:"h-3 w-3"}),o.jsxs("span",{children:[O.total_stops||0," stops"]})]})]}),o.jsx("div",{className:"flex gap-2 pt-4",children:H&&o.jsxs(o.Fragment,{children:[o.jsxs(Pt,{open:m&&u?.id===O.id,onOpenChange:x,children:[o.jsx(En,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{f(O),_(O)},children:[o.jsx(To,{className:"h-4 w-4 mr-1"}),"Edit"]})}),o.jsxs(At,{className:"max-w-2xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Edit Tour"}),o.jsx(Dt,{children:"Update tour information and settings."})]}),o.jsx(U,{tour:O}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),o.jsxs(ie,{onClick:R,disabled:j,children:[j?o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Save Changes"]})]})]})]}),o.jsxs(zr,{children:[o.jsx(Br,{asChild:!0,children:o.jsx(ie,{variant:"ghost",size:"sm",children:o.jsx($r,{className:"h-4 w-4"})})}),o.jsxs(Vr,{children:[o.jsxs(Wr,{children:[o.jsx(Kr,{children:"Delete Tour"}),o.jsxs(qr,{children:['Are you sure you want to delete "',O.name,'"? This action cannot be undone.']})]}),o.jsxs(Hr,{children:[o.jsx(Qr,{children:"Cancel"}),o.jsx(Gr,{onClick:()=>D(O.id),children:"Delete"})]})]})]})]})})]})]},O.id))})]})}function wA(){const[n,t]=w.useState([]),[r,i]=w.useState(!0),[a,c]=w.useState(""),[u,f]=w.useState("all"),[p,g]=w.useState(null),[m,x]=w.useState(!1),[y,_]=w.useState(!1),[j,b]=w.useState(!1),[C,k]=w.useState({}),[E,R]=w.useState("grid"),[D,U]=w.useState(!1);w.useEffect(()=>{H()},[]);const H=async()=>{i(!0);try{const q=await P1();console.log(" Loaded QR codes:",q.length),t(q)}catch(q){console.error("Error loading QR codes:",q)}finally{i(!1)}},O=n.filter(q=>{const J=q.title?.toLowerCase().includes(a.toLowerCase())||q.description?.toLowerCase().includes(a.toLowerCase()),ne=u==="all"||q.destination_type===u;return J&&ne}),F=async()=>{if(C.title&&C.destination_type&&C.destination_id){U(!0);try{const q=await A1({code:`QR_${Date.now()}`,title:C.title,description:C.description||"",destination_type:C.destination_type,destination_id:C.destination_id,qr_url:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${C.destination_id}`,scan_count:0,is_active:!0});q&&(t([q,...n]),k({}),x(!1))}catch(q){console.error("Error generating QR code:",q),alert("Failed to generate QR code. Please try again.")}finally{U(!1)}}},re=async()=>{if(p&&C.title){U(!0);try{const q=await O1(p.id,C);q&&(t(n.map(J=>J.id===p.id?q:J)),g(null),k({}),_(!1))}catch(q){console.error("Error updating QR code:",q),alert("Failed to update QR code. Please try again.")}finally{U(!1)}}},Q=async q=>{try{await I1(q)&&t(n.filter(ne=>ne.id!==q))}catch(J){console.error("Error deleting QR code:",J),alert("Failed to delete QR code. Please try again.")}},se=()=>{const q=[["Title","Type","Destination ID","Scans","Status"],...O.map(z=>[z.title,z.destination_type,z.destination_id,z.scan_count||0,z.is_active?"Active":"Inactive"])].map(z=>z.join(",")).join(`
`),J=new Blob([q],{type:"text/csv"}),ne=window.URL.createObjectURL(J),N=document.createElement("a");N.href=ne,N.download="qr-codes.csv",N.click()},oe=({qr:q})=>o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"qrTitle",children:"QR Code Title"}),o.jsx(Fe,{id:"qrTitle",value:C.title||"",onChange:J=>k({...C,title:J.target.value}),placeholder:"Enter QR code title"})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"description",children:"Description"}),o.jsx(sa,{id:"description",value:C.description||"",onChange:J=>k({...C,description:J.target.value}),placeholder:"Enter description",rows:2})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"type",children:"Destination Type"}),o.jsxs(en,{value:C.destination_type||"",onValueChange:J=>k({...C,destination_type:J}),children:[o.jsx(nn,{children:o.jsx(tn,{placeholder:"Select type"})}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"building",children:"Building"}),o.jsx(Ie,{value:"room",children:"Room"}),o.jsx(Ie,{value:"tour",children:"Tour"})]})]})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"destinationId",children:"Destination ID"}),o.jsx(Fe,{id:"destinationId",value:C.destination_id||"",onChange:J=>k({...C,destination_id:J.target.value}),placeholder:"Enter ID"})]})]})]}),fe=({qr:q})=>o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-48 h-48 bg-white border-2 border-gray-300 rounded-lg mx-auto flex items-center justify-center",children:o.jsx("div",{className:"w-40 h-40 bg-gray-900 rounded-lg flex items-center justify-center",children:o.jsx(rr,{className:"h-32 w-32 text-white"})})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"font-semibold",children:q.title}),o.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:q.destination_type}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[q.scan_count||0," scans"]})]})]});if(r)return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading QR codes..."})]})});const ae=Pe();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"QR Code Manager"}),o.jsx("p",{className:"text-muted-foreground",children:ae?"Manage QR codes from database":"Database not connected"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ie,{variant:"outline",onClick:se,children:[o.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Export"]}),ae&&o.jsxs(Pt,{open:m,onOpenChange:x,children:[o.jsx(En,{asChild:!0,children:o.jsxs(ie,{children:[o.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Generate QR Code"]})}),o.jsxs(At,{className:"max-w-2xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Generate New QR Code"}),o.jsx(Dt,{children:"Create a new QR code for a specific location or content in your virtual tour."})]}),o.jsx(oe,{}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),o.jsxs(ie,{onClick:F,disabled:D,children:[D?o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Generate QR Code"]})]})]})]})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rr,{className:"h-8 w-8 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:n.length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total QR Codes"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Wg,{className:"h-8 w-8 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:n.reduce((q,J)=>q+(J.scan_count||0),0)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Scans"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dr,{className:"h-8 w-8 text-purple-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:n.filter(q=>q.is_active).length}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Codes"})]})]})})}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(sr,{className:"h-8 w-8 text-orange-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-semibold",children:new Set(n.map(q=>q.destination_type)).size}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Types"})]})]})})})]}),o.jsx(pe,{children:o.jsx(me,{className:"p-6",children:o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Eo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(Fe,{placeholder:"Search QR codes by title or description...",value:a,onChange:q=>c(q.target.value),className:"pl-10"})]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs(en,{value:u,onValueChange:f,children:[o.jsx(nn,{className:"w-40",children:o.jsx(tn,{})}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"all",children:"All Types"}),o.jsx(Ie,{value:"building",children:"Building"}),o.jsx(Ie,{value:"room",children:"Room"}),o.jsx(Ie,{value:"tour",children:"Tour"})]})]})})]})})}),o.jsxs(bc,{value:E,onValueChange:R,children:[o.jsxs(jc,{children:[o.jsx(Cn,{value:"grid",children:"Grid View"}),o.jsx(Cn,{value:"list",children:"List View"})]}),o.jsx(Nn,{value:"grid",className:"space-y-4",children:O.length===0?o.jsx(pe,{children:o.jsxs(me,{className:"p-12 text-center text-muted-foreground",children:[o.jsx(rr,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No QR codes found"}),!ae&&o.jsx("p",{className:"text-sm mt-2",children:"Connect your Supabase database to manage QR codes"})]})}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:O.map(q=>o.jsxs(pe,{className:"relative group",children:[o.jsx(Be,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rr,{className:"h-5 w-5"}),o.jsxs("div",{children:[o.jsx(He,{className:"text-sm",children:q.title}),o.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:q.destination_type})]})]}),o.jsx(Qe,{variant:q.is_active?"default":"secondary",className:"text-xs",children:q.is_active?"Active":"Inactive"})]})}),o.jsxs(me,{className:"space-y-3",children:[o.jsxs("div",{className:"aspect-square bg-white border-2 border-gray-300 rounded-lg flex items-center justify-center relative overflow-hidden",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-900 rounded flex items-center justify-center",children:o.jsx(rr,{className:"h-16 w-16 text-white"})}),o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center",children:o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex gap-1",children:o.jsxs(Pt,{open:j&&p?.id===q.id,onOpenChange:b,children:[o.jsx(En,{asChild:!0,children:o.jsx(ie,{variant:"secondary",size:"sm",onClick:()=>g(q),children:o.jsx(Dr,{className:"h-4 w-4"})})}),o.jsxs(At,{children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"QR Code Preview"}),o.jsx(Dt,{children:"View and download QR code."})]}),o.jsx(fe,{qr:q})]})]})})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:q.description||"No description"}),o.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:o.jsxs("span",{children:[q.scan_count||0," scans"]})})]}),ae&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Pt,{open:y&&p?.id===q.id,onOpenChange:_,children:[o.jsx(En,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{g(q),k(q)},children:[o.jsx(To,{className:"h-4 w-4 mr-1"}),"Edit"]})}),o.jsxs(At,{className:"max-w-2xl",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Edit QR Code"}),o.jsx(Dt,{children:"Update QR code information and settings."})]}),o.jsx(oe,{qr:q}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),o.jsxs(ie,{onClick:re,disabled:D,children:[D?o.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Save Changes"]})]})]})]}),o.jsxs(zr,{children:[o.jsx(Br,{asChild:!0,children:o.jsx(ie,{variant:"outline",size:"sm",children:o.jsx($r,{className:"h-4 w-4"})})}),o.jsxs(Vr,{children:[o.jsxs(Wr,{children:[o.jsx(Kr,{children:"Delete QR Code"}),o.jsxs(qr,{children:['Are you sure you want to delete "',q.title,'"? This action cannot be undone.']})]}),o.jsxs(Hr,{children:[o.jsx(Qr,{children:"Cancel"}),o.jsx(Gr,{onClick:()=>Q(q.id),children:"Delete"})]})]})]})]})]})]},q.id))})}),o.jsx(Nn,{value:"list",className:"space-y-4",children:o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{children:["QR Codes (",O.length,")"]})}),o.jsx(me,{children:O.length===0?o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:o.jsx("p",{children:"No QR codes found"})}):o.jsxs(nh,{children:[o.jsx(rh,{children:o.jsxs(Oo,{children:[o.jsx(Wt,{children:"QR Code"}),o.jsx(Wt,{children:"Type"}),o.jsx(Wt,{children:"Destination"}),o.jsx(Wt,{children:"Scans"}),o.jsx(Wt,{children:"Status"}),o.jsx(Wt,{children:"Actions"})]})}),o.jsx(sh,{children:O.map(q=>o.jsxs(Oo,{children:[o.jsx(Ht,{children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded flex items-center justify-center",children:o.jsx(rr,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:q.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:q.code})]})]})}),o.jsx(Ht,{children:o.jsx(Qe,{variant:"outline",className:"capitalize",children:q.destination_type})}),o.jsx(Ht,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(sr,{className:"h-3 w-3"}),o.jsx("span",{className:"text-sm",children:q.destination_id})]})}),o.jsx(Ht,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Wg,{className:"h-3 w-3"}),o.jsx("span",{children:q.scan_count||0})]})}),o.jsx(Ht,{children:o.jsx(Qe,{variant:q.is_active?"default":"secondary",children:q.is_active?"Active":"Inactive"})}),o.jsx(Ht,{children:o.jsx("div",{className:"flex gap-2",children:ae&&o.jsxs(o.Fragment,{children:[o.jsx(ie,{variant:"ghost",size:"sm",children:o.jsx(Dr,{className:"h-4 w-4"})}),o.jsx(ie,{variant:"ghost",size:"sm",children:o.jsx(To,{className:"h-4 w-4"})}),o.jsxs(zr,{children:[o.jsx(Br,{asChild:!0,children:o.jsx(ie,{variant:"ghost",size:"sm",children:o.jsx($r,{className:"h-4 w-4"})})}),o.jsxs(Vr,{children:[o.jsxs(Wr,{children:[o.jsx(Kr,{children:"Delete QR Code"}),o.jsx(qr,{children:"Are you sure you want to delete this QR code?"})]}),o.jsxs(Hr,{children:[o.jsx(Qr,{children:"Cancel"}),o.jsx(Gr,{onClick:()=>Q(q.id),children:"Delete"})]})]})]})]})})})]},q.id))})]})})]})})]})]})}var _c="Switch",[bA]=pn(_c),[jA,_A]=bA(_c),N0=w.forwardRef((n,t)=>{const{__scopeSwitch:r,name:i,checked:a,defaultChecked:c,required:u,disabled:f,value:p="on",onCheckedChange:g,form:m,...x}=n,[y,_]=w.useState(null),j=Ve(t,R=>_(R)),b=w.useRef(!1),C=y?m||!!y.closest("form"):!0,[k,E]=ar({prop:a,defaultProp:c??!1,onChange:g,caller:_c});return o.jsxs(jA,{scope:r,checked:k,disabled:f,children:[o.jsx(Le.button,{type:"button",role:"switch","aria-checked":k,"aria-required":u,"data-state":R0(k),"data-disabled":f?"":void 0,disabled:f,value:p,...x,ref:j,onClick:le(n.onClick,R=>{E(D=>!D),C&&(b.current=R.isPropagationStopped(),b.current||R.stopPropagation())})}),C&&o.jsx(T0,{control:y,bubbles:!b.current,name:i,value:p,checked:k,required:u,disabled:f,form:m,style:{transform:"translateX(-100%)"}})]})});N0.displayName=_c;var k0="SwitchThumb",E0=w.forwardRef((n,t)=>{const{__scopeSwitch:r,...i}=n,a=_A(k0,r);return o.jsx(Le.span,{"data-state":R0(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})});E0.displayName=k0;var SA="SwitchBubbleInput",T0=w.forwardRef(({__scopeSwitch:n,control:t,checked:r,bubbles:i=!0,...a},c)=>{const u=w.useRef(null),f=Ve(u,c),p=sw(r),g=Px(t);return w.useEffect(()=>{const m=u.current;if(!m)return;const x=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(x,"checked").set;if(p!==r&&_){const j=new Event("click",{bubbles:i});_.call(m,r),m.dispatchEvent(j)}},[p,r,i]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:f,style:{...a.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});T0.displayName=SA;function R0(n){return n?"checked":"unchecked"}var CA=N0,NA=E0;function vs({className:n,...t}){return o.jsx(CA,{"data-slot":"switch",className:De("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...t,children:o.jsx(NA,{"data-slot":"switch-thumb",className:De("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var kA="Separator",bv="horizontal",EA=["horizontal","vertical"],P0=w.forwardRef((n,t)=>{const{decorative:r,orientation:i=bv,...a}=n,c=TA(i)?i:bv,f=r?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return o.jsx(Le.div,{"data-orientation":c,...f,...a,ref:t})});P0.displayName=kA;function TA(n){return EA.includes(n)}var RA=P0;function bs({className:n,orientation:t="horizontal",decorative:r=!0,...i}){return o.jsx(RA,{"data-slot":"separator-root",decorative:r,orientation:t,className:De("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...i})}function PA(){const[n,t]=w.useState(!0),[r,i]=w.useState([]),[a,c]=w.useState(null),u=async()=>{t(!0),c(null);try{if(!Pe()){c("Supabase is not configured"),t(!1);return}const f=["Users","users","User","user","Building","Buildings","building","buildings","Room","Rooms","room","rooms","Content","content","Tours","tours","Tour","tour","QR Code","QR_Codes","qr_codes"],p=[];for(const g of f)try{const{data:m,error:x,count:y}=await ve.from(g).select("*",{count:"exact"}).limit(1);if(!x&&m!==null){const _=m.length>0?Object.keys(m[0]):[],j=m.length>0?m[0]:null;p.push({name:g,exists:!0,rowCount:y,columns:_,sampleRow:j,error:null});const b=g.toLowerCase().replace(/s$/,"");f.filter(k=>k.toLowerCase().replace(/s$/,"")===b&&k!==g).forEach(k=>{const E=f.indexOf(k);E>-1&&f.splice(E,1)})}}catch{}i(p)}catch(f){c(f.message)}finally{t(!1)}};return w.useEffect(()=>{u()},[]),n?o.jsx("div",{className:"flex items-center justify-center p-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),o.jsx("p",{className:"text-muted-foreground",children:"Inspecting database..."})]})}):a?o.jsxs(_s,{className:"bg-red-50 border-red-200",children:[o.jsx(sf,{className:"h-4 w-4 text-red-600"}),o.jsxs(Ss,{className:"text-red-800",children:[o.jsx("strong",{children:"Error:"})," ",a]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(pe,{className:"bg-blue-50 border-blue-200",children:o.jsxs(me,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(ko,{className:"h-5 w-5 text-blue-600"}),o.jsx("h3",{className:"font-semibold text-blue-800",children:"Database Introspection Tool"})]}),o.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"This tool shows the actual structure of your Supabase database tables, including exact column names and sample data."}),o.jsxs(ie,{onClick:u,size:"sm",variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[o.jsx(ko,{className:"h-4 w-4 mr-2"}),"Refresh Inspection"]})]})}),r.length===0?o.jsxs(_s,{className:"bg-yellow-50 border-yellow-200",children:[o.jsx(Fl,{className:"h-4 w-4 text-yellow-600"}),o.jsx(Ss,{className:"text-yellow-800",children:"No tables found in your database. Make sure your Supabase project has tables created."})]}):o.jsx("div",{className:"grid gap-4",children:r.map(f=>o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rf,{className:"h-5 w-5 text-green-500"}),o.jsxs(He,{children:["Table: ",f.name]})]}),o.jsxs(Qe,{variant:"outline",className:"text-sm",children:[f.rowCount," ",f.rowCount===1?"row":"rows"]})]})}),o.jsxs(me,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-sm font-semibold mb-2",children:["Columns (",f.columns.length,"):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:f.columns.map(p=>o.jsx(Qe,{variant:"secondary",className:"font-mono text-xs",children:p},p))})]}),f.sampleRow&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Sample Row:"}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-3 overflow-x-auto",children:o.jsx("pre",{className:"text-xs font-mono",children:JSON.stringify(f.sampleRow,null,2)})})]}),f.name.toLowerCase().includes("user")&&o.jsxs(_s,{className:"bg-green-50 border-green-200",children:[o.jsx(Fl,{className:"h-4 w-4 text-green-600"}),o.jsxs(Ss,{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Auto-Detection Active:"})," The code will automatically map these columns to the expected format:",o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[f.columns.find(p=>p.toLowerCase().includes("name"))&&o.jsxs("li",{children:[o.jsx("code",{className:"bg-white px-1 rounded",children:f.columns.find(p=>p.toLowerCase().includes("name"))}),"  ",o.jsx("code",{className:"bg-white px-1 rounded",children:"full_name"})]}),f.columns.find(p=>p.toLowerCase()==="email")&&o.jsxs("li",{children:[o.jsx("code",{className:"bg-white px-1 rounded",children:f.columns.find(p=>p.toLowerCase()==="email")}),"  ",o.jsx("code",{className:"bg-white px-1 rounded",children:"email"})]}),f.columns.find(p=>p.toLowerCase()==="role")&&o.jsxs("li",{children:[o.jsx("code",{className:"bg-white px-1 rounded",children:f.columns.find(p=>p.toLowerCase()==="role")}),"  ",o.jsx("code",{className:"bg-white px-1 rounded",children:"role"})]})]})]})]})]})]},f.name))})]})}const jv={campusName:"University Campus",campusAddress:"123 University Avenue, Campus City, CC 12345",campusWebsite:"https://www.university.edu",adminEmail:"admin@university.edu",defaultTourDuration:45,maxFileSize:50,supportedLanguages:["English","Spanish","French"],maintenanceMode:!1,userRegistration:!0,emailNotifications:!0,tourRatings:!0,publicTours:!0,geoLocation:!0,analyticsEnabled:!0,backupFrequency:"daily",maxUsers:5e3,storageLimit:100,apiEndpoint:"https://api.campus-tour.edu",databaseHost:"localhost:5432",theme:"light"},Rr={totalRecords:15847,storageUsed:2.4,lastBackup:"2 hours ago",uptime:"99.8%",activeUsers:234,serverLoad:23,databaseConnections:45,memoryUsage:67};function AA(){const[n,t]=w.useState(jv),[r,i]=w.useState("general"),[a,c]=w.useState(!1),u=(y,_)=>{t(j=>({...j,[y]:_})),c(!0)},f=()=>{console.log("Saving settings:",n),c(!1)},p=()=>{t(jv),c(!1)},g=()=>{console.log("Running backup...")},m=()=>{console.log("Clearing cache...")},x=()=>{console.log("Optimizing database...")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Settings"}),o.jsx("p",{className:"text-muted-foreground",children:"Configure system settings and preferences"})]}),o.jsxs("div",{className:"flex gap-2",children:[a&&o.jsxs(ie,{variant:"outline",onClick:p,children:[o.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Reset"]}),o.jsxs(ie,{onClick:f,disabled:!a,children:[o.jsx(SN,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),o.jsxs(bc,{value:r,onValueChange:i,children:[o.jsxs(jc,{className:"grid w-full grid-cols-5",children:[o.jsx(Cn,{value:"general",children:"General"}),o.jsx(Cn,{value:"features",children:"Features"}),o.jsx(Cn,{value:"security",children:"Security"}),o.jsx(Cn,{value:"database",children:"Database"}),o.jsx(Cn,{value:"system",children:"System"})]}),o.jsxs(Nn,{value:"general",className:"space-y-6",children:[o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(tN,{className:"h-5 w-5"}),"Campus Information"]})}),o.jsxs(me,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"campusName",children:"Campus Name"}),o.jsx(Fe,{id:"campusName",value:n.campusName,onChange:y=>u("campusName",y.target.value)})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"adminEmail",children:"Admin Email"}),o.jsx(Fe,{id:"adminEmail",type:"email",value:n.adminEmail,onChange:y=>u("adminEmail",y.target.value)})]})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"campusAddress",children:"Campus Address"}),o.jsx(sa,{id:"campusAddress",value:n.campusAddress,onChange:y=>u("campusAddress",y.target.value),rows:2})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"campusWebsite",children:"Campus Website"}),o.jsx(Fe,{id:"campusWebsite",type:"url",value:n.campusWebsite,onChange:y=>u("campusWebsite",y.target.value)})]})]})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(Yl,{className:"h-5 w-5"}),"Default Settings"]})}),o.jsxs(me,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"defaultTourDuration",children:"Default Tour Duration (minutes)"}),o.jsx(Fe,{id:"defaultTourDuration",type:"number",value:n.defaultTourDuration,onChange:y=>u("defaultTourDuration",parseInt(y.target.value))})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"maxFileSize",children:"Max File Size (MB)"}),o.jsx(Fe,{id:"maxFileSize",type:"number",value:n.maxFileSize,onChange:y=>u("maxFileSize",parseInt(y.target.value))})]})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"theme",children:"Theme"}),o.jsxs(en,{value:n.theme,onValueChange:y=>u("theme",y),children:[o.jsx(nn,{children:o.jsx(tn,{})}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"light",children:"Light"}),o.jsx(Ie,{value:"dark",children:"Dark"}),o.jsx(Ie,{value:"auto",children:"Auto"})]})]})]})]})]})]}),o.jsxs(Nn,{value:"features",className:"space-y-6",children:[o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(Ui,{className:"h-5 w-5"}),"User Features"]})}),o.jsxs(me,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"userRegistration",children:"User Registration"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow new users to register for tours"})]}),o.jsx(vs,{id:"userRegistration",checked:n.userRegistration,onCheckedChange:y=>u("userRegistration",y)})]}),o.jsx(bs,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"tourRatings",children:"Tour Ratings"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable tour rating and review system"})]}),o.jsx(vs,{id:"tourRatings",checked:n.tourRatings,onCheckedChange:y=>u("tourRatings",y)})]}),o.jsx(bs,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"publicTours",children:"Public Tours"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow tours to be publicly accessible"})]}),o.jsx(vs,{id:"publicTours",checked:n.publicTours,onCheckedChange:y=>u("publicTours",y)})]}),o.jsx(bs,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"geoLocation",children:"Geo-location"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable location-based features"})]}),o.jsx(vs,{id:"geoLocation",checked:n.geoLocation,onCheckedChange:y=>u("geoLocation",y)})]})]})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(fx,{className:"h-5 w-5"}),"Notifications"]})}),o.jsxs(me,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"emailNotifications",children:"Email Notifications"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications to users"})]}),o.jsx(vs,{id:"emailNotifications",checked:n.emailNotifications,onCheckedChange:y=>u("emailNotifications",y)})]}),o.jsx(bs,{}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"analyticsEnabled",children:"Analytics"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable usage analytics and tracking"})]}),o.jsx(vs,{id:"analyticsEnabled",checked:n.analyticsEnabled,onCheckedChange:y=>u("analyticsEnabled",y)})]})]})]})]}),o.jsx(Nn,{value:"security",className:"space-y-6",children:o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(PN,{className:"h-5 w-5"}),"Security Settings"]})}),o.jsxs(me,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"maintenanceMode",children:"Maintenance Mode"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Temporarily disable public access"})]}),o.jsx(vs,{id:"maintenanceMode",checked:n.maintenanceMode,onCheckedChange:y=>u("maintenanceMode",y)})]}),o.jsx(bs,{}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"maxUsers",children:"Max Users"}),o.jsx(Fe,{id:"maxUsers",type:"number",value:n.maxUsers,onChange:y=>u("maxUsers",parseInt(y.target.value))})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"storageLimit",children:"Storage Limit (GB)"}),o.jsx(Fe,{id:"storageLimit",type:"number",value:n.storageLimit,onChange:y=>u("storageLimit",parseInt(y.target.value))})]})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"apiEndpoint",children:"API Endpoint"}),o.jsx(Fe,{id:"apiEndpoint",value:n.apiEndpoint,onChange:y=>u("apiEndpoint",y.target.value)})]})]})]})}),o.jsxs(Nn,{value:"database",className:"space-y-6",children:[o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(ko,{className:"h-5 w-5"}),"Database Configuration"]})}),o.jsx(me,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"databaseHost",children:"Database Host"}),o.jsx(Fe,{id:"databaseHost",value:n.databaseHost,onChange:y=>u("databaseHost",y.target.value)})]}),o.jsxs("div",{children:[o.jsx(ke,{htmlFor:"backupFrequency",children:"Backup Frequency"}),o.jsxs(en,{value:n.backupFrequency,onValueChange:y=>u("backupFrequency",y),children:[o.jsx(nn,{children:o.jsx(tn,{})}),o.jsxs(rn,{children:[o.jsx(Ie,{value:"hourly",children:"Hourly"}),o.jsx(Ie,{value:"daily",children:"Daily"}),o.jsx(Ie,{value:"weekly",children:"Weekly"}),o.jsx(Ie,{value:"monthly",children:"Monthly"})]})]})]})]})})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"Database Status"})}),o.jsx(me,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Total Records"}),o.jsx(Qe,{variant:"outline",children:Rr.totalRecords.toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Storage Used"}),o.jsxs(Qe,{variant:"outline",children:[Rr.storageUsed," GB"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Last Backup"}),o.jsx(Qe,{variant:"outline",children:Rr.lastBackup})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm",children:"Active Connections"}),o.jsx(Qe,{variant:"outline",children:Rr.databaseConnections})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ie,{variant:"outline",className:"w-full",onClick:g,children:[o.jsx(ko,{className:"h-4 w-4 mr-2"}),"Run Backup"]}),o.jsxs(ie,{variant:"outline",className:"w-full",onClick:x,children:[o.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Optimize Database"]}),o.jsxs(zr,{children:[o.jsx(Br,{asChild:!0,children:o.jsxs(ie,{variant:"outline",className:"w-full",children:[o.jsx(px,{className:"h-4 w-4 mr-2"}),"Clear Cache"]})}),o.jsxs(Vr,{children:[o.jsxs(Wr,{children:[o.jsx(Kr,{children:"Clear Cache"}),o.jsx(qr,{children:"This will clear all cached data. This action may temporarily slow down the system while the cache rebuilds."})]}),o.jsxs(Hr,{children:[o.jsx(Qr,{children:"Cancel"}),o.jsx(Gr,{onClick:m,children:"Clear Cache"})]})]})]})]})]})})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"Database Schema Inspector"})}),o.jsx(me,{children:o.jsx(PA,{})})]})]}),o.jsxs(Nn,{value:"system",className:"space-y-6",children:[o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(EC,{className:"h-5 w-5"}),"System Performance"]})}),o.jsx(me,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-semibold",children:Rr.uptime}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-semibold",children:Rr.activeUsers}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Users"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-semibold",children:[Rr.serverLoad,"%"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Server Load"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-semibold",children:[Rr.memoryUsage,"%"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Memory Usage"})]})]})})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"System Information"})}),o.jsx(me,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Application Version"}),o.jsx("p",{className:"text-muted-foreground",children:"v2.1.4"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Database Version"}),o.jsx("p",{className:"text-muted-foreground",children:"PostgreSQL 15.2"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Server OS"}),o.jsx("p",{className:"text-muted-foreground",children:"Ubuntu 22.04 LTS"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Node.js Version"}),o.jsx("p",{className:"text-muted-foreground",children:"v18.17.1"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Last Update"}),o.jsx("p",{className:"text-muted-foreground",children:"2024-12-15"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Environment"}),o.jsx("p",{className:"text-muted-foreground",children:"Production"})]})]})})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"Language Support"})}),o.jsx(me,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(ke,{children:"Supported Languages"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.supportedLanguages.map((y,_)=>o.jsx(Qe,{variant:"outline",children:y},_))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Fe,{placeholder:"Add new language",className:"flex-1"}),o.jsx(ie,{variant:"outline",children:"Add"})]})]})})]})]})]})]})}function OA(){const[n,t]=w.useState({tourEngagement:[],popularLocations:[],deviceBreakdown:[],timeSpentData:[],completionRates:[]}),[r,i]=w.useState(!0),[a,c]=w.useState("7d");w.useEffect(()=>{u()},[a]);const u=async()=>{try{if(i(!0),!Pe()){const O=y(a),F=f(O),re=p(O),Q=g(O),se=m(O),oe=x(O);t({tourEngagement:F,popularLocations:re,deviceBreakdown:Q,timeSpentData:se,completionRates:oe});return}const j=new Date,b=new Date;switch(a){case"7d":b.setDate(j.getDate()-7);break;case"30d":b.setDate(j.getDate()-30);break;case"90d":b.setDate(j.getDate()-90);break}const{data:C}=await ve.from("tour_visits").select(`
          *,
          tours(name),
          buildings(name)
        `).gte("created_at",b.toISOString()).lte("created_at",j.toISOString()),{data:k}=await ve.from("tour_visits").select(`
          building_id,
          buildings(name)
        `).gte("created_at",b.toISOString()),E=f(C||[]),R=p(k||[]),D=g(C||[]),U=m(C||[]),H=x(C||[]);t({tourEngagement:E,popularLocations:R,deviceBreakdown:D,timeSpentData:U,completionRates:H})}catch(j){console.error("Error loading analytics:",j)}finally{i(!1)}},f=j=>{const b={};return j.forEach(C=>{const k=new Date(C.created_at).toLocaleDateString();b[k]||(b[k]={date:k,visits:0,completions:0}),b[k].visits++,C.completed&&b[k].completions++}),Object.values(b).sort((C,k)=>new Date(C.date)-new Date(k.date))},p=j=>{const b={};return j.forEach(C=>{const k=C.buildings?.name||"Unknown Building";b[k]||(b[k]={name:k,visits:0}),b[k].visits++}),Object.values(b).sort((C,k)=>k.visits-C.visits).slice(0,10)},g=j=>{const b={};return j.forEach(C=>{const k=C.device_type||"unknown";b[k]||(b[k]={type:k,count:0}),b[k].count++}),Object.values(b)},m=j=>{const b=j.filter(E=>E.visit_duration).map(E=>Math.floor(E.visit_duration/60)),C=b.length>0?Math.floor(b.reduce((E,R)=>E+R,0)/b.length):0,k={"0-5 min":b.filter(E=>E<=5).length,"5-15 min":b.filter(E=>E>5&&E<=15).length,"15-30 min":b.filter(E=>E>15&&E<=30).length,"30+ min":b.filter(E=>E>30).length};return{avgDuration:C,ranges:k}},x=j=>{const b=j.length,C=j.filter(E=>E.completed).length,k=b>0?Math.floor(C/b*100):0;return{total:b,completed:C,completionRate:k}},y=j=>{const b=j==="7d"?7:j==="30d"?30:90,C=[],k=["Main Library","Student Center","Engineering Building","Science Complex"],E=["mobile","desktop","tablet"];for(let R=0;R<150;R++){const D=Math.floor(Math.random()*b);C.push({id:R,created_at:new Date(Date.now()-D*24*60*60*1e3).toISOString(),completed:Math.random()>.3,visit_duration:Math.floor(Math.random()*1800)+300,device_type:E[Math.floor(Math.random()*E.length)],buildings:{name:k[Math.floor(Math.random()*k.length)]}})}return C},_=j=>{switch(j.toLowerCase()){case"mobile":return Hg;case"tablet":return DN;case"desktop":return Vg;default:return Vg}};return r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Analytics Dashboard"}),o.jsx("div",{className:"h-10 w-32 bg-gray-200 rounded animate-pulse"})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[1,2,3,4].map(j=>o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx("div",{className:"h-5 bg-gray-200 rounded animate-pulse"})}),o.jsxs(me,{children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse mb-2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 animate-pulse"})]})]},j))})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-semibold",children:"Analytics Dashboard"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex rounded-lg border",children:[o.jsx(ie,{variant:a==="7d"?"default":"ghost",size:"sm",onClick:()=>c("7d"),className:"rounded-r-none",children:"7 Days"}),o.jsx(ie,{variant:a==="30d"?"default":"ghost",size:"sm",onClick:()=>c("30d"),className:"rounded-none border-x-0",children:"30 Days"}),o.jsx(ie,{variant:a==="90d"?"default":"ghost",size:"sm",onClick:()=>c("90d"),className:"rounded-l-none",children:"90 Days"})]}),o.jsx(ie,{variant:"outline",size:"sm",onClick:u,children:o.jsx(Fi,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs(pe,{children:[o.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(He,{className:"text-sm font-medium",children:"Total Visits"}),o.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(me,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n.tourEngagement.reduce((j,b)=>j+b.visits,0)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last ",a==="7d"?"7":a==="30d"?"30":"90"," days"]})]})]}),o.jsxs(pe,{children:[o.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(He,{className:"text-sm font-medium",children:"Completion Rate"}),o.jsx(Ul,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(me,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[n.completionRates.completionRate,"%"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.completionRates.completed," of ",n.completionRates.total," completed"]})]})]}),o.jsxs(pe,{children:[o.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(He,{className:"text-sm font-medium",children:"Avg. Time Spent"}),o.jsx($l,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(me,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[n.timeSpentData.avgDuration,"m"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Average per visit"})]})]}),o.jsxs(pe,{children:[o.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(He,{className:"text-sm font-medium",children:"Active Locations"}),o.jsx(kn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(me,{children:[o.jsx("div",{className:"text-2xl font-bold",children:n.popularLocations.length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Buildings with visits"})]})]})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"Daily Tour Activity"})}),o.jsx(me,{children:o.jsx("div",{className:"space-y-4",children:n.tourEngagement.length>0?n.tourEngagement.slice(-7).map((j,b)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:j.date}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Qe,{variant:"outline",className:"text-xs",children:[j.visits," visits"]}),o.jsxs(Qe,{variant:"secondary",className:"text-xs",children:[j.completions," completed"]})]})]},b)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Ll,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No tour data available"})]})})})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"Popular Locations"})}),o.jsx(me,{children:o.jsx("div",{className:"space-y-3",children:n.popularLocations.length>0?n.popularLocations.slice(0,6).map((j,b)=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full text-xs flex items-center justify-center",children:b+1}),o.jsx("span",{className:"text-sm",children:j.name})]}),o.jsxs(Qe,{variant:"outline",children:[j.visits," visits"]})]},b)):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(kn,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No location data available"})]})})})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"Device Usage"})}),o.jsx(me,{children:o.jsx("div",{className:"space-y-3",children:n.deviceBreakdown.length>0?n.deviceBreakdown.map((j,b)=>{const C=_(j.type),k=n.deviceBreakdown.reduce((R,D)=>R+D.count,0),E=k>0?Math.round(j.count/k*100):0;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(C,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm capitalize",children:j.type})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:[E,"%"]}),o.jsx(Qe,{variant:"outline",children:j.count})]})]},b)}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Hg,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No device data available"})]})})})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"Visit Duration"})}),o.jsx(me,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[n.timeSpentData.avgDuration,"m"]}),o.jsx("p",{className:"text-sm text-blue-600",children:"Average Duration"})]}),o.jsx(bs,{}),o.jsx("div",{className:"space-y-3",children:Object.entries(n.timeSpentData.ranges||{}).map(([j,b],C)=>{const k=Object.values(n.timeSpentData.ranges||{}).reduce((R,D)=>R+D,0),E=k>0?Math.round(b/k*100):0;return o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm",children:j}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:[E,"%"]}),o.jsx(Qe,{variant:"outline",children:b})]})]},C)})})]})})]})]}),o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"Insights & Recommendations"})}),o.jsx(me,{children:o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ul,{className:"h-5 w-5 text-green-600"}),o.jsx("span",{className:"font-medium text-green-800",children:"High Engagement"})]}),o.jsxs("p",{className:"text-sm text-green-700",children:[n.completionRates.completionRate,"% completion rate indicates strong user engagement"]})]}),o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(jo,{className:"h-5 w-5 text-blue-600"}),o.jsx("span",{className:"font-medium text-blue-800",children:"Popular Routes"})]}),o.jsxs("p",{className:"text-sm text-blue-700",children:["Focus content development on top ",Math.min(3,n.popularLocations.length)," visited locations"]})]}),o.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx($l,{className:"h-5 w-5 text-purple-600"}),o.jsx("span",{className:"font-medium text-purple-800",children:"Optimal Duration"})]}),o.jsxs("p",{className:"text-sm text-purple-700",children:["Average ",n.timeSpentData.avgDuration,"m visit time suggests good content pacing"]})]})]})})]})]})}function IA(){const[n,t]=w.useState({database:"checking",server:"checking",storage:"checking",api:"checking"}),[r,i]=w.useState(!1),[a,c]=w.useState(null);w.useEffect(()=>{u()},[]);const u=async()=>{i(!0);try{const y=await f(),_=await p();t({database:y,server:"operational",storage:_,api:"operational"}),c(new Date)}catch(y){console.error("Error checking system status:",y),t({database:"error",server:"error",storage:"warning",api:"error"})}finally{i(!1)}},f=async()=>{if(!Pe())return Promise.resolve("warning");try{const y=Ge("users");if(!y)return console.warn("Users table not found in mappings"),"warning";const{count:_,error:j}=await ve.from(y).select("*",{count:"exact",head:!0});if(j)throw j;return console.log(` Database operational - ${y} table accessible (${_} records)`),"operational"}catch(y){return console.error("Database check failed:",y),"error"}},p=async()=>{if(!Pe())return Promise.resolve("operational");try{const y=Ge("content_items");if(!y)return console.warn("Content items table not found in mappings"),"warning";const{count:_,error:j}=await ve.from(y).select("*",{count:"exact",head:!0});if(j)throw j;console.log(` Storage operational - ${y} table accessible (${_} content items)`);const b=75;return b>90,b>80,"operational"}catch(y){return console.error("Storage check failed:",y),"warning"}},g=y=>{switch(y){case"operational":return"bg-green-500";case"warning":return"bg-yellow-500";case"error":return"bg-red-500";case"checking":return"bg-gray-400";default:return"bg-gray-400"}},m=y=>{switch(y){case"operational":return"Operational";case"warning":return"Warning";case"error":return"Error";case"checking":return"Checking...";default:return"Unknown"}},x=({icon:y,label:_,status:j,details:b})=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(y,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm",children:_})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[b&&o.jsx("span",{className:"text-xs text-muted-foreground",children:b}),o.jsx(Qe,{variant:"outline",className:`${g(j)} border-none text-white`,children:m(j)})]})]});return o.jsxs(pe,{children:[o.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0",children:[o.jsxs(He,{className:"flex items-center gap-2",children:[o.jsx(Yl,{className:"h-4 w-4 text-muted-foreground"}),"System Status"]}),o.jsx(ie,{variant:"ghost",size:"sm",onClick:u,disabled:r,className:"h-8 w-8 p-0",children:o.jsx(Fi,{className:`h-4 w-4 ${r?"animate-spin":""}`})})]}),o.jsxs(me,{className:"space-y-3",children:[o.jsx(x,{icon:ko,label:"Database Connection",status:n.database,details:n.database==="operational"?"Connected":n.database==="warning"?"Demo Mode":""}),o.jsx(x,{icon:EN,label:"Server Status",status:n.server,details:n.server==="operational"?"Online":""}),o.jsx(x,{icon:px,label:"Media Storage",status:n.storage,details:n.storage==="warning"?"75% used":""}),o.jsx(x,{icon:VN,label:"API Service",status:n.api,details:n.api==="operational"?"Active":""}),o.jsx(bs,{}),a&&o.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:["Last checked: ",a.toLocaleTimeString()]}),o.jsx(ie,{variant:"outline",className:"w-full",onClick:()=>window.open("/settings","_self"),children:"System Settings"})]})]})}const DA=[{id:"dashboard",label:"Dashboard",icon:oN},{id:"users",label:"User Management",icon:Ui},{id:"buildings",label:"Buildings & Rooms",icon:kn},{id:"content",label:"Content Management",icon:bo},{id:"tours",label:"Tours & Trails",icon:jo},{id:"qrcodes",label:"QR Code Manager",icon:rr},{id:"analytics",label:"Analytics",icon:Ll},{id:"settings",label:"Settings",icon:Yl}],MA=()=>o.jsx(lA,{}),LA=()=>o.jsx(vA,{}),$A=()=>o.jsx(xA,{}),FA=()=>o.jsx(yA,{}),UA=()=>o.jsx(wA,{}),zA=()=>o.jsx(OA,{}),BA=()=>o.jsx(AA,{});function VA(){const[n,t]=w.useState("dashboard"),[r,i]=w.useState([]),[a,c]=w.useState(!1),[u,f]=w.useState(!1),[p,g]=w.useState({totalUsers:0,buildingsMapped:0,contentItems:0,tourViews:0}),[m,x]=w.useState([]),[y,_]=w.useState(!0),[j,b]=w.useState(!1),C=r.filter(Q=>!Q.read).length;w.useEffect(()=>{(async()=>{try{if(_(!0),console.log(" Loading dashboard data..."),Pe()){console.log(" Initializing database...");try{await Kv(),await a1(),console.log(" Database initialization completed")}catch(ae){console.warn(" Database initialization warning:",ae.message)}}const[se,oe,fe]=await Promise.all([Xd(),Zd(8),Og()]);console.log(" Stats loaded:",se),console.log(" Activities loaded:",oe?.length||0,"items"),console.log(" Notifications loaded:",fe?.length||0,"items"),g(se),x(oe),i(fe)}catch(se){console.error(" Error loading data:",se),g({totalUsers:0,buildingsMapped:0,contentItems:0,tourViews:0}),x([]),i([])}finally{_(!1)}})()},[]);const k=async Q=>{await f1(Q)&&i(r.map(oe=>oe.id===Q?{...oe,read:!0}:oe))},E=async()=>{await h1()&&i(r.map(se=>({...se,read:!0})))},R=async()=>{b(!0);try{const[Q,se,oe]=await Promise.all([Xd(),Zd(8),Og()]);console.log(" Refreshed data:",{users:Q.totalUsers,buildings:Q.buildingsMapped,content:Q.contentItems,activities:se?.length||0}),g(Q),x(se),i(oe)}catch(Q){console.error(" Error refreshing data:",Q)}finally{b(!1)}},D=()=>{console.log("Logout clicked")},U=()=>{console.log("Profile clicked"),t("settings")},H=()=>{f(!u)};w.useEffect(()=>{const Q=se=>{(se.ctrlKey||se.metaKey)&&se.key==="b"&&(se.preventDefault(),H()),se.key==="Escape"&&!u&&window.innerWidth<768&&f(!0)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[u]);const O=({icon:Q,title:se,value:oe,description:fe,color:ae,loading:q=!1})=>o.jsxs(pe,{className:"relative overflow-hidden",children:[o.jsxs(Be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(He,{className:"text-sm font-medium",children:se}),o.jsx("div",{className:`w-8 h-8 ${ae} rounded-lg flex items-center justify-center text-white`,children:o.jsx(Q,{className:"h-4 w-4"})})]}),o.jsx(me,{children:q?o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3 animate-pulse"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-2xl font-bold",children:oe.toLocaleString()}),o.jsx("p",{className:"text-xs text-muted-foreground",children:fe})]})})]}),F=({icon:Q,label:se,color:oe,onClick:fe})=>o.jsxs(ie,{className:`${oe} text-white hover:opacity-90 h-12 flex items-center gap-2`,onClick:fe,size:"default",children:[o.jsx(Q,{className:"h-4 w-4"}),se]}),re=()=>{if(n==="debug-test")return o.jsx(KN,{});switch(n){case"dashboard":return o.jsxs("div",{className:"space-y-6",children:[o.jsx(pe,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-none",children:o.jsxs(me,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h1",{className:"text-2xl font-semibold",children:"Welcome to iTOURu Virtual Tour System"}),o.jsx(kn,{className:"h-6 w-6"})]}),o.jsxs(ie,{variant:"secondary",size:"sm",onClick:R,disabled:j,className:"bg-white/20 hover:bg-white/30 text-white border-white/30",children:[o.jsx(Ul,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),j?"Refreshing...":"Refresh Data"]})]}),o.jsxs("p",{className:"text-blue-100",children:["Manage your virtual campus tour platform with powerful CMS tools. Create immersive tour experiences, upload content, generate QR codes for locations, and track visitor engagement across your campus tours. ",o.jsx("strong",{children:"Now with live Supabase data!"})]})]})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsx(O,{icon:Ui,title:"Total Users",value:y?0:p.totalUsers,description:"Tour visitors",color:"bg-blue-500",loading:y}),o.jsx(O,{icon:kn,title:"Buildings Mapped",value:y?0:p.buildingsMapped,description:"Campus locations",color:"bg-green-500",loading:y}),o.jsx(O,{icon:of,title:"Content Items",value:y?0:p.contentItems,description:"Media files",color:"bg-purple-500",loading:y}),o.jsx(O,{icon:Ul,title:"Tour Views",value:y?0:p.tourViews,description:"Engagement metrics",color:"bg-orange-500",loading:y})]}),y&&o.jsx(pe,{className:`${Pe()?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200":"bg-gradient-to-r from-blue-50 to-sky-50 border-blue-200"}`,children:o.jsxs(me,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:`w-2 h-2 ${Pe()?"bg-green-500":"bg-blue-500"} rounded-full animate-pulse`}),o.jsx("h3",{className:`font-semibold ${Pe()?"text-green-800":"text-blue-800"}`,children:Pe()?"Supabase Backend Connected - Auto-Detecting Schema":"Demo Mode Active"})]}),o.jsx("p",{className:`text-sm ${Pe()?"text-green-700":"text-blue-700"} mb-3`,children:Pe()?"Loading real data from your Supabase database. Automatically detecting table and column names to ensure compatibility with your schema. Check the console for detection details.":"Running with realistic mock data to demonstrate the iTOURu dashboard functionality. All features are fully interactive with simulated data that updates dynamically."}),o.jsx("div",{className:`flex items-center gap-2 text-xs ${Pe()?"text-green-600":"text-blue-600"}`,children:Pe()?o.jsxs(o.Fragment,{children:[o.jsx("span",{children:" Auto-detecting schema"}),o.jsx("span",{children:""}),o.jsx("span",{children:" Inserting sample data"}),o.jsx("span",{children:""}),o.jsx("span",{children:" Normalizing formats"})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:" Mock dashboard data"}),o.jsx("span",{children:""}),o.jsx("span",{children:" Interactive components"}),o.jsx("span",{children:""}),o.jsx("span",{children:" Full feature preview"})]})})]})}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"Recent Activities"})}),o.jsx(me,{className:"space-y-4",children:y?o.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(Q=>o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4 animate-pulse"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 animate-pulse"})]})]},Q))}):m.length>0?m.map(Q=>{const se={Users:Ui,Upload:Kg,QrCode:rr,Route:jo,Building:kn,Activity:bo}[Q.icon]||bo;return o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`w-8 h-8 ${Q.color} rounded-full flex items-center justify-center text-white flex-shrink-0`,children:o.jsx(se,{className:"h-4 w-4"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium",children:Q.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:Q.description}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q.time})]})]},Q.id)}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(bo,{className:"h-12 w-12 mx-auto mb-4 opacity-20"}),o.jsx("p",{children:"No recent activities"}),o.jsx(ie,{variant:"outline",size:"sm",className:"mt-4",onClick:R,children:"Load Sample Data"})]})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(pe,{children:[o.jsx(Be,{children:o.jsx(He,{children:"Quick Actions"})}),o.jsxs(me,{className:"space-y-3",children:[o.jsx(F,{icon:Mr,label:"Add Building",color:"bg-green-500",onClick:()=>t("buildings")}),o.jsx(F,{icon:Kg,label:"Upload Media",color:"bg-blue-500",onClick:()=>t("content")}),o.jsx(F,{icon:rr,label:"Generate QR",color:"bg-purple-500",onClick:()=>t("qrcodes")}),o.jsx(F,{icon:Ll,label:"View Reports",color:"bg-orange-500",onClick:()=>t("analytics")})]})]}),o.jsx(IA,{})]})]})]});case"users":return o.jsx(MA,{});case"buildings":return o.jsx(LA,{});case"content":return o.jsx($A,{});case"tours":return o.jsx(FA,{});case"qrcodes":return o.jsx(UA,{});case"analytics":return o.jsx(zA,{});case"settings":return o.jsx(BA,{});default:return o.jsx("div",{children:"Page not found"})}};return o.jsx(nw,{children:o.jsxs("div",{className:"flex h-screen bg-gray-50",children:[!u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:H}),o.jsxs("div",{className:`${u?"w-16":"w-64"} bg-white shadow-sm border-r transition-all duration-300 ease-in-out relative z-50 ${u?"":"md:relative md:translate-x-0"} ${u?"":"fixed md:relative left-0 top-0 h-full md:h-auto"}`,children:[o.jsx("div",{className:`${u?"p-3":"p-6"} border-b`,children:o.jsxs("div",{className:`flex items-center ${u?"justify-center":"space-x-2"}`,children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center text-white flex-shrink-0",children:o.jsx(kn,{className:"h-5 w-5"})}),!u&&o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold",children:"iTOURu"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Virtual Tours"})]})]})}),o.jsx("div",{className:`${u?"p-2":"px-4 py-2"}`,children:o.jsx(ie,{variant:"ghost",size:"sm",onClick:H,className:`${u?"w-full":""} hover:bg-gray-100 transition-all duration-200`,title:u?"Expand sidebar (Ctrl+B)":"Collapse sidebar (Ctrl+B)",children:u?o.jsx($C,{className:"h-4 w-4 transition-transform duration-200"}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(MC,{className:"h-4 w-4 transition-transform duration-200"}),o.jsx("span",{className:"text-sm",children:"Collapse"})]})})}),o.jsx("nav",{className:`${u?"px-2":"px-4"} space-y-1`,children:DA.map(Q=>{const se=n===Q.id,oe=o.jsxs("button",{onClick:()=>t(Q.id),className:`w-full flex items-center ${u?"justify-center p-3":"space-x-3 px-3 py-2"} rounded-lg text-left transition-all duration-200 ${se?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"} ${se&&!u?"border-r-2 border-blue-700":""} ${se&&u?"bg-blue-50 text-blue-700 relative":""}`,children:[o.jsx(Q.icon,{className:"h-5 w-5 flex-shrink-0"}),!u&&o.jsx("span",{children:Q.label}),se&&u&&o.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-blue-700 rounded-l-sm"})]},Q.id);return u?o.jsxs(WR,{children:[o.jsx(HR,{asChild:!0,children:oe}),o.jsx(KR,{side:"right",children:o.jsx("p",{children:Q.label})})]},Q.id):oe})})]}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("header",{className:"bg-white shadow-sm border-b px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(ie,{variant:"ghost",size:"sm",onClick:H,className:"md:hidden",children:o.jsx(dN,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-semibold capitalize",children:n.replace(/([A-Z])/g," $1")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Wednesday, 19/06/2025 12:50:10 AM"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(F2,{open:a,onOpenChange:c,children:[o.jsx(U2,{asChild:!0,children:o.jsxs(ie,{variant:"ghost",size:"sm",className:"relative p-2",children:[o.jsx(fx,{className:"h-5 w-5 text-gray-500"}),C>0&&o.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:C})]})}),o.jsxs(z2,{className:"w-80 p-0",align:"end",children:[o.jsx("div",{className:"border-b p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"text-sm font-semibold",children:"Notifications"}),C>0&&o.jsx(ie,{variant:"ghost",size:"sm",onClick:E,className:"text-xs",children:"Mark all read"})]})}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications"}):r.map(Q=>o.jsx("div",{className:`p-4 border-b last:border-b-0 hover:bg-gray-50 cursor-pointer ${Q.read?"":"bg-blue-50"}`,onClick:()=>k(Q.id),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h5",{className:"text-sm font-medium",children:Q.title}),!Q.read&&o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q.description}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q.time})]}),o.jsx(Qe,{variant:"outline",className:`text-xs ${Q.priority==="high"?"border-red-200 text-red-700":Q.priority==="medium"?"border-yellow-200 text-yellow-700":"border-gray-200 text-gray-700"}`,children:Q.priority})]})},Q.id))}),o.jsx("div",{className:"border-t p-2",children:o.jsx(ie,{variant:"ghost",className:"w-full text-xs",onClick:()=>t("settings"),children:"View all notifications"})})]})]}),o.jsxs(vR,{children:[o.jsx(xR,{asChild:!0,children:o.jsx(ie,{variant:"ghost",className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white hover:bg-green-600",children:"A"})}),o.jsxs(yR,{className:"w-56",align:"end",children:[o.jsx(wR,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"text-sm font-medium",children:"Admin User"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@itouru.edu"})]})}),o.jsx(vv,{}),o.jsxs(Ti,{onClick:U,children:[o.jsx(HC,{className:"mr-2 h-4 w-4"}),"Profile Settings"]}),o.jsxs(Ti,{onClick:()=>t("analytics"),children:[o.jsx(Ll,{className:"mr-2 h-4 w-4"}),"Dashboard Analytics"]}),o.jsxs(Ti,{onClick:()=>t("settings"),children:[o.jsx(Yl,{className:"mr-2 h-4 w-4"}),"System Settings"]}),o.jsxs(Ti,{children:[o.jsx(VC,{className:"mr-2 h-4 w-4"}),"Help & Support"]}),o.jsx(vv,{}),o.jsxs(Ti,{onClick:D,className:"text-red-600",children:[o.jsx(lN,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]})]})}),o.jsx("main",{className:"flex-1 overflow-auto p-6",children:re()})]})]})})}Lj.createRoot(document.getElementById("root")).render(o.jsx(VA,{}));
